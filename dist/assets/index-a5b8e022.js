var LD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var o8=LD((p8,yd)=>{function D1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function b1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N1={exports:{}},vf={},M1={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=Symbol.for("react.element"),VD=Symbol.for("react.portal"),FD=Symbol.for("react.fragment"),UD=Symbol.for("react.strict_mode"),jD=Symbol.for("react.profiler"),BD=Symbol.for("react.provider"),zD=Symbol.for("react.context"),$D=Symbol.for("react.forward_ref"),WD=Symbol.for("react.suspense"),HD=Symbol.for("react.memo"),YD=Symbol.for("react.lazy"),ow=Symbol.iterator;function GD(t){return t===null||typeof t!="object"?null:(t=ow&&t[ow]||t["@@iterator"],typeof t=="function"?t:null)}var O1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L1=Object.assign,V1={};function rl(t,e,n){this.props=t,this.context=e,this.refs=V1,this.updater=n||O1}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F1(){}F1.prototype=rl.prototype;function Ly(t,e,n){this.props=t,this.context=e,this.refs=V1,this.updater=n||O1}var Vy=Ly.prototype=new F1;Vy.constructor=Ly;L1(Vy,rl.prototype);Vy.isPureReactComponent=!0;var aw=Array.isArray,U1=Object.prototype.hasOwnProperty,Fy={current:null},j1={key:!0,ref:!0,__self:!0,__source:!0};function B1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)U1.call(e,r)&&!j1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ec,type:t,key:s,ref:o,props:i,_owner:Fy.current}}function KD(t,e){return{$$typeof:Ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ec}function qD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lw=/\/+/g;function Bp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qD(""+t.key):e.toString(36)}function $h(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ec:case VD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Bp(o,0):r,aw(i)?(n="",t!=null&&(n=t.replace(lw,"$&/")+"/"),$h(i,e,n,"",function(c){return c})):i!=null&&(Uy(i)&&(i=KD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",aw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Bp(s,a);o+=$h(s,e,n,l,i)}else if(l=GD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Bp(s,a++),o+=$h(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hh(t,e,n){if(t==null)return t;var r=[],i=0;return $h(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},Wh={transition:null},XD={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:Wh,ReactCurrentOwner:Fy};function z1(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:hh,forEach:function(t,e,n){hh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hh(t,function(){e++}),e},toArray:function(t){return hh(t,function(e){return e})||[]},only:function(t){if(!Uy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=rl;Se.Fragment=FD;Se.Profiler=jD;Se.PureComponent=Ly;Se.StrictMode=UD;Se.Suspense=WD;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XD;Se.act=z1;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=L1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)U1.call(e,l)&&!j1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ec,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:zD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BD,_context:t},t.Consumer=t};Se.createElement=B1;Se.createFactory=function(t){var e=B1.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:$D,render:t}};Se.isValidElement=Uy;Se.lazy=function(t){return{$$typeof:YD,_payload:{_status:-1,_result:t},_init:QD}};Se.memo=function(t,e){return{$$typeof:HD,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Wh.transition;Wh.transition={};try{t()}finally{Wh.transition=e}};Se.unstable_act=z1;Se.useCallback=function(t,e){return yn.current.useCallback(t,e)};Se.useContext=function(t){return yn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return yn.current.useEffect(t,e)};Se.useId=function(){return yn.current.useId()};Se.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return yn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};Se.useRef=function(t){return yn.current.useRef(t)};Se.useState=function(t){return yn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return yn.current.useTransition()};Se.version="18.3.1";M1.exports=Se;var D=M1.exports;const At=b1(D),JD=D1({__proto__:null,default:At},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZD=D,eb=Symbol.for("react.element"),tb=Symbol.for("react.fragment"),nb=Object.prototype.hasOwnProperty,rb=ZD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ib={key:!0,ref:!0,__self:!0,__source:!0};function $1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nb.call(e,r)&&!ib.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eb,type:t,key:s,ref:o,props:i,_owner:rb.current}}vf.Fragment=tb;vf.jsx=$1;vf.jsxs=$1;N1.exports=vf;var jy=N1.exports;const vd=jy.Fragment,N=jy.jsx,q=jy.jsxs;var Gm={},W1={exports:{}},Un={},H1={exports:{}},Y1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ae){var ue=Y.length;Y.push(ae);e:for(;0<ue;){var Ae=ue-1>>>1,Pe=Y[Ae];if(0<i(Pe,ae))Y[Ae]=ae,Y[ue]=Pe,ue=Ae;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ae=Y[0],ue=Y.pop();if(ue!==ae){Y[0]=ue;e:for(var Ae=0,Pe=Y.length,Be=Pe>>>1;Ae<Be;){var ve=2*(Ae+1)-1,me=Y[ve],Qe=ve+1,Dt=Y[Qe];if(0>i(me,ue))Qe<Pe&&0>i(Dt,me)?(Y[Ae]=Dt,Y[Qe]=ue,Ae=Qe):(Y[Ae]=me,Y[ve]=ue,Ae=ve);else if(Qe<Pe&&0>i(Dt,ue))Y[Ae]=Dt,Y[Qe]=ue,Ae=Qe;else break e}}return ae}function i(Y,ae){var ue=Y.sortIndex-ae.sortIndex;return ue!==0?ue:Y.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,g=!1,_=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var ae=n(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=Y)r(c),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=n(c)}}function b(Y){if(I=!1,E(Y),!_)if(n(l)!==null)_=!0,mt(U);else{var ae=n(c);ae!==null&&Ie(b,ae.startTime-Y)}}function U(Y,ae){_=!1,I&&(I=!1,T(v),v=-1),g=!0;var ue=p;try{for(E(ae),d=n(l);d!==null&&(!(d.expirationTime>ae)||Y&&!C());){var Ae=d.callback;if(typeof Ae=="function"){d.callback=null,p=d.priorityLevel;var Pe=Ae(d.expirationTime<=ae);ae=t.unstable_now(),typeof Pe=="function"?d.callback=Pe:d===n(l)&&r(l),E(ae)}else r(l);d=n(l)}if(d!==null)var Be=!0;else{var ve=n(c);ve!==null&&Ie(b,ve.startTime-ae),Be=!1}return Be}finally{d=null,p=ue,g=!1}}var x=!1,R=null,v=-1,S=5,P=-1;function C(){return!(t.unstable_now()-P<S)}function O(){if(R!==null){var Y=t.unstable_now();P=Y;var ae=!0;try{ae=R(!0,Y)}finally{ae?A():(x=!1,R=null)}}else x=!1}var A;if(typeof y=="function")A=function(){y(O)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,xe=de.port2;de.port1.onmessage=O,A=function(){xe.postMessage(null)}}else A=function(){k(O,0)};function mt(Y){R=Y,x||(x=!0,A())}function Ie(Y,ae){v=k(function(){Y(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,mt(U))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var ae=3;break;default:ae=p}var ue=p;p=ae;try{return Y()}finally{p=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=p;p=Y;try{return ae()}finally{p=ue}},t.unstable_scheduleCallback=function(Y,ae,ue){var Ae=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ae+ue:Ae):ue=Ae,Y){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ue+Pe,Y={id:h++,callback:ae,priorityLevel:Y,startTime:ue,expirationTime:Pe,sortIndex:-1},ue>Ae?(Y.sortIndex=ue,e(c,Y),n(l)===null&&Y===n(c)&&(I?(T(v),v=-1):I=!0,Ie(b,ue-Ae))):(Y.sortIndex=Pe,e(l,Y),_||g||(_=!0,mt(U))),Y},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(Y){var ae=p;return function(){var ue=p;p=ae;try{return Y.apply(this,arguments)}finally{p=ue}}}})(Y1);H1.exports=Y1;var sb=H1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob=D,Vn=sb;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G1=new Set,Nu={};function bo(t,e){Ua(t,e),Ua(t+"Capture",e)}function Ua(t,e){for(Nu[t]=e,t=0;t<e.length;t++)G1.add(e[t])}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Km=Object.prototype.hasOwnProperty,ab=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uw={},cw={};function lb(t){return Km.call(cw,t)?!0:Km.call(uw,t)?!1:ab.test(t)?cw[t]=!0:(uw[t]=!0,!1)}function ub(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cb(t,e,n,r){if(e===null||typeof e>"u"||ub(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var By=/[\-:]([a-z])/g;function zy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(By,zy);qt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(By,zy);qt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(By,zy);qt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function $y(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cb(e,n,i,r)&&(n=null),r||i===null?lb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bi=ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),oa=Symbol.for("react.portal"),aa=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),qm=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),q1=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),Yy=Symbol.for("react.memo"),Qi=Symbol.for("react.lazy"),Q1=Symbol.for("react.offscreen"),hw=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=hw&&t[hw]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,zp;function Xl(t){if(zp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zp=e&&e[1]||""}return`
`+zp+t}var $p=!1;function Wp(t,e){if(!t||$p)return"";$p=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$p=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function hb(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=Wp(t.type,!1),t;case 11:return t=Wp(t.type.render,!1),t;case 1:return t=Wp(t.type,!0),t;default:return""}}function Jm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case aa:return"Fragment";case oa:return"Portal";case qm:return"Profiler";case Wy:return"StrictMode";case Qm:return"Suspense";case Xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q1:return(t.displayName||"Context")+".Consumer";case K1:return(t._context.displayName||"Context")+".Provider";case Hy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yy:return e=t.displayName||null,e!==null?e:Jm(t.type)||"Memo";case Qi:e=t._payload,t=t._init;try{return Jm(t(e))}catch{}}return null}function db(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jm(e);case 8:return e===Wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fb(t){var e=X1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fh(t){t._valueTracker||(t._valueTracker=fb(t))}function J1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _d(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zm(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Is(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z1(t,e){e=e.checked,e!=null&&$y(t,"checked",e,!1)}function eg(t,e){Z1(t,e);var n=Is(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tg(t,e.type,n):e.hasOwnProperty("defaultValue")&&tg(t,e.type,Is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tg(t,e,n){(e!=="number"||_d(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function Ra(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Is(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ng(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Jl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Is(n)}}function eI(t,e){var n=Is(e.value),r=Is(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ph,nI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ph=ph||document.createElement("div"),ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pb=["Webkit","ms","Moz","O"];Object.keys(fu).forEach(function(t){pb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fu[e]=fu[t]})});function rI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fu.hasOwnProperty(t)&&fu[t]?(""+e).trim():e+"px"}function iI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mb=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ig(t,e){if(e){if(mb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function sg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var og=null;function Gy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ag=null,ka=null,Aa=null;function gw(t){if(t=Ic(t)){if(typeof ag!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Sf(e),ag(t.stateNode,t.type,e))}}function sI(t){ka?Aa?Aa.push(t):Aa=[t]:ka=t}function oI(){if(ka){var t=ka,e=Aa;if(Aa=ka=null,gw(t),e)for(t=0;t<e.length;t++)gw(e[t])}}function aI(t,e){return t(e)}function lI(){}var Hp=!1;function uI(t,e,n){if(Hp)return t(e,n);Hp=!0;try{return aI(t,e,n)}finally{Hp=!1,(ka!==null||Aa!==null)&&(lI(),oI())}}function Ou(t,e){var n=t.stateNode;if(n===null)return null;var r=Sf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var lg=!1;if(Si)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){lg=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{lg=!1}function gb(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var pu=!1,wd=null,Ed=!1,ug=null,yb={onError:function(t){pu=!0,wd=t}};function vb(t,e,n,r,i,s,o,a,l){pu=!1,wd=null,gb.apply(yb,arguments)}function _b(t,e,n,r,i,s,o,a,l){if(vb.apply(this,arguments),pu){if(pu){var c=wd;pu=!1,wd=null}else throw Error(W(198));Ed||(Ed=!0,ug=c)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yw(t){if(No(t)!==t)throw Error(W(188))}function wb(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yw(i),t;if(s===r)return yw(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function hI(t){return t=wb(t),t!==null?dI(t):null}function dI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dI(t);if(e!==null)return e;t=t.sibling}return null}var fI=Vn.unstable_scheduleCallback,vw=Vn.unstable_cancelCallback,Eb=Vn.unstable_shouldYield,Tb=Vn.unstable_requestPaint,It=Vn.unstable_now,Sb=Vn.unstable_getCurrentPriorityLevel,Ky=Vn.unstable_ImmediatePriority,pI=Vn.unstable_UserBlockingPriority,Td=Vn.unstable_NormalPriority,Ib=Vn.unstable_LowPriority,mI=Vn.unstable_IdlePriority,_f=null,Or=null;function Pb(t){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(_f,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:Ab,Rb=Math.log,kb=Math.LN2;function Ab(t){return t>>>=0,t===0?32:31-(Rb(t)/kb|0)|0}var mh=64,gh=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Zl(a):(s&=o,s!==0&&(r=Zl(s)))}else o=n&~i,o!==0?r=Zl(o):s!==0&&(r=Zl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function Cb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Cb(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function cg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gI(){var t=mh;return mh<<=1,!(mh&4194240)&&(mh=64),t}function Yp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function Db(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function yI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vI,Qy,_I,wI,EI,hg=!1,yh=[],cs=null,hs=null,ds=null,Lu=new Map,Vu=new Map,Ji=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _w(t,e){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(e.pointerId)}}function Vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ic(e),e!==null&&Qy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Nb(t,e,n,r,i){switch(e){case"focusin":return cs=Vl(cs,t,e,n,r,i),!0;case"dragenter":return hs=Vl(hs,t,e,n,r,i),!0;case"mouseover":return ds=Vl(ds,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lu.set(s,Vl(Lu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vu.set(s,Vl(Vu.get(s)||null,t,e,n,r,i)),!0}return!1}function TI(t){var e=ro(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=cI(n),e!==null){t.blockedOn=e,EI(t.priority,function(){_I(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);og=r,n.target.dispatchEvent(r),og=null}else return e=Ic(n),e!==null&&Qy(e),t.blockedOn=n,!1;e.shift()}return!0}function ww(t,e,n){Hh(t)&&n.delete(e)}function Mb(){hg=!1,cs!==null&&Hh(cs)&&(cs=null),hs!==null&&Hh(hs)&&(hs=null),ds!==null&&Hh(ds)&&(ds=null),Lu.forEach(ww),Vu.forEach(ww)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,hg||(hg=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,Mb)))}function Fu(t){function e(i){return Fl(i,t)}if(0<yh.length){Fl(yh[0],t);for(var n=1;n<yh.length;n++){var r=yh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cs!==null&&Fl(cs,t),hs!==null&&Fl(hs,t),ds!==null&&Fl(ds,t),Lu.forEach(e),Vu.forEach(e),n=0;n<Ji.length;n++)r=Ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ji.length&&(n=Ji[0],n.blockedOn===null);)TI(n),n.blockedOn===null&&Ji.shift()}var Ca=bi.ReactCurrentBatchConfig,Id=!0;function Ob(t,e,n,r){var i=ze,s=Ca.transition;Ca.transition=null;try{ze=1,Xy(t,e,n,r)}finally{ze=i,Ca.transition=s}}function Lb(t,e,n,r){var i=ze,s=Ca.transition;Ca.transition=null;try{ze=4,Xy(t,e,n,r)}finally{ze=i,Ca.transition=s}}function Xy(t,e,n,r){if(Id){var i=dg(t,e,n,r);if(i===null)nm(t,e,r,Pd,n),_w(t,r);else if(Nb(i,t,e,n,r))r.stopPropagation();else if(_w(t,r),e&4&&-1<bb.indexOf(t)){for(;i!==null;){var s=Ic(i);if(s!==null&&vI(s),s=dg(t,e,n,r),s===null&&nm(t,e,r,Pd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nm(t,e,r,null,n)}}var Pd=null;function dg(t,e,n,r){if(Pd=null,t=Gy(r),t=ro(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pd=t,null}function SI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sb()){case Ky:return 1;case pI:return 4;case Td:case Ib:return 16;case mI:return 536870912;default:return 16}default:return 16}}var ss=null,Jy=null,Yh=null;function II(){if(Yh)return Yh;var t,e=Jy,n=e.length,r,i="value"in ss?ss.value:ss.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Yh=i.slice(t,1<r?1-r:void 0)}function Gh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vh(){return!0}function Ew(){return!1}function jn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vh:Ew,this.isPropagationStopped=Ew,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zy=jn(il),Sc=dt({},il,{view:0,detail:0}),Vb=jn(Sc),Gp,Kp,Ul,wf=dt({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ev,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ul&&(Ul&&t.type==="mousemove"?(Gp=t.screenX-Ul.screenX,Kp=t.screenY-Ul.screenY):Kp=Gp=0,Ul=t),Gp)},movementY:function(t){return"movementY"in t?t.movementY:Kp}}),Tw=jn(wf),Fb=dt({},wf,{dataTransfer:0}),Ub=jn(Fb),jb=dt({},Sc,{relatedTarget:0}),qp=jn(jb),Bb=dt({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),zb=jn(Bb),$b=dt({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wb=jn($b),Hb=dt({},il,{data:0}),Sw=jn(Hb),Yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kb[t])?!!e[t]:!1}function ev(){return qb}var Qb=dt({},Sc,{key:function(t){if(t.key){var e=Yb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ev,charCode:function(t){return t.type==="keypress"?Gh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xb=jn(Qb),Jb=dt({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iw=jn(Jb),Zb=dt({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ev}),eN=jn(Zb),tN=dt({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),nN=jn(tN),rN=dt({},wf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iN=jn(rN),sN=[9,13,27,32],tv=Si&&"CompositionEvent"in window,mu=null;Si&&"documentMode"in document&&(mu=document.documentMode);var oN=Si&&"TextEvent"in window&&!mu,PI=Si&&(!tv||mu&&8<mu&&11>=mu),Pw=String.fromCharCode(32),Rw=!1;function RI(t,e){switch(t){case"keyup":return sN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var la=!1;function aN(t,e){switch(t){case"compositionend":return kI(e);case"keypress":return e.which!==32?null:(Rw=!0,Pw);case"textInput":return t=e.data,t===Pw&&Rw?null:t;default:return null}}function lN(t,e){if(la)return t==="compositionend"||!tv&&RI(t,e)?(t=II(),Yh=Jy=ss=null,la=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PI&&e.locale!=="ko"?null:e.data;default:return null}}var uN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uN[t.type]:e==="textarea"}function AI(t,e,n,r){sI(r),e=Rd(e,"onChange"),0<e.length&&(n=new Zy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gu=null,Uu=null;function cN(t){UI(t,0)}function Ef(t){var e=ha(t);if(J1(e))return t}function hN(t,e){if(t==="change")return e}var CI=!1;if(Si){var Qp;if(Si){var Xp="oninput"in document;if(!Xp){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),Xp=typeof Aw.oninput=="function"}Qp=Xp}else Qp=!1;CI=Qp&&(!document.documentMode||9<document.documentMode)}function Cw(){gu&&(gu.detachEvent("onpropertychange",xI),Uu=gu=null)}function xI(t){if(t.propertyName==="value"&&Ef(Uu)){var e=[];AI(e,Uu,t,Gy(t)),uI(cN,e)}}function dN(t,e,n){t==="focusin"?(Cw(),gu=e,Uu=n,gu.attachEvent("onpropertychange",xI)):t==="focusout"&&Cw()}function fN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ef(Uu)}function pN(t,e){if(t==="click")return Ef(e)}function mN(t,e){if(t==="input"||t==="change")return Ef(e)}function gN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pr=typeof Object.is=="function"?Object.is:gN;function ju(t,e){if(pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Km.call(e,i)||!pr(t[i],e[i]))return!1}return!0}function xw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dw(t,e){var n=xw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xw(n)}}function DI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bI(){for(var t=window,e=_d();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_d(t.document)}return e}function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yN(t){var e=bI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DI(n.ownerDocument.documentElement,n)){if(r!==null&&nv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Dw(n,s);var o=Dw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vN=Si&&"documentMode"in document&&11>=document.documentMode,ua=null,fg=null,yu=null,pg=!1;function bw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pg||ua==null||ua!==_d(r)||(r=ua,"selectionStart"in r&&nv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yu&&ju(yu,r)||(yu=r,r=Rd(fg,"onSelect"),0<r.length&&(e=new Zy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ua)))}function _h(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ca={animationend:_h("Animation","AnimationEnd"),animationiteration:_h("Animation","AnimationIteration"),animationstart:_h("Animation","AnimationStart"),transitionend:_h("Transition","TransitionEnd")},Jp={},NI={};Si&&(NI=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Tf(t){if(Jp[t])return Jp[t];if(!ca[t])return t;var e=ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NI)return Jp[t]=e[n];return t}var MI=Tf("animationend"),OI=Tf("animationiteration"),LI=Tf("animationstart"),VI=Tf("transitionend"),FI=new Map,Nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){FI.set(t,e),bo(e,[t])}for(var Zp=0;Zp<Nw.length;Zp++){var em=Nw[Zp],_N=em.toLowerCase(),wN=em[0].toUpperCase()+em.slice(1);Ns(_N,"on"+wN)}Ns(MI,"onAnimationEnd");Ns(OI,"onAnimationIteration");Ns(LI,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(VI,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EN=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function Mw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_b(r,e,void 0,t),t.currentTarget=null}function UI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mw(i,a,c),s=l}}}if(Ed)throw t=ug,Ed=!1,ug=null,t}function Ze(t,e){var n=e[_g];n===void 0&&(n=e[_g]=new Set);var r=t+"__bubble";n.has(r)||(jI(e,t,2,!1),n.add(r))}function tm(t,e,n){var r=0;e&&(r|=4),jI(n,t,r,e)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Bu(t){if(!t[wh]){t[wh]=!0,G1.forEach(function(n){n!=="selectionchange"&&(EN.has(n)||tm(n,!1,t),tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wh]||(e[wh]=!0,tm("selectionchange",!1,e))}}function jI(t,e,n,r){switch(SI(e)){case 1:var i=Ob;break;case 4:i=Lb;break;default:i=Xy}n=i.bind(null,e,n,t),i=void 0,!lg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ro(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}uI(function(){var c=s,h=Gy(n),d=[];e:{var p=FI.get(t);if(p!==void 0){var g=Zy,_=t;switch(t){case"keypress":if(Gh(n)===0)break e;case"keydown":case"keyup":g=Xb;break;case"focusin":_="focus",g=qp;break;case"focusout":_="blur",g=qp;break;case"beforeblur":case"afterblur":g=qp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Tw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=eN;break;case MI:case OI:case LI:g=zb;break;case VI:g=nN;break;case"scroll":g=Vb;break;case"wheel":g=iN;break;case"copy":case"cut":case"paste":g=Wb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Iw}var I=(e&4)!==0,k=!I&&t==="scroll",T=I?p!==null?p+"Capture":null:p;I=[];for(var y=c,E;y!==null;){E=y;var b=E.stateNode;if(E.tag===5&&b!==null&&(E=b,T!==null&&(b=Ou(y,T),b!=null&&I.push(zu(y,b,E)))),k)break;y=y.return}0<I.length&&(p=new g(p,_,null,n,h),d.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==og&&(_=n.relatedTarget||n.fromElement)&&(ro(_)||_[Ii]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?ro(_):null,_!==null&&(k=No(_),_!==k||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(I=Tw,b="onMouseLeave",T="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(I=Iw,b="onPointerLeave",T="onPointerEnter",y="pointer"),k=g==null?p:ha(g),E=_==null?p:ha(_),p=new I(b,y+"leave",g,n,h),p.target=k,p.relatedTarget=E,b=null,ro(h)===c&&(I=new I(T,y+"enter",_,n,h),I.target=E,I.relatedTarget=k,b=I),k=b,g&&_)t:{for(I=g,T=_,y=0,E=I;E;E=Jo(E))y++;for(E=0,b=T;b;b=Jo(b))E++;for(;0<y-E;)I=Jo(I),y--;for(;0<E-y;)T=Jo(T),E--;for(;y--;){if(I===T||T!==null&&I===T.alternate)break t;I=Jo(I),T=Jo(T)}I=null}else I=null;g!==null&&Ow(d,p,g,I,!1),_!==null&&k!==null&&Ow(d,k,_,I,!0)}}e:{if(p=c?ha(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var U=hN;else if(kw(p))if(CI)U=mN;else{U=fN;var x=dN}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(U=pN);if(U&&(U=U(t,c))){AI(d,U,n,h);break e}x&&x(t,p,c),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&tg(p,"number",p.value)}switch(x=c?ha(c):window,t){case"focusin":(kw(x)||x.contentEditable==="true")&&(ua=x,fg=c,yu=null);break;case"focusout":yu=fg=ua=null;break;case"mousedown":pg=!0;break;case"contextmenu":case"mouseup":case"dragend":pg=!1,bw(d,n,h);break;case"selectionchange":if(vN)break;case"keydown":case"keyup":bw(d,n,h)}var R;if(tv)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else la?RI(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(PI&&n.locale!=="ko"&&(la||v!=="onCompositionStart"?v==="onCompositionEnd"&&la&&(R=II()):(ss=h,Jy="value"in ss?ss.value:ss.textContent,la=!0)),x=Rd(c,v),0<x.length&&(v=new Sw(v,t,null,n,h),d.push({event:v,listeners:x}),R?v.data=R:(R=kI(n),R!==null&&(v.data=R)))),(R=oN?aN(t,n):lN(t,n))&&(c=Rd(c,"onBeforeInput"),0<c.length&&(h=new Sw("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=R))}UI(d,e)})}function zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ou(t,n),s!=null&&r.unshift(zu(t,s,i)),s=Ou(t,e),s!=null&&r.push(zu(t,s,i))),t=t.return}return r}function Jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ow(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ou(n,s),l!=null&&o.unshift(zu(n,l,a))):i||(l=Ou(n,s),l!=null&&o.push(zu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TN=/\r\n?/g,SN=/\u0000|\uFFFD/g;function Lw(t){return(typeof t=="string"?t:""+t).replace(TN,`
`).replace(SN,"")}function Eh(t,e,n){if(e=Lw(e),Lw(t)!==e&&n)throw Error(W(425))}function kd(){}var mg=null,gg=null;function yg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vg=typeof setTimeout=="function"?setTimeout:void 0,IN=typeof clearTimeout=="function"?clearTimeout:void 0,Vw=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof Vw<"u"?function(t){return Vw.resolve(null).then(t).catch(RN)}:vg;function RN(t){setTimeout(function(){throw t})}function rm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fu(e)}function fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sl=Math.random().toString(36).slice(2),Ar="__reactFiber$"+sl,$u="__reactProps$"+sl,Ii="__reactContainer$"+sl,_g="__reactEvents$"+sl,kN="__reactListeners$"+sl,AN="__reactHandles$"+sl;function ro(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ii]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fw(t);t!==null;){if(n=t[Ar])return n;t=Fw(t)}return e}t=n,n=t.parentNode}return null}function Ic(t){return t=t[Ar]||t[Ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Sf(t){return t[$u]||null}var wg=[],da=-1;function Ms(t){return{current:t}}function tt(t){0>da||(t.current=wg[da],wg[da]=null,da--)}function qe(t,e){da++,wg[da]=t.current,t.current=e}var Ps={},dn=Ms(Ps),Rn=Ms(!1),vo=Ps;function ja(t,e){var n=t.type.contextTypes;if(!n)return Ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function Ad(){tt(Rn),tt(dn)}function Uw(t,e,n){if(dn.current!==Ps)throw Error(W(168));qe(dn,e),qe(Rn,n)}function BI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,db(t)||"Unknown",i));return dt({},n,r)}function Cd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ps,vo=dn.current,qe(dn,t),qe(Rn,Rn.current),!0}function jw(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=BI(t,e,vo),r.__reactInternalMemoizedMergedChildContext=t,tt(Rn),tt(dn),qe(dn,t)):tt(Rn),qe(Rn,n)}var ii=null,If=!1,im=!1;function zI(t){ii===null?ii=[t]:ii.push(t)}function CN(t){If=!0,zI(t)}function Os(){if(!im&&ii!==null){im=!0;var t=0,e=ze;try{var n=ii;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ii=null,If=!1}catch(i){throw ii!==null&&(ii=ii.slice(t+1)),fI(Ky,Os),i}finally{ze=e,im=!1}}return null}var fa=[],pa=0,xd=null,Dd=0,Hn=[],Yn=0,_o=null,si=1,oi="";function Qs(t,e){fa[pa++]=Dd,fa[pa++]=xd,xd=t,Dd=e}function $I(t,e,n){Hn[Yn++]=si,Hn[Yn++]=oi,Hn[Yn++]=_o,_o=t;var r=si;t=oi;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var s=32-dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,si=1<<32-dr(e)+i|n<<i|r,oi=s+t}else si=1<<s|n<<i|r,oi=t}function rv(t){t.return!==null&&(Qs(t,1),$I(t,1,0))}function iv(t){for(;t===xd;)xd=fa[--pa],fa[pa]=null,Dd=fa[--pa],fa[pa]=null;for(;t===_o;)_o=Hn[--Yn],Hn[Yn]=null,oi=Hn[--Yn],Hn[Yn]=null,si=Hn[--Yn],Hn[Yn]=null}var Ln=null,Nn=null,at=!1,cr=null;function WI(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Nn=fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_o!==null?{id:si,overflow:oi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Nn=null,!0):!1;default:return!1}}function Eg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tg(t){if(at){var e=Nn;if(e){var n=e;if(!Bw(t,e)){if(Eg(t))throw Error(W(418));e=fs(n.nextSibling);var r=Ln;e&&Bw(t,e)?WI(r,n):(t.flags=t.flags&-4097|2,at=!1,Ln=t)}}else{if(Eg(t))throw Error(W(418));t.flags=t.flags&-4097|2,at=!1,Ln=t}}}function zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Th(t){if(t!==Ln)return!1;if(!at)return zw(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yg(t.type,t.memoizedProps)),e&&(e=Nn)){if(Eg(t))throw HI(),Error(W(418));for(;e;)WI(t,e),e=fs(e.nextSibling)}if(zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=Ln?fs(t.stateNode.nextSibling):null;return!0}function HI(){for(var t=Nn;t;)t=fs(t.nextSibling)}function Ba(){Nn=Ln=null,at=!1}function sv(t){cr===null?cr=[t]:cr.push(t)}var xN=bi.ReactCurrentBatchConfig;function jl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Sh(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $w(t){var e=t._init;return e(t._payload)}function YI(t){function e(T,y){if(t){var E=T.deletions;E===null?(T.deletions=[y],T.flags|=16):E.push(y)}}function n(T,y){if(!t)return null;for(;y!==null;)e(T,y),y=y.sibling;return null}function r(T,y){for(T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function i(T,y){return T=ys(T,y),T.index=0,T.sibling=null,T}function s(T,y,E){return T.index=E,t?(E=T.alternate,E!==null?(E=E.index,E<y?(T.flags|=2,y):E):(T.flags|=2,y)):(T.flags|=1048576,y)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,y,E,b){return y===null||y.tag!==6?(y=hm(E,T.mode,b),y.return=T,y):(y=i(y,E),y.return=T,y)}function l(T,y,E,b){var U=E.type;return U===aa?h(T,y,E.props.children,b,E.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Qi&&$w(U)===y.type)?(b=i(y,E.props),b.ref=jl(T,y,E),b.return=T,b):(b=ed(E.type,E.key,E.props,null,T.mode,b),b.ref=jl(T,y,E),b.return=T,b)}function c(T,y,E,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=dm(E,T.mode,b),y.return=T,y):(y=i(y,E.children||[]),y.return=T,y)}function h(T,y,E,b,U){return y===null||y.tag!==7?(y=fo(E,T.mode,b,U),y.return=T,y):(y=i(y,E),y.return=T,y)}function d(T,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hm(""+y,T.mode,E),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dh:return E=ed(y.type,y.key,y.props,null,T.mode,E),E.ref=jl(T,null,y),E.return=T,E;case oa:return y=dm(y,T.mode,E),y.return=T,y;case Qi:var b=y._init;return d(T,b(y._payload),E)}if(Jl(y)||Ol(y))return y=fo(y,T.mode,E,null),y.return=T,y;Sh(T,y)}return null}function p(T,y,E,b){var U=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return U!==null?null:a(T,y,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case dh:return E.key===U?l(T,y,E,b):null;case oa:return E.key===U?c(T,y,E,b):null;case Qi:return U=E._init,p(T,y,U(E._payload),b)}if(Jl(E)||Ol(E))return U!==null?null:h(T,y,E,b,null);Sh(T,E)}return null}function g(T,y,E,b,U){if(typeof b=="string"&&b!==""||typeof b=="number")return T=T.get(E)||null,a(y,T,""+b,U);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dh:return T=T.get(b.key===null?E:b.key)||null,l(y,T,b,U);case oa:return T=T.get(b.key===null?E:b.key)||null,c(y,T,b,U);case Qi:var x=b._init;return g(T,y,E,x(b._payload),U)}if(Jl(b)||Ol(b))return T=T.get(E)||null,h(y,T,b,U,null);Sh(y,b)}return null}function _(T,y,E,b){for(var U=null,x=null,R=y,v=y=0,S=null;R!==null&&v<E.length;v++){R.index>v?(S=R,R=null):S=R.sibling;var P=p(T,R,E[v],b);if(P===null){R===null&&(R=S);break}t&&R&&P.alternate===null&&e(T,R),y=s(P,y,v),x===null?U=P:x.sibling=P,x=P,R=S}if(v===E.length)return n(T,R),at&&Qs(T,v),U;if(R===null){for(;v<E.length;v++)R=d(T,E[v],b),R!==null&&(y=s(R,y,v),x===null?U=R:x.sibling=R,x=R);return at&&Qs(T,v),U}for(R=r(T,R);v<E.length;v++)S=g(R,T,v,E[v],b),S!==null&&(t&&S.alternate!==null&&R.delete(S.key===null?v:S.key),y=s(S,y,v),x===null?U=S:x.sibling=S,x=S);return t&&R.forEach(function(C){return e(T,C)}),at&&Qs(T,v),U}function I(T,y,E,b){var U=Ol(E);if(typeof U!="function")throw Error(W(150));if(E=U.call(E),E==null)throw Error(W(151));for(var x=U=null,R=y,v=y=0,S=null,P=E.next();R!==null&&!P.done;v++,P=E.next()){R.index>v?(S=R,R=null):S=R.sibling;var C=p(T,R,P.value,b);if(C===null){R===null&&(R=S);break}t&&R&&C.alternate===null&&e(T,R),y=s(C,y,v),x===null?U=C:x.sibling=C,x=C,R=S}if(P.done)return n(T,R),at&&Qs(T,v),U;if(R===null){for(;!P.done;v++,P=E.next())P=d(T,P.value,b),P!==null&&(y=s(P,y,v),x===null?U=P:x.sibling=P,x=P);return at&&Qs(T,v),U}for(R=r(T,R);!P.done;v++,P=E.next())P=g(R,T,v,P.value,b),P!==null&&(t&&P.alternate!==null&&R.delete(P.key===null?v:P.key),y=s(P,y,v),x===null?U=P:x.sibling=P,x=P);return t&&R.forEach(function(O){return e(T,O)}),at&&Qs(T,v),U}function k(T,y,E,b){if(typeof E=="object"&&E!==null&&E.type===aa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case dh:e:{for(var U=E.key,x=y;x!==null;){if(x.key===U){if(U=E.type,U===aa){if(x.tag===7){n(T,x.sibling),y=i(x,E.props.children),y.return=T,T=y;break e}}else if(x.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Qi&&$w(U)===x.type){n(T,x.sibling),y=i(x,E.props),y.ref=jl(T,x,E),y.return=T,T=y;break e}n(T,x);break}else e(T,x);x=x.sibling}E.type===aa?(y=fo(E.props.children,T.mode,b,E.key),y.return=T,T=y):(b=ed(E.type,E.key,E.props,null,T.mode,b),b.ref=jl(T,y,E),b.return=T,T=b)}return o(T);case oa:e:{for(x=E.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(T,y.sibling),y=i(y,E.children||[]),y.return=T,T=y;break e}else{n(T,y);break}else e(T,y);y=y.sibling}y=dm(E,T.mode,b),y.return=T,T=y}return o(T);case Qi:return x=E._init,k(T,y,x(E._payload),b)}if(Jl(E))return _(T,y,E,b);if(Ol(E))return I(T,y,E,b);Sh(T,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(T,y.sibling),y=i(y,E),y.return=T,T=y):(n(T,y),y=hm(E,T.mode,b),y.return=T,T=y),o(T)):n(T,y)}return k}var za=YI(!0),GI=YI(!1),bd=Ms(null),Nd=null,ma=null,ov=null;function av(){ov=ma=Nd=null}function lv(t){var e=bd.current;tt(bd),t._currentValue=e}function Sg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xa(t,e){Nd=t,ov=ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function Zn(t){var e=t._currentValue;if(ov!==t)if(t={context:t,memoizedValue:e,next:null},ma===null){if(Nd===null)throw Error(W(308));ma=t,Nd.dependencies={lanes:0,firstContext:t}}else ma=ma.next=t;return e}var io=null;function uv(t){io===null?io=[t]:io.push(t)}function KI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pi(t,r)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xi=!1;function cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pi(t,n)}return i=r.interleaved,i===null?(e.next=e,uv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pi(t,n)}function Kh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qy(t,n)}}function Ww(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Md(t,e,n,r){var i=t.updateQueue;Xi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,I=a;switch(p=e,g=n,I.tag){case 1:if(_=I.payload,typeof _=="function"){d=_.call(g,d,p);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=I.payload,p=typeof _=="function"?_.call(g,d,p):_,p==null)break e;d=dt({},d,p);break e;case 2:Xi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Eo|=o,t.lanes=o,t.memoizedState=d}}function Hw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Pc={},Lr=Ms(Pc),Wu=Ms(Pc),Hu=Ms(Pc);function so(t){if(t===Pc)throw Error(W(174));return t}function hv(t,e){switch(qe(Hu,e),qe(Wu,t),qe(Lr,Pc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rg(e,t)}tt(Lr),qe(Lr,e)}function $a(){tt(Lr),tt(Wu),tt(Hu)}function QI(t){so(Hu.current);var e=so(Lr.current),n=rg(e,t.type);e!==n&&(qe(Wu,t),qe(Lr,n))}function dv(t){Wu.current===t&&(tt(Lr),tt(Wu))}var ut=Ms(0);function Od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sm=[];function fv(){for(var t=0;t<sm.length;t++)sm[t]._workInProgressVersionPrimary=null;sm.length=0}var qh=bi.ReactCurrentDispatcher,om=bi.ReactCurrentBatchConfig,wo=0,ht=null,Nt=null,Ft=null,Ld=!1,vu=!1,Yu=0,DN=0;function tn(){throw Error(W(321))}function pv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pr(t[n],e[n]))return!1;return!0}function mv(t,e,n,r,i,s){if(wo=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?ON:LN,t=n(r,i),vu){s=0;do{if(vu=!1,Yu=0,25<=s)throw Error(W(301));s+=1,Ft=Nt=null,e.updateQueue=null,qh.current=VN,t=n(r,i)}while(vu)}if(qh.current=Vd,e=Nt!==null&&Nt.next!==null,wo=0,Ft=Nt=ht=null,Ld=!1,e)throw Error(W(300));return t}function gv(){var t=Yu!==0;return Yu=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ht.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function er(){if(Nt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Ft===null?ht.memoizedState:Ft.next;if(e!==null)Ft=e,Nt=t;else{if(t===null)throw Error(W(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ft===null?ht.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Gu(t,e){return typeof e=="function"?e(t):e}function am(t){var e=er(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((wo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ht.lanes|=h,Eo|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,pr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,Eo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lm(t){var e=er(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pr(s,e.memoizedState)||(Pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function XI(){}function JI(t,e){var n=ht,r=er(),i=e(),s=!pr(r.memoizedState,i);if(s&&(r.memoizedState=i,Pn=!0),r=r.queue,yv(tP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,Ku(9,eP.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(W(349));wo&30||ZI(n,e,i)}return i}function ZI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eP(t,e,n,r){e.value=n,e.getSnapshot=r,nP(e)&&rP(t)}function tP(t,e,n){return n(function(){nP(e)&&rP(t)})}function nP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pr(t,n)}catch{return!0}}function rP(t){var e=Pi(t,1);e!==null&&fr(e,t,1,-1)}function Yw(t){var e=kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:t},e.queue=t,t=t.dispatch=MN.bind(null,ht,t),[e.memoizedState,t]}function Ku(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iP(){return er().memoizedState}function Qh(t,e,n,r){var i=kr();ht.flags|=t,i.memoizedState=Ku(1|e,n,void 0,r===void 0?null:r)}function Pf(t,e,n,r){var i=er();r=r===void 0?null:r;var s=void 0;if(Nt!==null){var o=Nt.memoizedState;if(s=o.destroy,r!==null&&pv(r,o.deps)){i.memoizedState=Ku(e,n,s,r);return}}ht.flags|=t,i.memoizedState=Ku(1|e,n,s,r)}function Gw(t,e){return Qh(8390656,8,t,e)}function yv(t,e){return Pf(2048,8,t,e)}function sP(t,e){return Pf(4,2,t,e)}function oP(t,e){return Pf(4,4,t,e)}function aP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lP(t,e,n){return n=n!=null?n.concat([t]):null,Pf(4,4,aP.bind(null,e,t),n)}function vv(){}function uP(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cP(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hP(t,e,n){return wo&21?(pr(n,e)||(n=gI(),ht.lanes|=n,Eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function bN(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=om.transition;om.transition={};try{t(!1),e()}finally{ze=n,om.transition=r}}function dP(){return er().memoizedState}function NN(t,e,n){var r=gs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fP(t))pP(e,n);else if(n=KI(t,e,n,r),n!==null){var i=gn();fr(n,t,r,i),mP(n,e,r)}}function MN(t,e,n){var r=gs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fP(t))pP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,pr(a,o)){var l=e.interleaved;l===null?(i.next=i,uv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KI(t,e,i,r),n!==null&&(i=gn(),fr(n,t,r,i),mP(n,e,r))}}function fP(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function pP(t,e){vu=Ld=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qy(t,n)}}var Vd={readContext:Zn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},ON={readContext:Zn,useCallback:function(t,e){return kr().memoizedState=[t,e===void 0?null:e],t},useContext:Zn,useEffect:Gw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qh(4194308,4,aP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qh(4,2,t,e)},useMemo:function(t,e){var n=kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NN.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=kr();return t={current:t},e.memoizedState=t},useState:Yw,useDebugValue:vv,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=Yw(!1),e=t[0];return t=bN.bind(null,t[1]),kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=kr();if(at){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ut===null)throw Error(W(349));wo&30||ZI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Gw(tP.bind(null,r,s,t),[t]),r.flags|=2048,Ku(9,eP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kr(),e=Ut.identifierPrefix;if(at){var n=oi,r=si;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LN={readContext:Zn,useCallback:uP,useContext:Zn,useEffect:yv,useImperativeHandle:lP,useInsertionEffect:sP,useLayoutEffect:oP,useMemo:cP,useReducer:am,useRef:iP,useState:function(){return am(Gu)},useDebugValue:vv,useDeferredValue:function(t){var e=er();return hP(e,Nt.memoizedState,t)},useTransition:function(){var t=am(Gu)[0],e=er().memoizedState;return[t,e]},useMutableSource:XI,useSyncExternalStore:JI,useId:dP,unstable_isNewReconciler:!1},VN={readContext:Zn,useCallback:uP,useContext:Zn,useEffect:yv,useImperativeHandle:lP,useInsertionEffect:sP,useLayoutEffect:oP,useMemo:cP,useReducer:lm,useRef:iP,useState:function(){return lm(Gu)},useDebugValue:vv,useDeferredValue:function(t){var e=er();return Nt===null?e.memoizedState=t:hP(e,Nt.memoizedState,t)},useTransition:function(){var t=lm(Gu)[0],e=er().memoizedState;return[t,e]},useMutableSource:XI,useSyncExternalStore:JI,useId:dP,unstable_isNewReconciler:!1};function ar(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ig(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rf={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),i=gs(t),s=pi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ps(t,s,i),e!==null&&(fr(e,t,i,r),Kh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),i=gs(t),s=pi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ps(t,s,i),e!==null&&(fr(e,t,i,r),Kh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=gs(t),i=pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ps(t,i,r),e!==null&&(fr(e,t,r,n),Kh(e,t,r))}};function Kw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ju(n,r)||!ju(i,s):!0}function gP(t,e,n){var r=!1,i=Ps,s=e.contextType;return typeof s=="object"&&s!==null?s=Zn(s):(i=kn(e)?vo:dn.current,r=e.contextTypes,s=(r=r!=null)?ja(t,i):Ps),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rf.enqueueReplaceState(e,e.state,null)}function Pg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zn(s):(s=kn(e)?vo:dn.current,i.context=ja(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ig(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rf.enqueueReplaceState(i,i.state,null),Md(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wa(t,e){try{var n="",r=e;do n+=hb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function um(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FN=typeof WeakMap=="function"?WeakMap:Map;function yP(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ud||(Ud=!0,Lg=r),Rg(t,e)},n}function vP(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rg(t,e),typeof r!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JN.bind(null,t,e,n),e.then(t,t))}function Xw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,ps(n,e,1))),n.lanes|=1),t)}var UN=bi.ReactCurrentOwner,Pn=!1;function mn(t,e,n,r){e.child=t===null?GI(e,null,n,r):za(e,t.child,n,r)}function Zw(t,e,n,r,i){n=n.render;var s=e.ref;return xa(e,i),r=mv(t,e,n,r,s,i),n=gv(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ri(t,e,i)):(at&&n&&rv(e),e.flags|=1,mn(t,e,r,i),e.child)}function eE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Rv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_P(t,e,s,r,i)):(t=ed(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ju,n(o,r)&&t.ref===e.ref)return Ri(t,e,i)}return e.flags|=1,t=ys(s,r),t.ref=e.ref,t.return=e,e.child=t}function _P(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ju(s,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,Ri(t,e,i)}return kg(t,e,n,r,i)}function wP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ya,Dn),Dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(ya,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(ya,Dn),Dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(ya,Dn),Dn|=r;return mn(t,e,i,n),e.child}function EP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kg(t,e,n,r,i){var s=kn(n)?vo:dn.current;return s=ja(e,s),xa(e,i),n=mv(t,e,n,r,s,i),r=gv(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ri(t,e,i)):(at&&r&&rv(e),e.flags|=1,mn(t,e,n,i),e.child)}function tE(t,e,n,r,i){if(kn(n)){var s=!0;Cd(e)}else s=!1;if(xa(e,i),e.stateNode===null)Xh(t,e),gP(e,n,r),Pg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zn(c):(c=kn(n)?vo:dn.current,c=ja(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&qw(e,o,r,c),Xi=!1;var p=e.memoizedState;o.state=p,Md(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Rn.current||Xi?(typeof h=="function"&&(Ig(e,n,h,r),l=e.memoizedState),(a=Xi||Kw(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ar(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zn(l):(l=kn(n)?vo:dn.current,l=ja(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&qw(e,o,r,l),Xi=!1,p=e.memoizedState,o.state=p,Md(e,r,o,i);var _=e.memoizedState;a!==d||p!==_||Rn.current||Xi?(typeof g=="function"&&(Ig(e,n,g,r),_=e.memoizedState),(c=Xi||Kw(e,n,c,r,p,_,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ag(t,e,n,r,s,i)}function Ag(t,e,n,r,i,s){EP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&jw(e,n,!1),Ri(t,e,s);r=e.stateNode,UN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=za(e,t.child,null,s),e.child=za(e,null,a,s)):mn(t,e,a,s),e.memoizedState=r.state,i&&jw(e,n,!0),e.child}function TP(t){var e=t.stateNode;e.pendingContext?Uw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uw(t,e.context,!1),hv(t,e.containerInfo)}function nE(t,e,n,r,i){return Ba(),sv(i),e.flags|=256,mn(t,e,n,r),e.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function SP(t,e,n){var r=e.pendingProps,i=ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(ut,i&1),t===null)return Tg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cf(o,r,0,null),t=fo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xg(n),e.memoizedState=Cg,t):_v(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ys(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ys(a,s):(s=fo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cg,r}return s=t.child,t=s.sibling,r=ys(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _v(t,e){return e=Cf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ih(t,e,n,r){return r!==null&&sv(r),za(e,t.child,null,n),t=_v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=um(Error(W(422))),Ih(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cf({mode:"visible",children:r.children},i,0,null),s=fo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&za(e,t.child,null,o),e.child.memoizedState=xg(o),e.memoizedState=Cg,s);if(!(e.mode&1))return Ih(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=um(s,r,void 0),Ih(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pn||a){if(r=Ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pi(t,i),fr(r,t,i,-1))}return Pv(),r=um(Error(W(421))),Ih(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nn=fs(i.nextSibling),Ln=e,at=!0,cr=null,t!==null&&(Hn[Yn++]=si,Hn[Yn++]=oi,Hn[Yn++]=_o,si=t.id,oi=t.overflow,_o=e),e=_v(e,r.children),e.flags|=4096,e)}function rE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sg(t.return,e,n)}function cm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function IP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rE(t,n,e);else if(t.tag===19)rE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Od(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Od(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cm(e,!0,n,null,s);break;case"together":cm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ys(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ys(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BN(t,e,n){switch(e.tag){case 3:TP(e),Ba();break;case 5:QI(e);break;case 1:kn(e.type)&&Cd(e);break;case 4:hv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(bd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?SP(t,e,n):(qe(ut,ut.current&1),t=Ri(t,e,n),t!==null?t.sibling:null);qe(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,wP(t,e,n)}return Ri(t,e,n)}var PP,Dg,RP,kP;PP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dg=function(){};RP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,so(Lr.current);var s=null;switch(n){case"input":i=Zm(t,i),r=Zm(t,r),s=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),s=[];break;case"textarea":i=ng(t,i),r=ng(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kd)}ig(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};kP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bl(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zN(t,e,n){var r=e.pendingProps;switch(iv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return kn(e.type)&&Ad(),nn(e),null;case 3:return r=e.stateNode,$a(),tt(Rn),tt(dn),fv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Ug(cr),cr=null))),Dg(t,e),nn(e),null;case 5:dv(e);var i=so(Hu.current);if(n=e.type,t!==null&&e.stateNode!=null)RP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return nn(e),null}if(t=so(Lr.current),Th(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ar]=e,r[$u]=s,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<eu.length;i++)Ze(eu[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":dw(r,s),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",r);break;case"textarea":pw(r,s),Ze("invalid",r)}ig(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Eh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Eh(r.textContent,a,t),i=["children",""+a]):Nu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ze("scroll",r)}switch(n){case"input":fh(r),fw(r,s,!0);break;case"textarea":fh(r),mw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ar]=e,t[$u]=r,PP(t,e,!1,!1),e.stateNode=t;e:{switch(o=sg(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<eu.length;i++)Ze(eu[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":dw(t,r),i=Zm(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":pw(t,r),i=ng(t,r),Ze("invalid",t);break;default:i=r}ig(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mu(t,l):typeof l=="number"&&Mu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ze("scroll",t):l!=null&&$y(t,s,l,o))}switch(n){case"input":fh(t),fw(t,r,!1);break;case"textarea":fh(t),mw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Is(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ra(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)kP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=so(Hu.current),so(Lr.current),Th(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(s=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Eh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return nn(e),null;case 13:if(tt(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Nn!==null&&e.mode&1&&!(e.flags&128))HI(),Ba(),e.flags|=98560,s=!1;else if(s=Th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Ar]=e}else Ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else cr!==null&&(Ug(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Mt===0&&(Mt=3):Pv())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return $a(),Dg(t,e),t===null&&Bu(e.stateNode.containerInfo),nn(e),null;case 10:return lv(e.type._context),nn(e),null;case 17:return kn(e.type)&&Ad(),nn(e),null;case 19:if(tt(ut),s=e.memoizedState,s===null)return nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Bl(s,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Od(t),o!==null){for(e.flags|=128,Bl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(ut,ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&It()>Ha&&(e.flags|=128,r=!0,Bl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Od(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!at)return nn(e),null}else 2*It()-s.renderingStartTime>Ha&&n!==1073741824&&(e.flags|=128,r=!0,Bl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=It(),e.sibling=null,n=ut.current,qe(ut,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return Iv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function $N(t,e){switch(iv(e),e.tag){case 1:return kn(e.type)&&Ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),tt(Rn),tt(dn),fv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dv(e),null;case 13:if(tt(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(ut),null;case 4:return $a(),null;case 10:return lv(e.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var Ph=!1,an=!1,WN=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function bg(t,e,n){try{n()}catch(r){yt(t,e,r)}}var iE=!1;function HN(t,e){if(mg=Id,t=bI(),nv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gg={focusedElem:t,selectionRange:n},Id=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var I=_.memoizedProps,k=_.memoizedState,T=e.stateNode,y=T.getSnapshotBeforeUpdate(e.elementType===e.type?I:ar(e.type,I),k);T.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(b){yt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return _=iE,iE=!1,_}function _u(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bg(e,n,s)}i=i.next}while(i!==r)}}function kf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AP(t){var e=t.alternate;e!==null&&(t.alternate=null,AP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[$u],delete e[_g],delete e[kN],delete e[AN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CP(t){return t.tag===5||t.tag===3||t.tag===4}function sE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kd));else if(r!==4&&(t=t.child,t!==null))for(Mg(t,e,n),t=t.sibling;t!==null;)Mg(t,e,n),t=t.sibling}function Og(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Og(t,e,n),t=t.sibling;t!==null;)Og(t,e,n),t=t.sibling}var zt=null,lr=!1;function Yi(t,e,n){for(n=n.child;n!==null;)xP(t,e,n),n=n.sibling}function xP(t,e,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(_f,n)}catch{}switch(n.tag){case 5:an||ga(n,e);case 6:var r=zt,i=lr;zt=null,Yi(t,e,n),zt=r,lr=i,zt!==null&&(lr?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(lr?(t=zt,n=n.stateNode,t.nodeType===8?rm(t.parentNode,n):t.nodeType===1&&rm(t,n),Fu(t)):rm(zt,n.stateNode));break;case 4:r=zt,i=lr,zt=n.stateNode.containerInfo,lr=!0,Yi(t,e,n),zt=r,lr=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bg(n,e,o),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!an&&(ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,Yi(t,e,n),an=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function oE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WN),e.forEach(function(r){var i=eM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:zt=a.stateNode,lr=!1;break e;case 3:zt=a.stateNode.containerInfo,lr=!0;break e;case 4:zt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(zt===null)throw Error(W(160));xP(s,o,i),zt=null,lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DP(e,t),e=e.sibling}function DP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Rr(t),r&4){try{_u(3,t,t.return),kf(3,t)}catch(I){yt(t,t.return,I)}try{_u(5,t,t.return)}catch(I){yt(t,t.return,I)}}break;case 1:or(e,t),Rr(t),r&512&&n!==null&&ga(n,n.return);break;case 5:if(or(e,t),Rr(t),r&512&&n!==null&&ga(n,n.return),t.flags&32){var i=t.stateNode;try{Mu(i,"")}catch(I){yt(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Z1(i,s),sg(a,o);var c=sg(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?iI(i,d):h==="dangerouslySetInnerHTML"?nI(i,d):h==="children"?Mu(i,d):$y(i,h,d,c)}switch(a){case"input":eg(i,s);break;case"textarea":eI(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ra(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ra(i,!!s.multiple,s.defaultValue,!0):Ra(i,!!s.multiple,s.multiple?[]:"",!1))}i[$u]=s}catch(I){yt(t,t.return,I)}}break;case 6:if(or(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){yt(t,t.return,I)}}break;case 3:if(or(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fu(e.containerInfo)}catch(I){yt(t,t.return,I)}break;case 4:or(e,t),Rr(t);break;case 13:or(e,t),Rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tv=It())),r&4&&oE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(an=(c=an)||h,or(e,t),an=c):or(e,t),Rr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ee=t,h=t.child;h!==null;){for(d=ee=h;ee!==null;){switch(p=ee,g=p.child,p.tag){case 0:case 11:case 14:case 15:_u(4,p,p.return);break;case 1:ga(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(I){yt(r,n,I)}}break;case 5:ga(p,p.return);break;case 22:if(p.memoizedState!==null){lE(d);continue}}g!==null?(g.return=p,ee=g):lE(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rI("display",o))}catch(I){yt(t,t.return,I)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(I){yt(t,t.return,I)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:or(e,t),Rr(t),r&4&&oE(t);break;case 21:break;default:or(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CP(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mu(i,""),r.flags&=-33);var s=sE(t);Og(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sE(t);Mg(t,a,o);break;default:throw Error(W(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YN(t,e,n){ee=t,bP(t)}function bP(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ph;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||an;a=Ph;var c=an;if(Ph=o,(an=l)&&!c)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?uE(i):l!==null?(l.return=o,ee=l):uE(i);for(;s!==null;)ee=s,bP(s),s=s.sibling;ee=i,Ph=a,an=c}aE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):aE(t)}}function aE(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:an||kf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Fu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}an||e.flags&512&&Ng(e)}catch(p){yt(e,e.return,p)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function lE(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function uE(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kf(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var s=e.return;try{Ng(e)}catch(l){yt(e,s,l)}break;case 5:var o=e.return;try{Ng(e)}catch(l){yt(e,o,l)}}}catch(l){yt(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var GN=Math.ceil,Fd=bi.ReactCurrentDispatcher,wv=bi.ReactCurrentOwner,Qn=bi.ReactCurrentBatchConfig,Oe=0,Ut=null,Ct=null,Yt=0,Dn=0,ya=Ms(0),Mt=0,qu=null,Eo=0,Af=0,Ev=0,wu=null,Sn=null,Tv=0,Ha=1/0,ni=null,Ud=!1,Lg=null,ms=null,Rh=!1,os=null,jd=0,Eu=0,Vg=null,Jh=-1,Zh=0;function gn(){return Oe&6?It():Jh!==-1?Jh:Jh=It()}function gs(t){return t.mode&1?Oe&2&&Yt!==0?Yt&-Yt:xN.transition!==null?(Zh===0&&(Zh=gI()),Zh):(t=ze,t!==0||(t=window.event,t=t===void 0?16:SI(t.type)),t):1}function fr(t,e,n,r){if(50<Eu)throw Eu=0,Vg=null,Error(W(185));Tc(t,n,r),(!(Oe&2)||t!==Ut)&&(t===Ut&&(!(Oe&2)&&(Af|=n),Mt===4&&Zi(t,Yt)),An(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Ha=It()+500,If&&Os()))}function An(t,e){var n=t.callbackNode;xb(t,e);var r=Sd(t,t===Ut?Yt:0);if(r===0)n!==null&&vw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vw(n),e===1)t.tag===0?CN(cE.bind(null,t)):zI(cE.bind(null,t)),PN(function(){!(Oe&6)&&Os()}),n=null;else{switch(yI(r)){case 1:n=Ky;break;case 4:n=pI;break;case 16:n=Td;break;case 536870912:n=mI;break;default:n=Td}n=jP(n,NP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NP(t,e){if(Jh=-1,Zh=0,Oe&6)throw Error(W(327));var n=t.callbackNode;if(Da()&&t.callbackNode!==n)return null;var r=Sd(t,t===Ut?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bd(t,r);else{e=r;var i=Oe;Oe|=2;var s=OP();(Ut!==t||Yt!==e)&&(ni=null,Ha=It()+500,ho(t,e));do try{QN();break}catch(a){MP(t,a)}while(1);av(),Fd.current=s,Oe=i,Ct!==null?e=0:(Ut=null,Yt=0,e=Mt)}if(e!==0){if(e===2&&(i=cg(t),i!==0&&(r=i,e=Fg(t,i))),e===1)throw n=qu,ho(t,0),Zi(t,r),An(t,It()),n;if(e===6)Zi(t,r);else{if(i=t.current.alternate,!(r&30)&&!KN(i)&&(e=Bd(t,r),e===2&&(s=cg(t),s!==0&&(r=s,e=Fg(t,s))),e===1))throw n=qu,ho(t,0),Zi(t,r),An(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Xs(t,Sn,ni);break;case 3:if(Zi(t,r),(r&130023424)===r&&(e=Tv+500-It(),10<e)){if(Sd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vg(Xs.bind(null,t,Sn,ni),e);break}Xs(t,Sn,ni);break;case 4:if(Zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GN(r/1960))-r,10<r){t.timeoutHandle=vg(Xs.bind(null,t,Sn,ni),r);break}Xs(t,Sn,ni);break;case 5:Xs(t,Sn,ni);break;default:throw Error(W(329))}}}return An(t,It()),t.callbackNode===n?NP.bind(null,t):null}function Fg(t,e){var n=wu;return t.current.memoizedState.isDehydrated&&(ho(t,e).flags|=256),t=Bd(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&Ug(e)),t}function Ug(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function KN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zi(t,e){for(e&=~Ev,e&=~Af,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function cE(t){if(Oe&6)throw Error(W(327));Da();var e=Sd(t,0);if(!(e&1))return An(t,It()),null;var n=Bd(t,e);if(t.tag!==0&&n===2){var r=cg(t);r!==0&&(e=r,n=Fg(t,r))}if(n===1)throw n=qu,ho(t,0),Zi(t,e),An(t,It()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xs(t,Sn,ni),An(t,It()),null}function Sv(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Ha=It()+500,If&&Os())}}function To(t){os!==null&&os.tag===0&&!(Oe&6)&&Da();var e=Oe;Oe|=1;var n=Qn.transition,r=ze;try{if(Qn.transition=null,ze=1,t)return t()}finally{ze=r,Qn.transition=n,Oe=e,!(Oe&6)&&Os()}}function Iv(){Dn=ya.current,tt(ya)}function ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IN(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(iv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ad();break;case 3:$a(),tt(Rn),tt(dn),fv();break;case 5:dv(r);break;case 4:$a();break;case 13:tt(ut);break;case 19:tt(ut);break;case 10:lv(r.type._context);break;case 22:case 23:Iv()}n=n.return}if(Ut=t,Ct=t=ys(t.current,null),Yt=Dn=e,Mt=0,qu=null,Ev=Af=Eo=0,Sn=wu=null,io!==null){for(e=0;e<io.length;e++)if(n=io[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}io=null}return t}function MP(t,e){do{var n=Ct;try{if(av(),qh.current=Vd,Ld){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ld=!1}if(wo=0,Ft=Nt=ht=null,vu=!1,Yu=0,wv.current=null,n===null||n.return===null){Mt=1,qu=e,Ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Xw(o);if(g!==null){g.flags&=-257,Jw(g,o,a,s,e),g.mode&1&&Qw(s,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var I=new Set;I.add(l),e.updateQueue=I}else _.add(l);break e}else{if(!(e&1)){Qw(s,c,e),Pv();break e}l=Error(W(426))}}else if(at&&a.mode&1){var k=Xw(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Jw(k,o,a,s,e),sv(Wa(l,a));break e}}s=l=Wa(l,a),Mt!==4&&(Mt=2),wu===null?wu=[s]:wu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=yP(s,l,e);Ww(s,T);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ms===null||!ms.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=vP(s,a,e);Ww(s,b);break e}}s=s.return}while(s!==null)}VP(n)}catch(U){e=U,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(1)}function OP(){var t=Fd.current;return Fd.current=Vd,t===null?Vd:t}function Pv(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ut===null||!(Eo&268435455)&&!(Af&268435455)||Zi(Ut,Yt)}function Bd(t,e){var n=Oe;Oe|=2;var r=OP();(Ut!==t||Yt!==e)&&(ni=null,ho(t,e));do try{qN();break}catch(i){MP(t,i)}while(1);if(av(),Oe=n,Fd.current=r,Ct!==null)throw Error(W(261));return Ut=null,Yt=0,Mt}function qN(){for(;Ct!==null;)LP(Ct)}function QN(){for(;Ct!==null&&!Eb();)LP(Ct)}function LP(t){var e=UP(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?VP(t):Ct=e,wv.current=null}function VP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$N(n,e),n!==null){n.flags&=32767,Ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,Ct=null;return}}else if(n=zN(n,e,Dn),n!==null){Ct=n;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Mt===0&&(Mt=5)}function Xs(t,e,n){var r=ze,i=Qn.transition;try{Qn.transition=null,ze=1,XN(t,e,n,r)}finally{Qn.transition=i,ze=r}return null}function XN(t,e,n,r){do Da();while(os!==null);if(Oe&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Db(t,s),t===Ut&&(Ct=Ut=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rh||(Rh=!0,jP(Td,function(){return Da(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var o=ze;ze=1;var a=Oe;Oe|=4,wv.current=null,HN(t,n),DP(n,t),yN(gg),Id=!!mg,gg=mg=null,t.current=n,YN(n),Tb(),Oe=a,ze=o,Qn.transition=s}else t.current=n;if(Rh&&(Rh=!1,os=t,jd=i),s=t.pendingLanes,s===0&&(ms=null),Pb(n.stateNode),An(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ud)throw Ud=!1,t=Lg,Lg=null,t;return jd&1&&t.tag!==0&&Da(),s=t.pendingLanes,s&1?t===Vg?Eu++:(Eu=0,Vg=t):Eu=0,Os(),null}function Da(){if(os!==null){var t=yI(jd),e=Qn.transition,n=ze;try{if(Qn.transition=null,ze=16>t?16:t,os===null)var r=!1;else{if(t=os,os=null,jd=0,Oe&6)throw Error(W(331));var i=Oe;for(Oe|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ee=c;ee!==null;){var h=ee;switch(h.tag){case 0:case 11:case 15:_u(8,h,s)}var d=h.child;if(d!==null)d.return=h,ee=d;else for(;ee!==null;){h=ee;var p=h.sibling,g=h.return;if(AP(h),h===c){ee=null;break}if(p!==null){p.return=g,ee=p;break}ee=g}}}var _=s.alternate;if(_!==null){var I=_.child;if(I!==null){_.child=null;do{var k=I.sibling;I.sibling=null,I=k}while(I!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_u(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,ee=T;break e}ee=s.return}}var y=t.current;for(ee=y;ee!==null;){o=ee;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ee=E;else e:for(o=y;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kf(9,a)}}catch(U){yt(a,a.return,U)}if(a===o){ee=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,ee=b;break e}ee=a.return}}if(Oe=i,Os(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(_f,t)}catch{}r=!0}return r}finally{ze=n,Qn.transition=e}}return!1}function hE(t,e,n){e=Wa(n,e),e=yP(t,e,1),t=ps(t,e,1),e=gn(),t!==null&&(Tc(t,1,e),An(t,e))}function yt(t,e,n){if(t.tag===3)hE(t,t,n);else for(;e!==null;){if(e.tag===3){hE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ms===null||!ms.has(r))){t=Wa(n,t),t=vP(e,t,1),e=ps(e,t,1),t=gn(),e!==null&&(Tc(e,1,t),An(e,t));break}}e=e.return}}function JN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Yt&n)===n&&(Mt===4||Mt===3&&(Yt&130023424)===Yt&&500>It()-Tv?ho(t,0):Ev|=n),An(t,e)}function FP(t,e){e===0&&(t.mode&1?(e=gh,gh<<=1,!(gh&130023424)&&(gh=4194304)):e=1);var n=gn();t=Pi(t,e),t!==null&&(Tc(t,e,n),An(t,n))}function ZN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FP(t,n)}function eM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),FP(t,n)}var UP;UP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,BN(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,at&&e.flags&1048576&&$I(e,Dd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xh(t,e),t=e.pendingProps;var i=ja(e,dn.current);xa(e,n),i=mv(null,e,r,t,i,n);var s=gv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(s=!0,Cd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cv(e),i.updater=Rf,e.stateNode=i,i._reactInternals=e,Pg(e,r,t,n),e=Ag(null,e,r,!0,s,n)):(e.tag=0,at&&s&&rv(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nM(r),t=ar(r,t),i){case 0:e=kg(null,e,r,t,n);break e;case 1:e=tE(null,e,r,t,n);break e;case 11:e=Zw(null,e,r,t,n);break e;case 14:e=eE(null,e,r,ar(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),kg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),tE(t,e,r,i,n);case 3:e:{if(TP(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,qI(t,e),Md(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wa(Error(W(423)),e),e=nE(t,e,r,n,i);break e}else if(r!==i){i=Wa(Error(W(424)),e),e=nE(t,e,r,n,i);break e}else for(Nn=fs(e.stateNode.containerInfo.firstChild),Ln=e,at=!0,cr=null,n=GI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ba(),r===i){e=Ri(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return QI(e),t===null&&Tg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yg(r,i)?o=null:s!==null&&yg(r,s)&&(e.flags|=32),EP(t,e),mn(t,e,o,n),e.child;case 6:return t===null&&Tg(e),null;case 13:return SP(t,e,n);case 4:return hv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=za(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Zw(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(bd,r._currentValue),r._currentValue=o,s!==null)if(pr(s.value,o)){if(s.children===i.children&&!Rn.current){e=Ri(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xa(e,n),i=Zn(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=ar(r,e.pendingProps),i=ar(r.type,i),eE(t,e,r,i,n);case 15:return _P(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Xh(t,e),e.tag=1,kn(r)?(t=!0,Cd(e)):t=!1,xa(e,n),gP(e,r,i),Pg(e,r,i,n),Ag(null,e,r,!0,t,n);case 19:return IP(t,e,n);case 22:return wP(t,e,n)}throw Error(W(156,e.tag))};function jP(t,e){return fI(t,e)}function tM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new tM(t,e,n,r)}function Rv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nM(t){if(typeof t=="function")return Rv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hy)return 11;if(t===Yy)return 14}return 2}function ys(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ed(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Rv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case aa:return fo(n.children,i,s,e);case Wy:o=8,i|=8;break;case qm:return t=qn(12,n,e,i|2),t.elementType=qm,t.lanes=s,t;case Qm:return t=qn(13,n,e,i),t.elementType=Qm,t.lanes=s,t;case Xm:return t=qn(19,n,e,i),t.elementType=Xm,t.lanes=s,t;case Q1:return Cf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K1:o=10;break e;case q1:o=9;break e;case Hy:o=11;break e;case Yy:o=14;break e;case Qi:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fo(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Cf(t,e,n,r){return t=qn(22,t,r,e),t.elementType=Q1,t.lanes=n,t.stateNode={isHidden:!1},t}function hm(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function dm(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yp(0),this.expirationTimes=Yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kv(t,e,n,r,i,s,o,a,l){return t=new rM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(s),t}function iM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BP(t){if(!t)return Ps;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(kn(n))return BI(t,n,e)}return e}function zP(t,e,n,r,i,s,o,a,l){return t=kv(n,r,!0,t,i,s,o,a,l),t.context=BP(null),n=t.current,r=gn(),i=gs(n),s=pi(r,i),s.callback=e??null,ps(n,s,i),t.current.lanes=i,Tc(t,i,r),An(t,r),t}function xf(t,e,n,r){var i=e.current,s=gn(),o=gs(i);return n=BP(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ps(i,e,o),t!==null&&(fr(t,i,o,s),Kh(t,i,o)),o}function zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Av(t,e){dE(t,e),(t=t.alternate)&&dE(t,e)}function sM(){return null}var $P=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cv(t){this._internalRoot=t}Df.prototype.render=Cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));xf(t,e,null,null)};Df.prototype.unmount=Cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;To(function(){xf(null,t,null,null)}),e[Ii]=null}};function Df(t){this._internalRoot=t}Df.prototype.unstable_scheduleHydration=function(t){if(t){var e=wI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ji.length&&e!==0&&e<Ji[n].priority;n++);Ji.splice(n,0,t),n===0&&TI(t)}};function xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fE(){}function oM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=zd(o);s.call(c)}}var o=zP(e,r,t,0,null,!1,!1,"",fE);return t._reactRootContainer=o,t[Ii]=o.current,Bu(t.nodeType===8?t.parentNode:t),To(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=zd(l);a.call(c)}}var l=kv(t,0,!1,null,null,!1,!1,"",fE);return t._reactRootContainer=l,t[Ii]=l.current,Bu(t.nodeType===8?t.parentNode:t),To(function(){xf(e,l,n,r)}),l}function Nf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=zd(o);a.call(l)}}xf(e,o,t,i)}else o=oM(n,e,t,i,r);return zd(o)}vI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(qy(e,n|1),An(e,It()),!(Oe&6)&&(Ha=It()+500,Os()))}break;case 13:To(function(){var r=Pi(t,1);if(r!==null){var i=gn();fr(r,t,1,i)}}),Av(t,1)}};Qy=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=gn();fr(e,t,134217728,n)}Av(t,134217728)}};_I=function(t){if(t.tag===13){var e=gs(t),n=Pi(t,e);if(n!==null){var r=gn();fr(n,t,e,r)}Av(t,e)}};wI=function(){return ze};EI=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};ag=function(t,e,n){switch(e){case"input":if(eg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sf(r);if(!i)throw Error(W(90));J1(r),eg(r,i)}}}break;case"textarea":eI(t,n);break;case"select":e=n.value,e!=null&&Ra(t,!!n.multiple,e,!1)}};aI=Sv;lI=To;var aM={usingClientEntryPoint:!1,Events:[Ic,ha,Sf,sI,oI,Sv]},zl={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lM={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hI(t),t===null?null:t.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||sM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{_f=kh.inject(lM),Or=kh}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aM;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xv(e))throw Error(W(200));return iM(t,e,null,n)};Un.createRoot=function(t,e){if(!xv(t))throw Error(W(299));var n=!1,r="",i=$P;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kv(t,1,!1,null,null,n,!1,r,i),t[Ii]=e.current,Bu(t.nodeType===8?t.parentNode:t),new Cv(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=hI(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return To(t)};Un.hydrate=function(t,e,n){if(!bf(e))throw Error(W(200));return Nf(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!xv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$P;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zP(e,null,t,1,n??null,i,!1,s,o),t[Ii]=e.current,Bu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Df(e)};Un.render=function(t,e,n){if(!bf(e))throw Error(W(200));return Nf(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!bf(t))throw Error(W(40));return t._reactRootContainer?(To(function(){Nf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ii]=null})}),!0):!1};Un.unstable_batchedUpdates=Sv;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Nf(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function WP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WP)}catch(t){console.error(t)}}WP(),W1.exports=Un;var Dv=W1.exports;const tu=b1(Dv),uM=D1({__proto__:null,default:tu},[Dv]);var pE=Dv;Gm.createRoot=pE.createRoot,Gm.hydrateRoot=pE.hydrateRoot;const bv=D.createContext();let cM=(t,e)=>{switch(e.type){case"CHANGE_THEME":return{...t,theme:e.payload};default:return t}};const hM=({children:t})=>{let[e,n]=D.useReducer(cM,{theme:"light"}),r=s=>{n({type:"CHANGE_THEME",payload:s})};const i=e.theme==="dark";return N(bv.Provider,{value:{...e,isDark:i,changeTheme:r},children:t})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[h],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new fM;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const _=c<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pM=function(t){const e=HP(t);return YP.encodeByteArray(e,!0)},$d=function(t){return pM(t).replace(/\./g,"")},GP=function(t){try{return YP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=()=>mM().__FIREBASE_DEFAULTS__,yM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GP(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return gM()||yM()||vM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KP=t=>{var e,n;return(n=(e=Mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qP=t=>{const e=KP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QP=()=>{var t;return(t=Mf())===null||t===void 0?void 0:t.config},XP=t=>{var e;return(e=Mf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _M=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[$d(JSON.stringify(n)),$d(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function EM(){var t;const e=(t=Mf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IM(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PM(){return!EM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RM(){try{return typeof indexedDB=="object"}catch{return!1}}function kM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AM,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,a,r)}}function CM(t,e){return t.replace(xM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xM=/\{\$([^}]+)}/g;function DM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mE(s)&&mE(o)){if(!Wd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bM(t,e){const n=new NM(t,e);return n.subscribe.bind(n)}class NM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fm),i.error===void 0&&(i.error=fm),i.complete===void 0&&(i.complete=fm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _M;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VM(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LM(t){return t===Js?void 0:t}function VM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const UM={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},jM=Ce.INFO,BM={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},zM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nv{constructor(e){this.name=e,this._logLevel=jM,this._logHandler=zM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const $M=(t,e)=>e.some(n=>t instanceof n);let gE,yE;function WM(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HM(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZP=new WeakMap,jg=new WeakMap,eR=new WeakMap,pm=new WeakMap,Mv=new WeakMap;function YM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZP.set(n,t)}).catch(()=>{}),Mv.set(e,t),e}function GM(t){if(jg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jg.set(t,e)}let Bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KM(t){Bg=t(Bg)}function qM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mm(this),e,...n);return eR.set(r,e.sort?e.sort():[e]),vs(r)}:HM().includes(t)?function(...e){return t.apply(mm(this),e),vs(ZP.get(this))}:function(...e){return vs(t.apply(mm(this),e))}}function QM(t){return typeof t=="function"?qM(t):(t instanceof IDBTransaction&&GM(t),$M(t,WM())?new Proxy(t,Bg):t)}function vs(t){if(t instanceof IDBRequest)return YM(t);if(pm.has(t))return pm.get(t);const e=QM(t);return e!==t&&(pm.set(t,e),Mv.set(e,t)),e}const mm=t=>Mv.get(t);function XM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vs(o.result),l.oldVersion,l.newVersion,vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JM=["get","getKey","getAll","getAllKeys","count"],ZM=["put","add","delete","clear"],gm=new Map;function vE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return gm.set(e,s),s}KM(t=>({...t,get:(e,n,r)=>vE(e,n)||t.get(e,n,r),has:(e,n)=>!!vE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zg="@firebase/app",_E="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new Nv("@firebase/app"),nO="@firebase/app-compat",rO="@firebase/analytics-compat",iO="@firebase/analytics",sO="@firebase/app-check-compat",oO="@firebase/app-check",aO="@firebase/auth",lO="@firebase/auth-compat",uO="@firebase/database",cO="@firebase/database-compat",hO="@firebase/functions",dO="@firebase/functions-compat",fO="@firebase/installations",pO="@firebase/installations-compat",mO="@firebase/messaging",gO="@firebase/messaging-compat",yO="@firebase/performance",vO="@firebase/performance-compat",_O="@firebase/remote-config",wO="@firebase/remote-config-compat",EO="@firebase/storage",TO="@firebase/storage-compat",SO="@firebase/firestore",IO="@firebase/vertexai-preview",PO="@firebase/firestore-compat",RO="firebase",kO="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="[DEFAULT]",AO={[zg]:"fire-core",[nO]:"fire-core-compat",[iO]:"fire-analytics",[rO]:"fire-analytics-compat",[oO]:"fire-app-check",[sO]:"fire-app-check-compat",[aO]:"fire-auth",[lO]:"fire-auth-compat",[uO]:"fire-rtdb",[cO]:"fire-rtdb-compat",[hO]:"fire-fn",[dO]:"fire-fn-compat",[fO]:"fire-iid",[pO]:"fire-iid-compat",[mO]:"fire-fcm",[gO]:"fire-fcm-compat",[yO]:"fire-perf",[vO]:"fire-perf-compat",[_O]:"fire-rc",[wO]:"fire-rc-compat",[EO]:"fire-gcs",[TO]:"fire-gcs-compat",[SO]:"fire-fst",[PO]:"fire-fst-compat",[IO]:"fire-vertex","fire-js":"fire-js",[RO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new Map,CO=new Map,Wg=new Map;function wE(t,e){try{t.container.addComponent(e)}catch(n){So.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Io(t){const e=t.name;if(Wg.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(const n of Hd.values())wE(n,t);for(const n of CO.values())wE(n,t);return!0}function Of(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Rc("app","Firebase",xO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=kO;function tR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$g,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _s.create("bad-app-name",{appName:String(i)});if(n||(n=QP()),!n)throw _s.create("no-options");const s=Hd.get(i);if(s){if(Wd(n,s.options)&&Wd(r,s.config))return s;throw _s.create("duplicate-app",{appName:i})}const o=new FM(i);for(const l of Wg.values())o.addComponent(l);const a=new DO(n,r,o);return Hd.set(i,a),a}function Ov(t=$g){const e=Hd.get(t);if(!e&&t===$g&&QP())return tR();if(!e)throw _s.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let i=(r=AO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),So.warn(a.join(" "));return}Io(new Rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="firebase-heartbeat-database",NO=1,Qu="firebase-heartbeat-store";let ym=null;function nR(){return ym||(ym=XM(bO,NO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw _s.create("idb-open",{originalErrorMessage:t.message})})),ym}async function MO(t){try{const n=(await nR()).transaction(Qu),r=await n.objectStore(Qu).get(rR(t));return await n.done,r}catch(e){if(e instanceof Yr)So.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});So.warn(n.message)}}}async function EE(t,e){try{const r=(await nR()).transaction(Qu,"readwrite");await r.objectStore(Qu).put(e,rR(t)),await r.done}catch(n){if(n instanceof Yr)So.warn(n.message);else{const r=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});So.warn(r.message)}}}function rR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=1024,LO=30*24*60*60*1e3;class VO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=LO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TE(),{heartbeatsToSend:r,unsentEntries:i}=FO(this._heartbeatsCache.heartbeats),s=$d(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function TE(){return new Date().toISOString().substring(0,10)}function FO(t,e=OO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RM()?kM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return EE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return EE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function SE(t){return $d(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){Io(new Rs("platform-logger",e=>new eO(e),"PRIVATE")),Io(new Rs("heartbeat",e=>new VO(e),"PRIVATE")),Vr(zg,_E,t),Vr(zg,_E,"esm2017"),Vr("fire-js","")}jO("");function Lv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BO=iR,sR=new Rc("auth","Firebase",iR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Nv("@firebase/auth");function zO(t,...e){Yd.logLevel<=Ce.WARN&&Yd.warn(`Auth (${Mo}): ${t}`,...e)}function td(t,...e){Yd.logLevel<=Ce.ERROR&&Yd.error(`Auth (${Mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw Vv(t,...e)}function Fr(t,...e){return Vv(t,...e)}function oR(t,e,n){const r=Object.assign(Object.assign({},BO()),{[e]:n});return new Rc("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return oR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sR.create(t,...e)}function le(t,e,...n){if(!t)throw Vv(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw td(e),new Error(e)}function ki(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $O(){return IE()==="http:"||IE()==="https:"}function IE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($O()||TM()||"connection"in navigator)?navigator.onLine:!0}function HO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=wM()||SM()}get(){return WO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new Ac(3e4,6e4);function Ni(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mi(t,e,n,r,i={}){return lR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=kc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),aR.fetch()(uR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function lR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YO),e);try{const i=new qO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ah(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ah(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ah(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oR(t,h,c);mr(t,h)}}catch(i){if(i instanceof Yr)throw i;mr(t,"network-request-failed",{message:String(i)})}}async function Cc(t,e,n,r,i={}){const s=await Mi(t,e,n,r,i);return"mfaPendingCredential"in s&&mr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function uR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Fv(t.config,i):`${t.config.apiScheme}://${i}`}function KO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),GO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fr(t,e,r);return i.customData._tokenResponse=n,i}function PE(t){return t!==void 0&&t.enterprise!==void 0}class QO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function XO(t,e){return Mi(t,"GET","/v2/recaptchaConfig",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e){return Mi(t,"POST","/v1/accounts:delete",e)}async function cR(t,e){return Mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZO(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=Uv(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Tu(vm(i.auth_time)),issuedAtTime:Tu(vm(i.iat)),expirationTime:Tu(vm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vm(t){return Number(t)*1e3}function Uv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{const i=GP(n);return i?JSON.parse(i):(td("Failed to decode base64 JWT payload"),null)}catch(i){return td("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RE(t){const e=Uv(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&e2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xu(t,cR(n,{idToken:r}));le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hR(s.providerUserInfo):[],a=r2(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function n2(t){const e=ft(t);await Gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hR(t){return t.map(e=>{var{providerId:n}=e,r=Lv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(t,e){const n=await lR(t,{},async()=>{const r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s2(t,e){return Mi(t,"POST","/v2/accounts:revokeToken",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=RE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await i2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ba;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xu(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZO(this,e)}reload(){return n2(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await Xu(this,JO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:b,isAnonymous:U,providerData:x,stsTokenManager:R}=n;le(E&&R,e,"internal-error");const v=ba.fromJSON(this.name,R);le(typeof E=="string",e,"internal-error"),Gi(d,e.name),Gi(p,e.name),le(typeof b=="boolean",e,"internal-error"),le(typeof U=="boolean",e,"internal-error"),Gi(g,e.name),Gi(_,e.name),Gi(I,e.name),Gi(k,e.name),Gi(T,e.name),Gi(y,e.name);const S=new li({uid:E,auth:e,email:p,emailVerified:b,displayName:d,isAnonymous:U,photoURL:_,phoneNumber:g,tenantId:I,stsTokenManager:v,createdAt:T,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map(P=>Object.assign({},P))),k&&(S._redirectEventId=k),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new ba;i.updateFromServerResponse(n);const s=new li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?hR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ba;a.updateFromIdToken(r);const l=new li({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Yg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function ui(t){ki(t instanceof Function,"Expected a class definition");let e=kE.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dR.type="NONE";const AE=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=nd(this.userKey,i.apiKey,s),this.fullPersistenceKey=nd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Na(ui(AE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ui(AE);const o=nd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=li._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Na(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Na(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yR(e))return"Blackberry";if(vR(e))return"Webos";if(jv(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(gR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fR(t=Qt()){return/firefox\//i.test(t)}function jv(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=Qt()){return/crios\//i.test(t)}function mR(t=Qt()){return/iemobile/i.test(t)}function gR(t=Qt()){return/android/i.test(t)}function yR(t=Qt()){return/blackberry/i.test(t)}function vR(t=Qt()){return/webos/i.test(t)}function Lf(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o2(t=Qt()){var e;return Lf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a2(){return IM()&&document.documentMode===10}function _R(t=Qt()){return Lf(t)||gR(t)||vR(t)||yR(t)||/windows phone/i.test(t)||mR(t)}function l2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e=[]){let n;switch(t){case"Browser":n=CE(Qt());break;case"Worker":n=`${CE(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(t,e={}){return Mi(t,"GET","/v2/passwordPolicy",Ni(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=6;class d2{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:h2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new u2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cR(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(mi(this));const n=e?ft(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c2(this),n=new d2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ls(t){return ft(t)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bM(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p2(t){Vf=t}function ER(t){return Vf.loadJS(t)}function m2(){return Vf.recaptchaEnterpriseScript}function g2(){return Vf.gapiScript}function y2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const v2="recaptcha-enterprise",_2="NO_RECAPTCHA";class w2{constructor(e){this.type=v2,this.auth=Ls(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{XO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new QO(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;PE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(_2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&PE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=m2();l.length!==0&&(l+=a),ER(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function DE(t,e,n,r=!1){const i=new w2(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Kd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await DE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await DE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e){const n=Of(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wd(s,e??{}))return i;mr(i,"already-initialized")}return n.initialize({options:e})}function T2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function S2(t,e,n){const r=Ls(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=TR(e),{host:o,port:a}=I2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||P2()}function TR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I2(t){const e=TR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bE(o)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function P2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function R2(t,e){return Mi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e){return Cc(t,"POST","/v1/accounts:signInWithPassword",Ni(t,e))}async function A2(t,e){return Mi(t,"POST","/v1/accounts:sendOobCode",Ni(t,e))}async function C2(t,e){return A2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,e))}async function D2(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Bv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ju(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ju(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,n,"signInWithPassword",k2);case"emailLink":return x2(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,r,"signUpPassword",R2);case"emailLink":return D2(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t,e){return Cc(t,"POST","/v1/accounts:signInWithIdp",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="http://localhost";class Po extends Bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Lv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Po(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ma(e,n)}buildRequest(){const e={requestUri:b2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M2(t){const e=nu(ru(t)).link,n=e?nu(ru(e)).deep_link_id:null,r=nu(ru(t)).deep_link_id;return(r?nu(ru(r)).link:null)||r||n||e||t}class zv{constructor(e){var n,r,i,s,o,a;const l=nu(ru(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=N2((i=l.mode)!==null&&i!==void 0?i:null);le(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=M2(e);try{return new zv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(e,n){return Ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zv.parseLink(n);return le(r,"argument-error"),Ju._fromEmailAndCode(e,r.code,r.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends SR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends xc{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Po._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends xc{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends xc{constructor(){super("twitter.com")}static credential(e,n){return Po._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e){return Cc(t,"POST","/v1/accounts:signUp",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await li._fromIdTokenResponse(e,r,i),o=NE(r);return new Ro({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=NE(r);return new Ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function NE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qd(e,n,r,i)}}function IR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(t,s,e,r):s})}async function L2(t,e,n=!1){const r=await Xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(mi(r));const i="reauthenticate";try{const s=await Xu(t,IR(r,i,e,t),n);le(s.idToken,r,"internal-error");const o=Uv(s.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(t,e,n=!1){if(Nr(t.app))return Promise.reject(mi(t));const r="signIn",i=await IR(t,r,e),s=await Ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function F2(t,e){return PR(Ls(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t,e,n){var r;le(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t){const e=Ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j2(t,e,n){const r=Ls(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&U2(r,i,n),await Kd(r,i,"getOobCode",C2)}async function B2(t,e,n){if(Nr(t.app))return Promise.reject(mi(t));const r=Ls(t),o=await Kd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&RR(t),l}),a=await Ro._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function z2(t,e,n){return Nr(t.app)?Promise.reject(mi(t)):F2(ft(t),ol.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RR(t),r})}function $2(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function W2(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function kR(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function H2(t){return ft(t).signOut()}const Qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){const t=Qt();return jv(t)||Lf(t)}const G2=1e3,K2=10;class CR extends AR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Y2()&&l2(),this.fallbackToPolling=_R(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);a2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,K2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CR.type="LOCAL";const q2=CR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR extends AR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xR.type="SESSION";const DR=xR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Q2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=$v("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function J2(t){Ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function Z2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tL(){return bR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebaseLocalStorageDb",nL=1,Xd="firebaseLocalStorage",MR="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(t,e){return t.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function rL(){const t=indexedDB.deleteDatabase(NR);return new Dc(t).toPromise()}function Gg(){const t=indexedDB.open(NR,nL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xd,{keyPath:MR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xd)?e(r):(r.close(),await rL(),e(await Gg()))})})}async function ME(t,e,n){const r=Uf(t,!0).put({[MR]:e,value:n});return new Dc(r).toPromise()}async function iL(t,e){const n=Uf(t,!1).get(e),r=await new Dc(n).toPromise();return r===void 0?null:r.value}function OE(t,e){const n=Uf(t,!0).delete(e);return new Dc(n).toPromise()}const sL=800,oL=3;class OR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(tL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Z2(),!this.activeServiceWorker)return;this.sender=new X2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gg();return await ME(e,Qd,"1"),await OE(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ME(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Uf(i,!1).getAll();return new Dc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OR.type="LOCAL";const aL=OR;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e){return e?ui(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uL(t){return PR(t.auth,new Wv(t),t.bypassAuthState)}function cL(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),V2(n,new Wv(t),t.bypassAuthState)}async function hL(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),L2(n,new Wv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uL;case"linkViaPopup":case"linkViaRedirect":return hL;case"reauthViaPopup":case"reauthViaRedirect":return cL;default:mr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new Ac(2e3,1e4);class va extends LR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=$v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dL.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="pendingRedirect",rd=new Map;class pL extends LR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rd.get(this.auth._key());if(!e){try{const r=await mL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mL(t,e){const n=vL(e),r=yL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function gL(t,e){rd.set(t._key(),e)}function yL(t){return ui(t._redirectPersistence)}function vL(t){return nd(fL,t.config.apiKey,t.name)}async function _L(t,e,n=!1){if(Nr(t.app))return Promise.reject(mi(t));const r=Ls(t),i=lL(r,e),o=await new pL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=10*60*1e3;class EL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wL&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(e))}saveEventToCache(e){this.cachedEventUids.add(LE(e)),this.lastProcessedEventTime=Date.now()}}function LE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e={}){return Mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PL=/^https?/;async function RL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SL(t);for(const n of e)try{if(kL(n))return}catch{}mr(t,"unauthorized-domain")}function kL(t){const e=Hg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PL.test(n))return!1;if(IL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=new Ac(3e4,6e4);function VE(){const t=Ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CL(t){return new Promise((e,n)=>{var r,i,s;function o(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),n(Fr(t,"network-request-failed"))},timeout:AL.get()})}if(!((i=(r=Ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ur().gapi)===null||s===void 0)&&s.load)o();else{const a=y2("iframefcb");return Ur()[a]=()=>{gapi.load?o():n(Fr(t,"network-request-failed"))},ER(`${g2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw id=null,e})}let id=null;function xL(t){return id=id||CL(t),id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new Ac(5e3,15e3),bL="__/auth/iframe",NL="emulator/auth/iframe",ML={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LL(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fv(e,NL):`https://${t.config.authDomain}/${bL}`,r={apiKey:e.apiKey,appName:t.name,v:Mo},i=OL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${kc(r).slice(1)}`}async function VL(t){const e=await xL(t),n=Ur().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:LL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ML,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Fr(t,"network-request-failed"),a=Ur().setTimeout(()=>{s(o)},DL.get());function l(){Ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UL=500,jL=600,BL="_blank",zL="http://localhost";class FE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $L(t,e,n,r=UL,i=jL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},FL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Qt().toLowerCase();n&&(a=pR(c)?BL:n),fR(c)&&(e=e||zL,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(o2(c)&&a!=="_self")return WL(e||"",a),new FE(null);const d=window.open(e||"",a,h);le(d,t,"popup-blocked");try{d.focus()}catch{}return new FE(d)}function WL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="__/auth/handler",YL="emulator/auth/handler",GL=encodeURIComponent("fac");async function UE(t,e,n,r,i,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:i};if(e instanceof SR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(s||{}))o[h]=d}if(e instanceof xc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${GL}=${encodeURIComponent(l)}`:"";return`${KL(t)}?${kc(a).slice(1)}${c}`}function KL({config:t}){return t.emulator?Fv(t,YL):`https://${t.authDomain}/${HL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class qL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DR,this._completeRedirectFn=_L,this._overrideRedirectResult=gL}async _openPopup(e,n,r,i){var s;ki((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await UE(e,n,r,Hg(),i);return $L(e,o,$v())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await UE(e,n,r,Hg(),i);return J2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ki(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VL(e),r=new EL(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_m];o!==void 0&&n(!!o),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _R()||jv()||Lf()}}const QL=qL;var jE="@firebase/auth",BE="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZL(t){Io(new Rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(t)},c=new f2(r,i,s,l);return T2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Io(new Rs("auth-internal",e=>{const n=Ls(e.getProvider("auth").getImmediate());return(r=>new XL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(jE,BE,JL(t)),Vr(jE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=5*60,tV=XP("authIdTokenMaxAge")||eV;let zE=null;const nV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tV)return;const i=n==null?void 0:n.token;zE!==i&&(zE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rV(t=Ov()){const e=Of(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E2(t,{popupRedirectResolver:QL,persistence:[aL,q2,DR]}),r=XP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=nV(s.toString());W2(n,o,()=>o(n.currentUser)),$2(n,a=>o(a))}}const i=KP("auth");return i&&S2(n,`http://${i}`),n}function iV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",iV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZL("Browser");var sV="firebase",oV="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(sV,oV,"app");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,FR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,v){function S(){}S.prototype=v.prototype,R.D=v.prototype,R.prototype=new S,R.prototype.constructor=R,R.C=function(P,C,O){for(var A=Array(arguments.length-2),de=2;de<arguments.length;de++)A[de-2]=arguments[de];return v.prototype[C].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,v,S){S||(S=0);var P=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)P[C]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(C=0;16>C;++C)P[C]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=R.g[0],S=R.g[1],C=R.g[2];var O=R.g[3],A=v+(O^S&(C^O))+P[0]+3614090360&4294967295;v=S+(A<<7&4294967295|A>>>25),A=O+(C^v&(S^C))+P[1]+3905402710&4294967295,O=v+(A<<12&4294967295|A>>>20),A=C+(S^O&(v^S))+P[2]+606105819&4294967295,C=O+(A<<17&4294967295|A>>>15),A=S+(v^C&(O^v))+P[3]+3250441966&4294967295,S=C+(A<<22&4294967295|A>>>10),A=v+(O^S&(C^O))+P[4]+4118548399&4294967295,v=S+(A<<7&4294967295|A>>>25),A=O+(C^v&(S^C))+P[5]+1200080426&4294967295,O=v+(A<<12&4294967295|A>>>20),A=C+(S^O&(v^S))+P[6]+2821735955&4294967295,C=O+(A<<17&4294967295|A>>>15),A=S+(v^C&(O^v))+P[7]+4249261313&4294967295,S=C+(A<<22&4294967295|A>>>10),A=v+(O^S&(C^O))+P[8]+1770035416&4294967295,v=S+(A<<7&4294967295|A>>>25),A=O+(C^v&(S^C))+P[9]+2336552879&4294967295,O=v+(A<<12&4294967295|A>>>20),A=C+(S^O&(v^S))+P[10]+4294925233&4294967295,C=O+(A<<17&4294967295|A>>>15),A=S+(v^C&(O^v))+P[11]+2304563134&4294967295,S=C+(A<<22&4294967295|A>>>10),A=v+(O^S&(C^O))+P[12]+1804603682&4294967295,v=S+(A<<7&4294967295|A>>>25),A=O+(C^v&(S^C))+P[13]+4254626195&4294967295,O=v+(A<<12&4294967295|A>>>20),A=C+(S^O&(v^S))+P[14]+2792965006&4294967295,C=O+(A<<17&4294967295|A>>>15),A=S+(v^C&(O^v))+P[15]+1236535329&4294967295,S=C+(A<<22&4294967295|A>>>10),A=v+(C^O&(S^C))+P[1]+4129170786&4294967295,v=S+(A<<5&4294967295|A>>>27),A=O+(S^C&(v^S))+P[6]+3225465664&4294967295,O=v+(A<<9&4294967295|A>>>23),A=C+(v^S&(O^v))+P[11]+643717713&4294967295,C=O+(A<<14&4294967295|A>>>18),A=S+(O^v&(C^O))+P[0]+3921069994&4294967295,S=C+(A<<20&4294967295|A>>>12),A=v+(C^O&(S^C))+P[5]+3593408605&4294967295,v=S+(A<<5&4294967295|A>>>27),A=O+(S^C&(v^S))+P[10]+38016083&4294967295,O=v+(A<<9&4294967295|A>>>23),A=C+(v^S&(O^v))+P[15]+3634488961&4294967295,C=O+(A<<14&4294967295|A>>>18),A=S+(O^v&(C^O))+P[4]+3889429448&4294967295,S=C+(A<<20&4294967295|A>>>12),A=v+(C^O&(S^C))+P[9]+568446438&4294967295,v=S+(A<<5&4294967295|A>>>27),A=O+(S^C&(v^S))+P[14]+3275163606&4294967295,O=v+(A<<9&4294967295|A>>>23),A=C+(v^S&(O^v))+P[3]+4107603335&4294967295,C=O+(A<<14&4294967295|A>>>18),A=S+(O^v&(C^O))+P[8]+1163531501&4294967295,S=C+(A<<20&4294967295|A>>>12),A=v+(C^O&(S^C))+P[13]+2850285829&4294967295,v=S+(A<<5&4294967295|A>>>27),A=O+(S^C&(v^S))+P[2]+4243563512&4294967295,O=v+(A<<9&4294967295|A>>>23),A=C+(v^S&(O^v))+P[7]+1735328473&4294967295,C=O+(A<<14&4294967295|A>>>18),A=S+(O^v&(C^O))+P[12]+2368359562&4294967295,S=C+(A<<20&4294967295|A>>>12),A=v+(S^C^O)+P[5]+4294588738&4294967295,v=S+(A<<4&4294967295|A>>>28),A=O+(v^S^C)+P[8]+2272392833&4294967295,O=v+(A<<11&4294967295|A>>>21),A=C+(O^v^S)+P[11]+1839030562&4294967295,C=O+(A<<16&4294967295|A>>>16),A=S+(C^O^v)+P[14]+4259657740&4294967295,S=C+(A<<23&4294967295|A>>>9),A=v+(S^C^O)+P[1]+2763975236&4294967295,v=S+(A<<4&4294967295|A>>>28),A=O+(v^S^C)+P[4]+1272893353&4294967295,O=v+(A<<11&4294967295|A>>>21),A=C+(O^v^S)+P[7]+4139469664&4294967295,C=O+(A<<16&4294967295|A>>>16),A=S+(C^O^v)+P[10]+3200236656&4294967295,S=C+(A<<23&4294967295|A>>>9),A=v+(S^C^O)+P[13]+681279174&4294967295,v=S+(A<<4&4294967295|A>>>28),A=O+(v^S^C)+P[0]+3936430074&4294967295,O=v+(A<<11&4294967295|A>>>21),A=C+(O^v^S)+P[3]+3572445317&4294967295,C=O+(A<<16&4294967295|A>>>16),A=S+(C^O^v)+P[6]+76029189&4294967295,S=C+(A<<23&4294967295|A>>>9),A=v+(S^C^O)+P[9]+3654602809&4294967295,v=S+(A<<4&4294967295|A>>>28),A=O+(v^S^C)+P[12]+3873151461&4294967295,O=v+(A<<11&4294967295|A>>>21),A=C+(O^v^S)+P[15]+530742520&4294967295,C=O+(A<<16&4294967295|A>>>16),A=S+(C^O^v)+P[2]+3299628645&4294967295,S=C+(A<<23&4294967295|A>>>9),A=v+(C^(S|~O))+P[0]+4096336452&4294967295,v=S+(A<<6&4294967295|A>>>26),A=O+(S^(v|~C))+P[7]+1126891415&4294967295,O=v+(A<<10&4294967295|A>>>22),A=C+(v^(O|~S))+P[14]+2878612391&4294967295,C=O+(A<<15&4294967295|A>>>17),A=S+(O^(C|~v))+P[5]+4237533241&4294967295,S=C+(A<<21&4294967295|A>>>11),A=v+(C^(S|~O))+P[12]+1700485571&4294967295,v=S+(A<<6&4294967295|A>>>26),A=O+(S^(v|~C))+P[3]+2399980690&4294967295,O=v+(A<<10&4294967295|A>>>22),A=C+(v^(O|~S))+P[10]+4293915773&4294967295,C=O+(A<<15&4294967295|A>>>17),A=S+(O^(C|~v))+P[1]+2240044497&4294967295,S=C+(A<<21&4294967295|A>>>11),A=v+(C^(S|~O))+P[8]+1873313359&4294967295,v=S+(A<<6&4294967295|A>>>26),A=O+(S^(v|~C))+P[15]+4264355552&4294967295,O=v+(A<<10&4294967295|A>>>22),A=C+(v^(O|~S))+P[6]+2734768916&4294967295,C=O+(A<<15&4294967295|A>>>17),A=S+(O^(C|~v))+P[13]+1309151649&4294967295,S=C+(A<<21&4294967295|A>>>11),A=v+(C^(S|~O))+P[4]+4149444226&4294967295,v=S+(A<<6&4294967295|A>>>26),A=O+(S^(v|~C))+P[11]+3174756917&4294967295,O=v+(A<<10&4294967295|A>>>22),A=C+(v^(O|~S))+P[2]+718787259&4294967295,C=O+(A<<15&4294967295|A>>>17),A=S+(O^(C|~v))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+v&4294967295,R.g[1]=R.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+C&4294967295,R.g[3]=R.g[3]+O&4294967295}r.prototype.u=function(R,v){v===void 0&&(v=R.length);for(var S=v-this.blockSize,P=this.B,C=this.h,O=0;O<v;){if(C==0)for(;O<=S;)i(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<v;)if(P[C++]=R.charCodeAt(O++),C==this.blockSize){i(this,P),C=0;break}}else for(;O<v;)if(P[C++]=R[O++],C==this.blockSize){i(this,P),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var v=1;v<R.length-8;++v)R[v]=0;var S=8*this.o;for(v=R.length-8;v<R.length;++v)R[v]=S&255,S/=256;for(this.u(R),R=Array(16),v=S=0;4>v;++v)for(var P=0;32>P;P+=8)R[S++]=this.g[v]>>>P&255;return R};function s(R,v){var S=a;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=v(R)}function o(R,v){this.h=v;for(var S=[],P=!0,C=R.length-1;0<=C;C--){var O=R[C]|0;P&&O==v||(S[C]=O,P=!1)}this.g=S}var a={};function l(R){return-128<=R&&128>R?s(R,function(v){return new o([v|0],0>v?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return d;if(0>R)return k(c(-R));for(var v=[],S=1,P=0;R>=S;P++)v[P]=R/S|0,S*=4294967296;return new o(v,0)}function h(R,v){if(R.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(R.charAt(0)=="-")return k(h(R.substring(1),v));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(v,8)),P=d,C=0;C<R.length;C+=8){var O=Math.min(8,R.length-C),A=parseInt(R.substring(C,C+O),v);8>O?(O=c(Math.pow(v,O)),P=P.j(O).add(c(A))):(P=P.j(S),P=P.add(c(A)))}return P}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-k(this).m();for(var R=0,v=1,S=0;S<this.g.length;S++){var P=this.i(S);R+=(0<=P?P:4294967296+P)*v,v*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(_(this))return"0";if(I(this))return"-"+k(this).toString(R);for(var v=c(Math.pow(R,6)),S=this,P="";;){var C=b(S,v).g;S=T(S,C.j(v));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(R);if(S=C,_(S))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function _(R){if(R.h!=0)return!1;for(var v=0;v<R.g.length;v++)if(R.g[v]!=0)return!1;return!0}function I(R){return R.h==-1}t.l=function(R){return R=T(this,R),I(R)?-1:_(R)?0:1};function k(R){for(var v=R.g.length,S=[],P=0;P<v;P++)S[P]=~R.g[P];return new o(S,~R.h).add(p)}t.abs=function(){return I(this)?k(this):this},t.add=function(R){for(var v=Math.max(this.g.length,R.g.length),S=[],P=0,C=0;C<=v;C++){var O=P+(this.i(C)&65535)+(R.i(C)&65535),A=(O>>>16)+(this.i(C)>>>16)+(R.i(C)>>>16);P=A>>>16,O&=65535,A&=65535,S[C]=A<<16|O}return new o(S,S[S.length-1]&-2147483648?-1:0)};function T(R,v){return R.add(k(v))}t.j=function(R){if(_(this)||_(R))return d;if(I(this))return I(R)?k(this).j(k(R)):k(k(this).j(R));if(I(R))return k(this.j(k(R)));if(0>this.l(g)&&0>R.l(g))return c(this.m()*R.m());for(var v=this.g.length+R.g.length,S=[],P=0;P<2*v;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var C=0;C<R.g.length;C++){var O=this.i(P)>>>16,A=this.i(P)&65535,de=R.i(C)>>>16,xe=R.i(C)&65535;S[2*P+2*C]+=A*xe,y(S,2*P+2*C),S[2*P+2*C+1]+=O*xe,y(S,2*P+2*C+1),S[2*P+2*C+1]+=A*de,y(S,2*P+2*C+1),S[2*P+2*C+2]+=O*de,y(S,2*P+2*C+2)}for(P=0;P<v;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=v;P<2*v;P++)S[P]=0;return new o(S,0)};function y(R,v){for(;(R[v]&65535)!=R[v];)R[v+1]+=R[v]>>>16,R[v]&=65535,v++}function E(R,v){this.g=R,this.h=v}function b(R,v){if(_(v))throw Error("division by zero");if(_(R))return new E(d,d);if(I(R))return v=b(k(R),v),new E(k(v.g),k(v.h));if(I(v))return v=b(R,k(v)),new E(k(v.g),v.h);if(30<R.g.length){if(I(R)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var S=p,P=v;0>=P.l(R);)S=U(S),P=U(P);var C=x(S,1),O=x(P,1);for(P=x(P,2),S=x(S,2);!_(P);){var A=O.add(P);0>=A.l(R)&&(C=C.add(S),O=A),P=x(P,1),S=x(S,1)}return v=T(R,C.j(v)),new E(C,v)}for(C=d;0<=R.l(v);){for(S=Math.max(1,Math.floor(R.m()/v.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=c(S),A=O.j(v);I(A)||0<A.l(R);)S-=P,O=c(S),A=O.j(v);_(O)&&(O=p),C=C.add(O),R=T(R,A)}return new E(C,R)}t.A=function(R){return b(this,R).h},t.and=function(R){for(var v=Math.max(this.g.length,R.g.length),S=[],P=0;P<v;P++)S[P]=this.i(P)&R.i(P);return new o(S,this.h&R.h)},t.or=function(R){for(var v=Math.max(this.g.length,R.g.length),S=[],P=0;P<v;P++)S[P]=this.i(P)|R.i(P);return new o(S,this.h|R.h)},t.xor=function(R){for(var v=Math.max(this.g.length,R.g.length),S=[],P=0;P<v;P++)S[P]=this.i(P)^R.i(P);return new o(S,this.h^R.h)};function U(R){for(var v=R.g.length+1,S=[],P=0;P<v;P++)S[P]=R.i(P)<<1|R.i(P-1)>>>31;return new o(S,R.h)}function x(R,v){var S=v>>5;v%=32;for(var P=R.g.length-S,C=[],O=0;O<P;O++)C[O]=0<v?R.i(O+S)>>>v|R.i(O+S+1)<<32-v:R.i(O+S);return new o(C,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,po=o}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UR,jR,iu,BR,sd,Kg,zR,$R,WR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var V=u[w];if(!(V in m))break e;m=m[V]}u=u[u.length-1],w=m[u],f=f(w),f!=w&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,w=!1,V={next:function(){if(!w&&m<u.length){var j=m++;return{value:f(j,u[j]),done:!1}}return w=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,m){return u.call.apply(u.bind,arguments)}function d(u,f,m){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,w),u.apply(f,V)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function g(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function _(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(w,V,j){for(var K=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)K[Ye-2]=arguments[Ye];return f.prototype[V].apply(w,K)}}function I(u){const f=u.length;if(0<f){const m=Array(f);for(let w=0;w<f;w++)m[w]=u[w];return m}return[]}function k(u,f){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(l(w)){const V=u.length||0,j=w.length||0;u.length=V+j;for(let K=0;K<j;K++)u[V+K]=w[K]}else u.push(w)}}class T{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var U=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function x(u,f,m){for(const w in u)f.call(m,u[w],w,u)}function R(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function v(u){const f={};for(const m in u)f[m]=u[m];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,f){let m,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(m in w)u[m]=w[m];for(let j=0;j<S.length;j++)m=S[j],Object.prototype.hasOwnProperty.call(w,m)&&(u[m]=w[m])}}function C(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function O(u){a.setTimeout(()=>{throw u},0)}function A(){var u=ae;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class de{constructor(){this.h=this.g=null}add(f,m){const w=xe.get();w.set(f,m),this.h?this.h.next=w:this.g=w,this.h=w}}var xe=new T(()=>new mt,u=>u.reset());class mt{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Y=!1,ae=new de,ue=()=>{const u=a.Promise.resolve(void 0);Ie=()=>{u.then(Ae)}};var Ae=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(m){O(m)}var f=xe;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}Y=!1};function Pe(){this.s=this.s,this.C=this.C}Pe.prototype.s=!1,Pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function me(u,f){if(Be.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(U){e:{try{b(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Qe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&me.aa.h.call(this)}}_(me,Be);var Qe={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),vl=0;function Dp(u,f,m,w,V){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!w,this.ha=V,this.key=++vl,this.da=this.fa=!1}function Bo(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zo(u){this.src=u,this.g={},this.h=0}zo.prototype.add=function(u,f,m,w,V){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var K=wr(u,f,w,V);return-1<K?(f=u[K],m||(f.fa=!1)):(f=new Dp(f,this.src,j,!!w,V),f.fa=m,u.push(f)),f};function bt(u,f){var m=f.type;if(m in u.g){var w=u.g[m],V=Array.prototype.indexOf.call(w,f,void 0),j;(j=0<=V)&&Array.prototype.splice.call(w,V,1),j&&(Bo(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function wr(u,f,m,w){for(var V=0;V<u.length;++V){var j=u[V];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==w)return V}return-1}var $o="closure_lm_"+(1e6*Math.random()|0),_l={};function Er(u,f,m,w,V){if(w&&w.once)return wl(u,f,m,w,V);if(Array.isArray(f)){for(var j=0;j<f.length;j++)Er(u,f[j],m,w,V);return null}return m=Wo(m),u&&u[Dt]?u.K(f,m,c(w)?!!w.capture:!!w,V):Kc(u,f,m,!1,w,V)}function Kc(u,f,m,w,V,j){if(!f)throw Error("Invalid event type");var K=c(V)?!!V.capture:!!V,Ye=Qr(u);if(Ye||(u[$o]=Ye=new zo(u)),m=Ye.add(f,m,w,K,j),m.proxy)return m;if(w=bp(),m.proxy=w,w.src=u,w.listener=m,u.addEventListener)ve||(V=K),V===void 0&&(V=!1),u.addEventListener(f.toString(),w,V);else if(u.attachEvent)u.attachEvent(Qc(f.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function bp(){function u(m){return f.call(u.src,u.listener,m)}const f=Np;return u}function wl(u,f,m,w,V){if(Array.isArray(f)){for(var j=0;j<f.length;j++)wl(u,f[j],m,w,V);return null}return m=Wo(m),u&&u[Dt]?u.L(f,m,c(w)?!!w.capture:!!w,V):Kc(u,f,m,!0,w,V)}function qc(u,f,m,w,V){if(Array.isArray(f))for(var j=0;j<f.length;j++)qc(u,f[j],m,w,V);else w=c(w)?!!w.capture:!!w,m=Wo(m),u&&u[Dt]?(u=u.i,f=String(f).toString(),f in u.g&&(j=u.g[f],m=wr(j,m,w,V),-1<m&&(Bo(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete u.g[f],u.h--)))):u&&(u=Qr(u))&&(f=u.g[f.toString()],u=-1,f&&(u=wr(f,m,w,V)),(m=-1<u?f[u]:null)&&El(m))}function El(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Dt])bt(f.i,u);else{var m=u.type,w=u.proxy;f.removeEventListener?f.removeEventListener(m,w,u.capture):f.detachEvent?f.detachEvent(Qc(m),w):f.addListener&&f.removeListener&&f.removeListener(w),(m=Qr(f))?(bt(m,u),m.h==0&&(m.src=null,f[$o]=null)):Bo(u)}}}function Qc(u){return u in _l?_l[u]:_l[u]="on"+u}function Np(u,f){if(u.da)u=!0;else{f=new me(f,this);var m=u.listener,w=u.ha||u.src;u.fa&&El(u),u=m.call(w,f)}return u}function Qr(u){return u=u[$o],u instanceof zo?u:null}var Xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(u){return typeof u=="function"?u:(u[Xr]||(u[Xr]=function(f){return u.handleEvent(f)}),u[Xr])}function Pt(){Pe.call(this),this.i=new zo(this),this.M=this,this.F=null}_(Pt,Pe),Pt.prototype[Dt]=!0,Pt.prototype.removeEventListener=function(u,f,m,w){qc(this,u,f,m,w)};function it(u,f){var m,w=u.F;if(w)for(m=[];w;w=w.F)m.push(w);if(u=u.M,w=f.type||f,typeof f=="string")f=new Be(f,u);else if(f instanceof Be)f.target=f.target||u;else{var V=f;f=new Be(w,u),P(f,V)}if(V=!0,m)for(var j=m.length-1;0<=j;j--){var K=f.g=m[j];V=_n(K,w,!0,f)&&V}if(K=f.g=u,V=_n(K,w,!0,f)&&V,V=_n(K,w,!1,f)&&V,m)for(j=0;j<m.length;j++)K=f.g=m[j],V=_n(K,w,!1,f)&&V}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],w=0;w<m.length;w++)Bo(m[w]);delete u.g[f],u.h--}}this.F=null},Pt.prototype.K=function(u,f,m,w){return this.i.add(String(u),f,!1,m,w)},Pt.prototype.L=function(u,f,m,w){return this.i.add(String(u),f,!0,m,w)};function _n(u,f,m,w){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,j=0;j<f.length;++j){var K=f[j];if(K&&!K.da&&K.capture==m){var Ye=K.listener,Bt=K.ha||K.src;K.fa&&bt(u.i,K),V=Ye.call(Bt,w)!==!1&&V}}return V&&!w.defaultPrevented}function Tl(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function zs(u){u.g=Tl(()=>{u.g=null,u.i&&(u.i=!1,zs(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Mp extends Pe{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(u){Pe.call(this),this.h=u,this.g={}}_(wn,Pe);var Sl=[];function Il(u){x(u.g,function(f,m){this.g.hasOwnProperty(m)&&El(f)},u),u.g={}}wn.prototype.N=function(){wn.aa.N.call(this),Il(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ho=a.JSON.stringify,Op=a.JSON.parse,Xc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ji(){}ji.prototype.h=null;function Pl(u){return u.h||(u.h=u.i())}function Yo(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $s(){Be.call(this,"d")}_($s,Be);function Rl(){Be.call(this,"c")}_(Rl,Be);var Sr={},Jc=null;function Ws(){return Jc=Jc||new Pt}Sr.La="serverreachability";function Go(u){Be.call(this,Sr.La,u)}_(Go,Be);function Ir(u){const f=Ws();it(f,new Go(f))}Sr.STAT_EVENT="statevent";function Zc(u,f){Be.call(this,Sr.STAT_EVENT,u),this.stat=f}_(Zc,Be);function jt(u){const f=Ws();it(f,new Zc(f,u))}Sr.Ma="timingevent";function M(u,f){Be.call(this,Sr.Ma,u),this.size=f}_(M,Be);function L(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function F(){this.g=!0}F.prototype.xa=function(){this.g=!1};function B(u,f,m,w,V,j){u.info(function(){if(u.g)if(j)for(var K="",Ye=j.split("&"),Bt=0;Bt<Ye.length;Bt++){var Le=Ye[Bt].split("=");if(1<Le.length){var Zt=Le[0];Le=Le[1];var en=Zt.split("_");K=2<=en.length&&en[1]=="type"?K+(Zt+"="+Le+"&"):K+(Zt+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+f+`
`+m+`
`+K})}function X(u,f,m,w,V,j,K){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+f+`
`+m+`
`+j+" "+K})}function te(u,f,m,w){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+G(u,m)+(w?" "+w:"")})}function ce(u,f){u.info(function(){return"TIMEOUT: "+f})}F.prototype.info=function(){};function G(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var w=m[u];if(!(2>w.length)){var V=w[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return Ho(m)}catch{return f}}var fe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ie;function Ne(){}_(Ne,ji),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},ie=new Ne;function Te(u,f,m,w){this.j=u,this.i=f,this.l=m,this.R=w||1,this.U=new wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}var Me={},wt={};function st(u,f,m){u.L=1,u.v=rh(Zr(f)),u.m=m,u.P=!0,Bi(u,null)}function Bi(u,f){u.F=Date.now(),ir(u),u.A=Zr(u.v);var m=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),F0(m.i,"t",w),u.C=0,m=u.j.J,u.h=new je,u.g=nw(u.j,m?f:null,!u.m),0<u.O&&(u.M=new Mp(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,w=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Sl[0]=V.toString()),V=Sl);for(var j=0;j<V.length;j++){var K=Er(m,V[j],w||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Ir(),B(u.i,u.u,u.A,u.l,u.R,u.m)}Te.prototype.ca=function(u){u=u.target;const f=this.M;f&&ei(u)==3?f.j():this.Y(u)},Te.prototype.Y=function(u){try{if(u==this.g)e:{const en=ei(this.g);var f=this.g.Ba();const Xo=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||H0(this.g)))){this.J||en!=4||f==7||(f==8||0>=Xo?Ir(3):Ir(2)),En(this);var m=this.g.Z();this.X=m;t:if(rr(this)){var w=H0(this.g);u="";var V=w.length,j=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),Pr(this);var K="";break t}this.h.i=new a.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,u+=this.h.i.decode(w[f],{stream:!(j&&f==V-1)});w.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=m==200,X(this.i,this.u,this.A,this.l,this.R,en,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Bt=this.g;if((Ye=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ye)){var Le=Ye;break t}}Le=null}if(m=Le)te(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$i(this,m);else{this.o=!1,this.s=3,jt(12),zn(this),Pr(this);break e}}if(this.P){m=!0;let sr;for(;!this.J&&this.C<K.length;)if(sr=zi(this,K),sr==wt){en==4&&(this.s=4,jt(14),m=!1),te(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==Me){this.s=4,jt(15),te(this.i,this.l,K,"[Invalid Chunk]"),m=!1;break}else te(this.i,this.l,sr,null),$i(this,sr);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||K.length!=0||this.h.h||(this.s=1,jt(16),m=!1),this.o=this.o&&m,!m)te(this.i,this.l,K,"[Invalid Chunked Response]"),zn(this),Pr(this);else if(0<K.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Up(Zt),Zt.M=!0,jt(11))}}else te(this.i,this.l,K,null),$i(this,K);en==4&&zn(this),this.o&&!this.J&&(en==4?J0(this.j,this):(this.o=!1,ir(this)))}else MD(this.g),m==400&&0<K.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),zn(this),Pr(this)}}}catch{}finally{}};function rr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zi(u,f){var m=u.C,w=f.indexOf(`
`,m);return w==-1?wt:(m=Number(f.substring(m,w)),isNaN(m)?Me:(w+=1,w+m>f.length?wt:(f=f.slice(w,w+m),u.C=w+m,f)))}Te.prototype.cancel=function(){this.J=!0,zn(this)};function ir(u){u.S=Date.now()+u.I,Jr(u,u.I)}function Jr(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=L(p(u.ba,u),f)}function En(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Te.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ce(this.i,this.A),this.L!=2&&(Ir(),jt(17)),zn(this),this.s=2,Pr(this)):Jr(this,this.S-u)};function Pr(u){u.j.G==0||u.J||J0(u.j,u)}function zn(u){En(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Il(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function $i(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||Cn(m.h,u))){if(!u.K&&Cn(m.h,u)&&m.G==3){try{var w=m.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)lh(m),oh(m);else break e;Fp(m),jt(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=L(p(m.Za,m),6e3));if(1>=He(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ys(m,11)}else if((u.K||m.g==u)&&lh(m),!y(f))for(V=m.Da.g.parse(f),f=0;f<V.length;f++){let Le=V[f];if(m.T=Le[0],Le=Le[1],m.G==2)if(Le[0]=="c"){m.K=Le[1],m.ia=Le[2];const Zt=Le[3];Zt!=null&&(m.la=Zt,m.j.info("VER="+m.la));const en=Le[4];en!=null&&(m.Aa=en,m.j.info("SVER="+m.Aa));const Xo=Le[5];Xo!=null&&typeof Xo=="number"&&0<Xo&&(w=1.5*Xo,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const sr=u.g;if(sr){const ch=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ch){var j=w.h;j.g||ch.indexOf("spdy")==-1&&ch.indexOf("quic")==-1&&ch.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ko(j,j.h),j.h=null))}if(w.D){const jp=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;jp&&(w.ya=jp,Je(w.I,w.D,jp))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var K=u;if(w.qa=tw(w,w.J?w.ia:null,w.W),K.K){eh(w.h,K);var Ye=K,Bt=w.L;Bt&&(Ye.I=Bt),Ye.B&&(En(Ye),ir(Ye)),w.g=K}else Q0(w);0<m.i.length&&ah(m)}else Le[0]!="stop"&&Le[0]!="close"||Ys(m,7);else m.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ys(m,7):Vp(m):Le[0]!="noop"&&m.l&&m.l.ta(Le),m.v=0)}}Ir(4)}catch{}}var _e=class{constructor(u,f){this.g=u,this.map=f}};function Xe(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jt(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function He(u){return u.h?1:u.g?u.g.size:0}function Cn(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Ko(u,f){u.g?u.g.add(f):u.h=f}function eh(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Xe.prototype.cancel=function(){if(this.i=D0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function D0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return I(u.i)}function _D(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,w=0;w<m;w++)f.push(u[w]);return f}f=[],m=0;for(w in u)f[m++]=u[w];return f}function wD(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const w in u)f[m++]=w;return f}}}function b0(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=wD(u),w=_D(u),V=w.length,j=0;j<V;j++)f.call(void 0,w[j],m&&m[j],u)}var N0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ED(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var w=u[m].indexOf("="),V=null;if(0<=w){var j=u[m].substring(0,w);V=u[m].substring(w+1)}else j=u[m];f(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Hs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Hs){this.h=u.h,th(this,u.j),this.o=u.o,this.g=u.g,nh(this,u.s),this.l=u.l;var f=u.i,m=new Cl;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),M0(this,m),this.m=u.m}else u&&(f=String(u).match(N0))?(this.h=!1,th(this,f[1]||"",!0),this.o=kl(f[2]||""),this.g=kl(f[3]||"",!0),nh(this,f[4]),this.l=kl(f[5]||"",!0),M0(this,f[6]||"",!0),this.m=kl(f[7]||"")):(this.h=!1,this.i=new Cl(null,this.h))}Hs.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Al(f,O0,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Al(f,O0,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Al(m,m.charAt(0)=="/"?ID:SD,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Al(m,RD)),u.join("")};function Zr(u){return new Hs(u)}function th(u,f,m){u.j=m?kl(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function nh(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function M0(u,f,m){f instanceof Cl?(u.i=f,kD(u.i,u.h)):(m||(f=Al(f,PD)),u.i=new Cl(f,u.h))}function Je(u,f,m){u.i.set(f,m)}function rh(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function kl(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Al(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,TD),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function TD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var O0=/[#\/\?@]/g,SD=/[#\?:]/g,ID=/[#\?]/g,PD=/[#\?@]/g,RD=/#/g;function Cl(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Wi(u){u.g||(u.g=new Map,u.h=0,u.i&&ED(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Cl.prototype,t.add=function(u,f){Wi(this),this.i=null,u=qo(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function L0(u,f){Wi(u),f=qo(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function V0(u,f){return Wi(u),f=qo(u,f),u.g.has(f)}t.forEach=function(u,f){Wi(this),this.g.forEach(function(m,w){m.forEach(function(V){u.call(f,V,w,this)},this)},this)},t.na=function(){Wi(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let w=0;w<f.length;w++){const V=u[w];for(let j=0;j<V.length;j++)m.push(f[w])}return m},t.V=function(u){Wi(this);let f=[];if(typeof u=="string")V0(this,u)&&(f=f.concat(this.g.get(qo(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return Wi(this),this.i=null,u=qo(this,u),V0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function F0(u,f,m){L0(u,f),0<m.length&&(u.i=null,u.g.set(qo(u,f),I(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var w=f[m];const j=encodeURIComponent(String(w)),K=this.V(w);for(w=0;w<K.length;w++){var V=j;K[w]!==""&&(V+="="+encodeURIComponent(String(K[w]))),u.push(V)}}return this.i=u.join("&")};function qo(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function kD(u,f){f&&!u.j&&(Wi(u),u.i=null,u.g.forEach(function(m,w){var V=w.toLowerCase();w!=V&&(L0(this,w),F0(this,V,m))},u)),u.j=f}function AD(u,f){const m=new F;if(a.Image){const w=new Image;w.onload=g(Hi,m,"TestLoadImage: loaded",!0,f,w),w.onerror=g(Hi,m,"TestLoadImage: error",!1,f,w),w.onabort=g(Hi,m,"TestLoadImage: abort",!1,f,w),w.ontimeout=g(Hi,m,"TestLoadImage: timeout",!1,f,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else f(!1)}function CD(u,f){const m=new F,w=new AbortController,V=setTimeout(()=>{w.abort(),Hi(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:w.signal}).then(j=>{clearTimeout(V),j.ok?Hi(m,"TestPingServer: ok",!0,f):Hi(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),Hi(m,"TestPingServer: error",!1,f)})}function Hi(u,f,m,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(m)}catch{}}function xD(){this.g=new Xc}function DD(u,f,m){const w=m||"";try{b0(u,function(V,j){let K=V;c(V)&&(K=Ho(V)),f.push(w+j+"="+encodeURIComponent(K))})}catch(V){throw f.push(w+"type="+encodeURIComponent("_badmap")),V}}function xl(u){this.l=u.Ub||null,this.j=u.eb||!1}_(xl,ji),xl.prototype.g=function(){return new ih(this.l,this.j)},xl.prototype.i=function(u){return function(){return u}}({});function ih(u,f){Pt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ih,Pt),t=ih.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,bl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bl(this)),this.g&&(this.readyState=3,bl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;U0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function U0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Dl(this):bl(this),this.readyState==3&&U0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Dl(this))},t.Qa=function(u){this.g&&(this.response=u,Dl(this))},t.ga=function(){this.g&&Dl(this)};function Dl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bl(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function bl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function j0(u){let f="";return x(u,function(m,w){f+=w,f+=":",f+=m,f+=`\r
`}),f}function Lp(u,f,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=j0(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Je(u,f,m))}function gt(u){Pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(gt,Pt);var bD=/^https?$/i,ND=["POST","PUT"];t=gt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ie.g(),this.v=this.o?Pl(this.o):Pl(ie),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(j){B0(this,j);return}if(u=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)m.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const j of w.keys())m.set(j,w.get(j));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ND,f,void 0))||w||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of m)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W0(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){B0(this,j)}};function B0(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,z0(u),sh(u)}function z0(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,it(this,"complete"),it(this,"abort"),sh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sh(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$0(this):this.bb())},t.bb=function(){$0(this)};function $0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ei(u)!=4||u.Z()!=2)){if(u.u&&ei(u)==4)Tl(u.Ea,0,u);else if(it(u,"readystatechange"),ei(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var w;if(w=K===0){var V=String(u.D).match(N0)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),w=!bD.test(V?V.toLowerCase():"")}m=w}if(m)it(u,"complete"),it(u,"success");else{u.m=6;try{var j=2<ei(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",z0(u)}}finally{sh(u)}}}}function sh(u,f){if(u.g){W0(u);const m=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||it(u,"ready");try{m.onreadystatechange=w}catch{}}}function W0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Op(f)}};function H0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function MD(u){const f={};u=(u.g&&2<=ei(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(y(u[w]))continue;var m=C(u[w]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[V]||[];f[V]=j,j.push(m)}R(f,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nl(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Y0(u){this.Aa=0,this.i=[],this.j=new F,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nl("baseRetryDelayMs",5e3,u),this.cb=Nl("retryDelaySeedMs",1e4,u),this.Wa=Nl("forwardChannelMaxRetries",2,u),this.wa=Nl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(u&&u.concurrentRequestLimit),this.Da=new xD,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Y0.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,w){jt(0),this.W=u,this.H=f||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=tw(this,null,this.W),ah(this)};function Vp(u){if(G0(u),u.G==3){var f=u.U++,m=Zr(u.I);if(Je(m,"SID",u.K),Je(m,"RID",f),Je(m,"TYPE","terminate"),Ml(u,m),f=new Te(u,u.j,f),f.L=2,f.v=rh(Zr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=nw(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ir(f)}ew(u)}function oh(u){u.g&&(Up(u),u.g.cancel(),u.g=null)}function G0(u){oh(u),u.u&&(a.clearTimeout(u.u),u.u=null),lh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ah(u){if(!Jt(u.h)&&!u.s){u.s=!0;var f=u.Ga;Ie||ue(),Y||(Ie(),Y=!0),ae.add(f,u),u.B=0}}function OD(u,f){return He(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=L(p(u.Ga,u,f),Z0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Te(this,this.j,u);let j=this.o;if(this.S&&(j?(j=v(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=q0(this,V,f),m=Zr(this.I),Je(m,"RID",u),Je(m,"CVER",22),this.D&&Je(m,"X-HTTP-Session-Id",this.D),Ml(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(j0(j)))+"&"+f:this.m&&Lp(m,this.m,j)),Ko(this.h,V),this.Ua&&Je(m,"TYPE","init"),this.P?(Je(m,"$req",f),Je(m,"SID","null"),V.T=!0,st(V,m,null)):st(V,m,f),this.G=2}}else this.G==3&&(u?K0(this,u):this.i.length==0||Jt(this.h)||K0(this))};function K0(u,f){var m;f?m=f.l:m=u.U++;const w=Zr(u.I);Je(w,"SID",u.K),Je(w,"RID",m),Je(w,"AID",u.T),Ml(u,w),u.m&&u.o&&Lp(w,u.m,u.o),m=new Te(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=q0(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ko(u.h,m),st(m,w,f)}function Ml(u,f){u.H&&x(u.H,function(m,w){Je(f,w,m)}),u.l&&b0({},function(m,w){Je(f,w,m)})}function q0(u,f,m){m=Math.min(u.i.length,m);var w=u.l?p(u.l.Na,u.l,u):null;e:{var V=u.i;let j=-1;for(;;){const K=["count="+m];j==-1?0<m?(j=V[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Ye=!0;for(let Bt=0;Bt<m;Bt++){let Le=V[Bt].g;const Zt=V[Bt].map;if(Le-=j,0>Le)j=Math.max(0,V[Bt].g-100),Ye=!1;else try{DD(Zt,K,"req"+Le+"_")}catch{w&&w(Zt)}}if(Ye){w=K.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,w}function Q0(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;Ie||ue(),Y||(Ie(),Y=!0),ae.add(f,u),u.v=0}}function Fp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=L(p(u.Fa,u),Z0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,X0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=L(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),oh(this),X0(this))};function Up(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function X0(u){u.g=new Te(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Zr(u.qa);Je(f,"RID","rpc"),Je(f,"SID",u.K),Je(f,"AID",u.T),Je(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(f,"TO",u.ja),Je(f,"TYPE","xmlhttp"),Ml(u,f),u.m&&u.o&&Lp(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=rh(Zr(f)),m.m=null,m.P=!0,Bi(m,u)}t.Za=function(){this.C!=null&&(this.C=null,oh(this),Fp(this),jt(19))};function lh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function J0(u,f){var m=null;if(u.g==f){lh(u),Up(u),u.g=null;var w=2}else if(Cn(u.h,f))m=f.D,eh(u.h,f),w=1;else return;if(u.G!=0){if(f.o)if(w==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var V=u.B;w=Ws(),it(w,new M(w,m)),ah(u)}else Q0(u);else if(V=f.s,V==3||V==0&&0<f.X||!(w==1&&OD(u,f)||w==2&&Fp(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),V){case 1:Ys(u,5);break;case 4:Ys(u,10);break;case 3:Ys(u,6);break;default:Ys(u,2)}}}function Z0(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Ys(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),w=u.Xa;const V=!w;w=new Hs(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||th(w,"https"),rh(w),V?AD(w.toString(),m):CD(w.toString(),m)}else jt(2);u.G=0,u.l&&u.l.sa(f),ew(u),G0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function ew(u){if(u.G=0,u.ka=[],u.l){const f=D0(u.h);(f.length!=0||u.i.length!=0)&&(k(u.ka,f),k(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function tw(u,f,m){var w=m instanceof Hs?Zr(m):new Hs(m);if(w.g!="")f&&(w.g=f+"."+w.g),nh(w,w.s);else{var V=a.location;w=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var j=new Hs(null);w&&th(j,w),f&&(j.g=f),V&&nh(j,V),m&&(j.l=m),w=j}return m=u.D,f=u.ya,m&&f&&Je(w,m,f),Je(w,"VER",u.la),Ml(u,w),w}function nw(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new gt(new xl({eb:m})):new gt(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rw(){}t=rw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uh(){}uh.prototype.g=function(u,f){return new xn(u,f)};function xn(u,f){Pt.call(this),this.g=new Y0(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Qo(this)}_(xn,Pt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Vp(this.g)},xn.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Ho(u),u=m);f.i.push(new _e(f.Ya++,u)),f.G==3&&ah(f)},xn.prototype.N=function(){this.g.l=null,delete this.j,Vp(this.g),delete this.g,xn.aa.N.call(this)};function iw(u){$s.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}_(iw,$s);function sw(){Rl.call(this),this.status=1}_(sw,Rl);function Qo(u){this.g=u}_(Qo,rw),Qo.prototype.ua=function(){it(this.g,"a")},Qo.prototype.ta=function(u){it(this.g,new iw(u))},Qo.prototype.sa=function(u){it(this.g,new sw)},Qo.prototype.ra=function(){it(this.g,"b")},uh.prototype.createWebChannel=uh.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,WR=function(){return new uh},$R=function(){return Ws()},zR=Sr,Kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,sd=fe,re.COMPLETE="complete",BR=re,Yo.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,iu=Yo,jR=xl,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,UR=gt}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const WE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Nv("@firebase/firestore");function $l(){return ko.logLevel}function ne(t,...e){if(ko.logLevel<=Ce.DEBUG){const n=e.map(Hv);ko.debug(`Firestore (${al}): ${t}`,...n)}}function Ai(t,...e){if(ko.logLevel<=Ce.ERROR){const n=e.map(Hv);ko.error(`Firestore (${al}): ${t}`,...n)}}function Ya(t,...e){if(ko.logLevel<=Ce.WARN){const n=e.map(Hv);ko.warn(`Firestore (${al}): ${t}`,...n)}}function Hv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw Ai(e),new Error(e)}function Ge(t,e){t||pe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class lV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uV{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ws,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ws)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new HR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new on(e)}}class cV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new dV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Lt(0,0))}static max(){return new ge(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class et extends Zu{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new et(n)}static emptyPath(){return new et([])}}const mV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Zu{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return mV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(et.fromString(e))}static fromName(e){return new oe(et.fromString(e).popFirst(5))}static empty(){return new oe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new et(e.slice()))}}function gV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new ks(i,oe.empty(),e)}function yV(t){return new ks(t.readTime,t.key,-1)}class ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ks(ge.min(),oe.empty(),-1)}static max(){return new ks(ge.max(),oe.empty(),-1)}}function vV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==_V)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function EV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yv.oe=-1;function jf(t){return t==null}function Jd(t){return t===0&&1/t==-1/0}function TV(t){return typeof t=="number"&&Number.isInteger(t)&&!Jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=s??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YE(this.data.getIterator())}getIteratorFrom(e){return new YE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class YE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Gt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KR("Invalid base64 string: "+s):s}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const SV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=SV.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ao(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Kv(t){const e=t.mapValue.fields.__previous_value__;return Gv(e)?Kv(e):e}function ec(t){const e=As(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gv(t)?4:PV(t)?9007199254740991:10:pe()}function Wr(t,e){if(t===e)return!0;const n=Co(t);if(n!==Co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=As(i.timestampValue),a=As(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ao(i.bytesValue).isEqual(Ao(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return kt(i.geoPointValue.latitude)===kt(s.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kt(i.integerValue)===kt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=kt(i.doubleValue),a=kt(s.doubleValue);return o===a?Jd(o)===Jd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(HE(o)!==HE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Wr(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function nc(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function Ka(t,e){if(t===e)return 0;const n=Co(t),r=Co(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=kt(s.integerValue||s.doubleValue),l=kt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return GE(t.timestampValue,e.timestampValue);case 4:return GE(ec(t),ec(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ao(s),l=Ao(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ue(a[c],l[c]);if(h!==0)return h}return Ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ue(kt(s.latitude),kt(o.latitude));return a!==0?a:Ue(kt(s.longitude),kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=Ka(a[c],l[c]);if(h)return h}return Ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Dh.mapValue&&o===Dh.mapValue)return 0;if(s===Dh.mapValue)return 1;if(o===Dh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=Ue(l[d],h[d]);if(p!==0)return p;const g=Ka(a[l[d]],c[h[d]]);if(g!==0)return g}return Ue(l.length,h.length)}(t.mapValue,e.mapValue);default:throw pe()}}function GE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=As(t),r=As(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function qa(t){return qg(t)}function qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=As(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qg(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function KE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qg(t){return!!t&&"integerValue"in t}function qv(t){return!!t&&"arrayValue"in t}function qE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function od(t){return!!t&&"mapValue"in t}function Su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Su(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new In(Su(this.value))}}function qR(t){const e=[];return Oo(t.fields,(n,r)=>{const i=new Ht([n]);if(od(r)){const s=qR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ln(e,0,ge.min(),ge.min(),ge.min(),In.empty(),0)}static newFoundDocument(e,n,r,i){return new ln(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new ln(e,2,n,ge.min(),ge.min(),In.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,ge.min(),ge.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.position=e,this.inclusive=n}}function XE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Ka(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function RV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{}class xt extends QR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AV(e,n,r):n==="array-contains"?new DV(e,r):n==="in"?new bV(e,r):n==="not-in"?new NV(e,r):n==="array-contains-any"?new MV(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CV(e,r):new xV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ka(n,this.value)):n!==null&&Co(this.value)===Co(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends QR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gr(e,n)}matches(e){return XR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XR(t){return t.op==="and"}function JR(t){return kV(t)&&XR(t)}function kV(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function Xg(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+qa(t.value);if(JR(t))return t.filters.map(e=>Xg(e)).join(",");{const e=t.filters.map(n=>Xg(n)).join(",");return`${t.op}(${e})`}}function ZR(t,e){return t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ZR(o,i.filters[a]),!0):!1}(t,e):void pe()}function ek(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(ek).join(" ,")+"}"}(t):"Filter"}class AV extends xt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class CV extends xt{constructor(e,n){super(e,"in",n),this.keys=tk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xV extends xt{constructor(e,n){super(e,"not-in",n),this.keys=tk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class DV extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qv(n)&&nc(n.arrayValue,this.value)}}class bV extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class NV extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}}class MV extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function ZE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new OV(t,e,n,r,i,s,o)}function Qv(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qa(r)).join(",")),e.ue=n}return e.ue}function Xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JE(t.startAt,e.startAt)&&JE(t.endAt,e.endAt)}function Jg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LV(t,e,n,r,i,s,o,a){return new ll(t,e,n,r,i,s,o,a)}function Bf(t){return new ll(t)}function eT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nk(t){return t.collectionGroup!==null}function Iu(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Gt(Ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new rc(s,r))}),n.has(Ht.keyField().canonicalString())||e.ce.push(new rc(Ht.keyField(),r))}return e.ce}function jr(t){const e=ye(t);return e.le||(e.le=VV(e,Iu(t))),e.le}function VV(t,e){if(t.limitType==="F")return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rc(i.field,s)});const n=t.endAt?new Zd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zd(t.startAt.position,t.startAt.inclusive):null;return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zg(t,e){const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ey(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return Xv(jr(t),jr(e))&&t.limitType===e.limitType}function rk(t){return`${Qv(jr(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ek(i)).join(", ")}]`),jf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qa(i)).join(",")),`Target(${r})`}(jr(t))}; limitType=${t.limitType})`}function $f(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Iu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=XE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Iu(r),i)||r.endAt&&!function(o,a,l){const c=XE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Iu(r),i))}(t,e)}function FV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ik(t){return(e,n)=>{let r=!1;for(const i of Iu(t)){const s=UV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function UV(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ka(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=new pt(oe.comparator);function Ci(){return jV}const sk=new pt(oe.comparator);function su(...t){let e=sk;for(const n of t)e=e.insert(n.key,n);return e}function ok(t){let e=sk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oo(){return Pu()}function ak(){return Pu()}function Pu(){return new ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const BV=new pt(oe.comparator),zV=new Gt(oe.comparator);function Re(...t){let e=zV;for(const n of t)e=e.add(n);return e}const $V=new Gt(Ue);function WV(){return $V}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function uk(t){return{integerValue:""+t}}function HV(t,e){return TV(e)?uk(e):lk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this._=void 0}}function YV(t,e,n){return t instanceof ic?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gv(s)&&(s=Kv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof sc?hk(t,e):t instanceof oc?dk(t,e):function(i,s){const o=ck(i,s),a=tT(o)+tT(i.Pe);return Qg(o)&&Qg(i.Pe)?uk(a):lk(i.serializer,a)}(t,e)}function GV(t,e,n){return t instanceof sc?hk(t,e):t instanceof oc?dk(t,e):n}function ck(t,e){return t instanceof ef?function(r){return Qg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ic extends Wf{}class sc extends Wf{constructor(e){super(),this.elements=e}}function hk(t,e){const n=fk(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class oc extends Wf{constructor(e){super(),this.elements=e}}function dk(t,e){let n=fk(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class ef extends Wf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function tT(t){return kt(t.integerValue||t.doubleValue)}function fk(t){return qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this.field=e,this.transform=n}}function qV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sc&&i instanceof sc||r instanceof oc&&i instanceof oc?Ga(r.elements,i.elements,Wr):r instanceof ef&&i instanceof ef?Wr(r.Pe,i.Pe):r instanceof ic&&i instanceof ic}(t.transform,e.transform)}class QV{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hf{}function pk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jv(t.key,Xn.none()):new Mc(t.key,t.data,Xn.none());{const n=t.data,r=In.empty();let i=new Gt(Ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vs(t.key,r,new Mn(i.toArray()),Xn.none())}}function XV(t,e,n){t instanceof Mc?function(i,s,o){const a=i.value.clone(),l=rT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(i,s,o){if(!ad(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=rT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(mk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ru(t,e,n,r){return t instanceof Mc?function(s,o,a,l){if(!ad(s.precondition,o))return a;const c=s.value.clone(),h=iT(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vs?function(s,o,a,l){if(!ad(s.precondition,o))return a;const c=iT(s.fieldTransforms,l,o),h=o.data;return h.setAll(mk(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return ad(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ck(r.transform,i||null);s!=null&&(n===null&&(n=In.empty()),n.set(r.field,s))}return n||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ga(r,i,(s,o)=>qV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mc extends Hf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vs extends Hf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rT(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,GV(o,a,n[i]))}return r}function iT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,YV(s,o,e))}return r}class Jv extends Hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZV extends Hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ru(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ru(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ak();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=pk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,r)=>nT(n,r))&&Ga(this.baseMutations,e.baseMutations,(n,r)=>nT(n,r))}}class Zv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return BV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Zv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,De;function rF(t){switch(t){default:return pe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function gk(t){if(t===void 0)return Ai("GRPC error has no .code"),z.UNKNOWN;switch(t){case Rt.OK:return z.OK;case Rt.CANCELLED:return z.CANCELLED;case Rt.UNKNOWN:return z.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return z.INTERNAL;case Rt.UNAVAILABLE:return z.UNAVAILABLE;case Rt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Rt.NOT_FOUND:return z.NOT_FOUND;case Rt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Rt.ABORTED:return z.ABORTED;case Rt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Rt.DATA_LOSS:return z.DATA_LOSS;default:return pe()}}(De=Rt||(Rt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=new po([4294967295,4294967295],0);function sT(t){const e=iF().encode(t),n=new FR;return n.update(e),new Uint8Array(n.digest())}function oT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new po([n,r],0),new po([i,s],0)]}class e_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(r<0)throw new ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=po.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(sF)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=sT(e),[r,i]=oT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new e_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=sT(e),[r,i]=oT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yf(ge.min(),i,new pt(Ue),Ci(),Re())}}class Oc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class yk{constructor(e,n){this.targetId=e,this.me=n}}class vk{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aT{constructor(){this.fe=0,this.ge=uT(),this.pe=Xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Oc(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=uT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ci(),this.qe=lT(),this.Qe=new pt(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Jg(s))if(r===0){const o=new oe(s.path);this.Ue(n,o,ln.newNoDocument(o,ge.min()))}else Ge(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ao(r).toUint8Array()}catch(l){if(l instanceof KR)return Ya("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new e_(o,i,s)}catch(l){return Ya(l instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Jg(a.target)){const l=new oe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ln.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Re();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Yf(e,n,this.Qe,this.ke,r);return this.ke=Ci(),this.qe=lT(),this.Qe=new pt(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new aT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Gt(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new aT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function lT(){return new pt(oe.comparator)}function uT(){return new pt(oe.comparator)}const aF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),uF=(()=>({and:"AND",or:"OR"}))();class cF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ty(t,e){return t.useProto3Json||jf(e)?e:{value:e}}function tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _k(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hF(t,e){return tf(t,e.toTimestamp())}function Br(t){return Ge(!!t),ge.fromTimestamp(function(n){const r=As(n);return new Lt(r.seconds,r.nanos)}(t))}function t_(t,e){return ny(t,e).canonicalString()}function ny(t,e){const n=function(i){return new et(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wk(t){const e=et.fromString(t);return Ge(Pk(e)),e}function ry(t,e){return t_(t.databaseId,e.path)}function wm(t,e){const n=wk(e);if(n.get(1)!==t.databaseId.projectId)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(Tk(n))}function Ek(t,e){return t_(t.databaseId,e)}function dF(t){const e=wk(t);return e.length===4?et.emptyPath():Tk(e)}function iy(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tk(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cT(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function fF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ge(h===void 0||typeof h=="string"),Xt.fromBase64String(h||"")):(Ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Xt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?z.UNKNOWN:gk(c.code);return new J(h,c.message||"")}(o);n=new vk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wm(t,r.document.name),s=Br(r.document.updateTime),o=r.document.createTime?Br(r.document.createTime):ge.min(),a=new In({mapValue:{fields:r.document.fields}}),l=ln.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ld(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wm(t,r.document),s=r.readTime?Br(r.readTime):ge.min(),o=ln.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ld([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wm(t,r.document),s=r.removedTargetIds||[];n=new ld([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nF(i,s),a=r.targetId;n=new yk(a,o)}}return n}function pF(t,e){let n;if(e instanceof Mc)n={update:cT(t,e.key,e.value)};else if(e instanceof Jv)n={delete:ry(t,e.key)};else if(e instanceof Vs)n={update:cT(t,e.key,e.data),updateMask:SF(e.fieldMask)};else{if(!(e instanceof ZV))return pe();n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ef)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function mF(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Br(i.updateTime):Br(s);return o.isEqual(ge.min())&&(o=Br(s)),new QV(o,i.transformResults||[])}(n,e))):[]}function gF(t,e){return{documents:[Ek(t,e.path)]}}function yF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ek(t,i);const s=function(c){if(c.length!==0)return Ik(gr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:ra(p.field),direction:wF(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ty(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function vF(t){let e=dF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const p=Sk(d);return p instanceof gr&&JR(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(_){return new rc(ia(_.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,jf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new Zd(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Zd(g,p)}(n.endAt)),LV(e,i,o,s,a,"F",l,c)}function _F(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ia(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ia(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ia(n.unaryFilter.field);return xt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ia(n.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return xt.create(ia(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>Sk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function wF(t){return aF[t]}function EF(t){return lF[t]}function TF(t){return uF[t]}function ra(t){return{fieldPath:t.canonicalString()}}function ia(t){return Ht.fromServerFormat(t.fieldPath)}function Ik(t){return t instanceof xt?function(n){if(n.op==="=="){if(QE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(qE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(qE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:EF(n.op),value:n.value}}}(t):t instanceof gr?function(n){const r=n.getFilters().map(i=>Ik(i));return r.length===1?r[0]:{compositeFilter:{op:TF(n.op),filters:r}}}(t):pe()}function SF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Pk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,i,s=ge.min(),o=ge.min(),a=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.ct=e}}function PF(t){const e=vF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ey(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.an=new kF}addToCollectionParentIndex(e,n){return this.an.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ks.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class kF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gt(et.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new Qa(0)}static Bn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.changes=new ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ru(r.mutation,i,Mn.empty(),Lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=oo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=su();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ci();const o=Pu(),a=function(){return Pu()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Vs)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ru(h.mutation,c,h.mutation.getFieldMask(),Lt.now())):o.set(c.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new CF(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pu();let i=new pt((o,a)=>o-a),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Mn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=ak();h.forEach(p=>{if(!s.has(p)){const g=pk(n.get(p),r.get(p));g!==null&&d.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(oo());let a=-1,l=s;return o.next(c=>$.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Re())).next(h=>({batchId:a,changes:ok(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=su();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=su();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const c=function(d,p){return new ll(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ln.newInvalidDocument(h)))});let a=su();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Ru(h.mutation,c,Mn.empty(),Lt.now()),$f(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return $.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:PF(i.bundledQuery),readTime:Br(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.overlays=new pt(oe.comparator),this.Pr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oo();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=oo(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new pt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=oo(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=oo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tF(n,r));let s=this.Pr.get(n);s===void 0&&(s=Re(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.Ir=new Gt(Vt.Tr),this.Er=new Gt(Vt.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Vt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new oe(new et([])),r=new Vt(n,e),i=new Vt(n,e+1),s=[];return this.Er.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new oe(new et([])),r=new Vt(n,e),i=new Vt(n,e+1);let s=Re();return this.Er.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Vt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return oe.comparator(e.key,n.key)||Ue(e.yr,n.yr)}static dr(e,n){return Ue(e.yr,n.yr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Gt(Vt.Tr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new Vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(Ue);return n.forEach(i=>{const s=new Vt(i,0),o=new Vt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new Vt(new oe(s),0);let a=new Gt(Ue);return this.Sr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.yr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return $.forEach(n.mutations,i=>{const s=new Vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Vt(n,0),i=this.Sr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.Fr=e,this.docs=function(){return new pt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ln.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ci();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vV(yV(h),r)<=0||(i.has(h.key)||$f(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}Mr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LF(this)}getSize(e){return $.resolve(this.size)}}class LF extends AF{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.persistence=e,this.Or=new ul(n=>Qv(n),Xv),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new n_,this.targetCount=0,this.Br=Qa.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),$.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Qn(n),$.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.kr={},this.overlays={},this.qr=new Yv(0),this.Qr=!1,this.Qr=!0,this.Kr=new NF,this.referenceDelegate=e(this),this.$r=new VF(this),this.indexManager=new RF,this.remoteDocumentCache=function(i){return new OF(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new IF(n),this.Wr=new DF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new MF(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new UF(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(s=>this.referenceDelegate.zr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}jr(e,n){return $.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class UF extends wV{constructor(e){super(),this.currentSequenceNumber=e}}class r_{constructor(e){this.persistence=e,this.Hr=new n_,this.Jr=null}static Yr(e){return new r_(e)}get Zr(){if(this.Jr)return this.Jr;throw pe()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Zr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Zr,r=>{const i=oe.fromPath(r);return this.Xr(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return $.or([()=>$.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=Re(),i=Re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new i_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return PM()?8:EV(Qt())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jF;return this.Zi(e,n,o).next(a=>{if(s.result=a,this.Gi)return this.Xi(e,n,o,a.size)})}).next(()=>s.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?($l()<=Ce.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),$.resolve()):($l()<=Ce.DEBUG&&ne("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?($l()<=Ce.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):$.resolve())}Ji(e,n){if(eT(n))return $.resolve(null);let r=jr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ey(n,null,"F"),r=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Re(...s);return this.Hi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.es(n,a);return this.ts(n,c,o,l.readTime)?this.Ji(e,ey(n,null,"F")):this.ns(e,c,n,l)}))})))}Yi(e,n,r,i){return eT(n)||i.isEqual(ge.min())?$.resolve(null):this.Hi.getDocuments(e,r).next(s=>{const o=this.es(n,s);return this.ts(n,o,r,i)?$.resolve(null):($l()<=Ce.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(n)),this.ns(e,o,n,gV(i,-1)).next(a=>a))})}es(e,n){let r=new Gt(ik(e));return n.forEach((i,s)=>{$f(e,s)&&(r=r.add(s))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zi(e,n,r){return $l()<=Ce.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",na(n)),this.Hi.getDocumentsMatchingQuery(e,n,ks.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new pt(Ue),this.os=new ul(s=>Qv(s),Xv),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xF(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function $F(t,e,n,r){return new zF(t,e,n,r)}async function Rk(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Re();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function WF(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,p=d.keys();let g=$.resolve();return p.forEach(_=>{g=g.next(()=>h.getEntry(l,_)).next(I=>{const k=c.docVersions.get(_);Ge(k!==null),I.version.compareTo(k)<0&&(d.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kk(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function HF(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const a=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;a.push(n.$r.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.$r.addMatchingKeys(s,h.addedDocuments,d)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Xt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(I,k,T){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,g,h)&&a.push(n.$r.updateTargetData(s,g))});let l=Ci(),c=Re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(YF(s,o,e.documentUpdates).next(h=>{l=h.hs,c=h.Ps})),!r.isEqual(ge.min())){const h=n.$r.getLastRemoteSnapshotVersion(s).next(d=>n.$r.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ss=i,s))}function YF(t,e,n){let r=Re(),i=Re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ci();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{hs:o,Ps:i}})}function GF(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KF(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.$r.allocateTargetId(r).next(o=>(i=new as(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function sy(t,e,n){const r=ye(t),i=r.ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Nc(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function hT(t,e,n){const r=ye(t);let i=ge.min(),s=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ye(l),p=d.os.get(h);return p!==void 0?$.resolve(d.ss.get(p)):d.$r.getTargetData(c,h)}(r,o,jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.rs.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:Re())).next(a=>(qF(r,FV(e),a),{documents:a,Is:s})))}function qF(t,e,n){let r=t._s.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t._s.set(e,r)}class dT{constructor(){this.activeTargetIds=WV()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QF{constructor(){this.io=new dT,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new dT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function Em(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class eU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get vo(){return!1}Fo(n,r,i,s,o){const a=Em(),l=this.Mo(n,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(n,l,c,i).then(h=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ya("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}No(n,r,i,s,o,a){return this.Fo(n,r,i,s,o)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Mo(n,r){const i=JF[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const s=Em();return new Promise((o,a)=>{const l=new UR;l.setWithCredentials(!0),l.listenOnce(BR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sd.NO_ERROR:const h=l.getResponseJson();ne(rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case sd.TIMEOUT:ne(rn,`RPC '${e}' ${s} timed out`),a(new J(z.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const d=l.getStatus();if(ne(rn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(k){const T=k.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(T)>=0?T:z.UNKNOWN}(g.status);a(new J(_,g.message))}else a(new J(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(z.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{ne(rn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ne(rn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Lo(e,n,r){const i=Em(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WR(),a=$R(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new jR({})),this.xo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");ne(rn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let p=!1,g=!1;const _=new ZF({Po:k=>{g?ne(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(p||(ne(rn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),ne(rn,`RPC '${e}' stream ${i} sending:`,k),d.send(k))},Io:()=>d.close()}),I=(k,T,y)=>{k.listen(T,E=>{try{y(E)}catch(b){setTimeout(()=>{throw b},0)}})};return I(d,iu.EventType.OPEN,()=>{g||(ne(rn,`RPC '${e}' stream ${i} transport opened.`),_.po())}),I(d,iu.EventType.CLOSE,()=>{g||(g=!0,ne(rn,`RPC '${e}' stream ${i} transport closed`),_.wo())}),I(d,iu.EventType.ERROR,k=>{g||(g=!0,Ya(rn,`RPC '${e}' stream ${i} transport errored:`,k),_.wo(new J(z.UNAVAILABLE,"The operation could not be completed")))}),I(d,iu.EventType.MESSAGE,k=>{var T;if(!g){const y=k.data[0];Ge(!!y);const E=y,b=E.error||((T=E[0])===null||T===void 0?void 0:T.error);if(b){ne(rn,`RPC '${e}' stream ${i} received error:`,b);const U=b.status;let x=function(S){const P=Rt[S];if(P!==void 0)return gk(P)}(U),R=b.message;x===void 0&&(x=z.INTERNAL,R="Unknown error status: "+U+" with message "+b.message),g=!0,_.wo(new J(x,R)),d.close()}else ne(rn,`RPC '${e}' stream ${i} received:`,y),_.So(y)}}),I(a,zR.STAT_EVENT,k=>{k.stat===Kg.PROXY?ne(rn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Kg.NOPROXY&&ne(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.yo()},0),_}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){return new cF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r,i,s,o,a,l){this.ai=e,this.jo=r,this.Ho=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new Ak(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new J(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tU extends Ck{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=fF(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Br(o.readTime):ge.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=iy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Jg(l)?{documents:gF(s,l)}:{query:yF(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_k(s,o.resumeToken);const c=ty(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=tf(s,o.snapshotVersion.toTimestamp());const c=ty(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=_F(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=iy(this.serializer),n.removeTarget=e,this.__(n)}}class nU extends Ck{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=mF(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=iy(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pF(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,ny(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(z.UNKNOWN,s.toString())})}No(e,n,r,i,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.No(e,ny(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(z.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class iU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(Ai(n),this.b_=!1):ne("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{r.enqueueAndForget(async()=>{Lo(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.N_.add(4),await Lc(c),c.k_.set("Unknown"),c.N_.delete(4),await Kf(c)}(this))})}),this.k_=new iU(r,i)}}async function Kf(t){if(Lo(t))for(const e of t.L_)await e(!0)}async function Lc(t){for(const e of t.L_)await e(!1)}function xk(t,e){const n=ye(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),l_(n)?a_(n):cl(n).n_()&&o_(n,e))}function s_(t,e){const n=ye(t),r=cl(n);n.O_.delete(e),r.n_()&&Dk(n,e),n.O_.size===0&&(r.n_()?r.s_():Lo(n)&&n.k_.set("Unknown"))}function o_(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(t).d_(e)}function Dk(t,e){t.q_.xe(e),cl(t).A_(e)}function a_(t){t.q_=new oF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.k_.D_()}function l_(t){return Lo(t)&&!cl(t).t_()&&t.O_.size>0}function Lo(t){return ye(t).N_.size===0}function bk(t){t.q_=void 0}async function oU(t){t.k_.set("Online")}async function aU(t){t.O_.forEach((e,n)=>{o_(t,e)})}async function lU(t,e){bk(t),l_(t)?(t.k_.F_(e),a_(t)):t.k_.set("Unknown")}async function uU(t,e,n){if(t.k_.set("Online"),e instanceof vk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.O_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.O_.delete(a),i.q_.removeTarget(a))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nf(t,r)}else if(e instanceof ld?t.q_.Ke(e):e instanceof yk?t.q_.He(e):t.q_.We(e),!n.isEqual(ge.min()))try{const r=await kk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.O_.get(c);h&&s.O_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.O_.get(l);if(!h)return;s.O_.set(l,h.withResumeToken(Xt.EMPTY_BYTE_STRING,h.snapshotVersion)),Dk(s,l);const d=new as(h.target,l,c,h.sequenceNumber);o_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await nf(t,r)}}async function nf(t,e,n){if(!Nc(e))throw e;t.N_.add(1),await Lc(t),t.k_.set("Offline"),n||(n=()=>kk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await Kf(t)})}function Nk(t,e){return e().catch(n=>nf(t,n,e))}async function qf(t){const e=ye(t),n=Cs(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;cU(e);)try{const i=await GF(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,hU(e,i)}catch(i){await nf(e,i)}Mk(e)&&Ok(e)}function cU(t){return Lo(t)&&t.x_.length<10}function hU(t,e){t.x_.push(e);const n=Cs(t);n.n_()&&n.R_&&n.V_(e.mutations)}function Mk(t){return Lo(t)&&!Cs(t).t_()&&t.x_.length>0}function Ok(t){Cs(t).start()}async function dU(t){Cs(t).g_()}async function fU(t){const e=Cs(t);for(const n of t.x_)e.V_(n.mutations)}async function pU(t,e,n){const r=t.x_.shift(),i=Zv.from(r,e,n);await Nk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qf(t)}async function mU(t,e){e&&Cs(t).R_&&await async function(r,i){if(function(o){return rF(o)&&o!==z.ABORTED}(i.code)){const s=r.x_.shift();Cs(r).i_(),await Nk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await qf(r)}}(t,e),Mk(t)&&Ok(t)}async function pT(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=Lo(n);n.N_.add(3),await Lc(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await Kf(n)}async function gU(t,e){const n=ye(t);e?(n.N_.delete(2),await Kf(n)):e||(n.N_.add(2),await Lc(n),n.k_.set("Unknown"))}function cl(t){return t.Q_||(t.Q_=function(n,r,i){const s=ye(n);return s.y_(),new tU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:oU.bind(null,t),Ao:aU.bind(null,t),Vo:lU.bind(null,t),E_:uU.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),l_(t)?a_(t):t.k_.set("Unknown")):(await t.Q_.stop(),bk(t))})),t.Q_}function Cs(t){return t.K_||(t.K_=function(n,r,i){const s=ye(n);return s.y_(),new nU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:dU.bind(null,t),Vo:mU.bind(null,t),m_:fU.bind(null,t),f_:pU.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await qf(t)):(await t.K_.stop(),t.x_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new u_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c_(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),Nc(t))return new J(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=su(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new Oa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.U_=new pt(oe.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):pe():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xa(e,n,Oa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class vU{constructor(){this.queries=gT(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=ye(n),s=i.queries;i.queries=gT(),s.forEach((o,a)=>{for(const l of a.z_)l.onError(r)})})(this,new J(z.ABORTED,"Firestore shutting down"))}}function gT(){return new ul(t=>rk(t),zf)}async function Lk(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.j_()&&e.H_()&&(r=2):(s=new yU,r=e.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=c_(o,`Initialization of query '${na(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.z_.push(e),e.Y_(n.onlineState),s.G_&&e.Z_(s.G_)&&h_(n)}async function Vk(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?i=e.H_()?0:1:!s.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _U(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.z_)a.Z_(i)&&(r=!0);o.G_=i}}r&&h_(n)}function wU(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(e)}function h_(t){t.J_.forEach(e=>{e.next()})}var oy,yT;(yT=oy||(oy={})).X_="default",yT.Cache="cache";class Fk{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.key=e}}class jk{constructor(e){this.key=e}}class EU{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Re(),this.mutatedKeys=Re(),this.da=ik(e),this.Aa=new Oa(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new mT,i=n?n.Aa:this.Aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),g=$f(this.query,d)?d:null,_=!!p&&this.mutatedKeys.has(p.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let k=!1;p&&g?p.data.isEqual(g.data)?_!==I&&(r.track({type:3,doc:g}),k=!0):this.fa(p,g)||(r.track({type:2,doc:g}),k=!0,(l&&this.da(g,l)>0||c&&this.da(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),k=!0):p&&!g&&(r.track({type:1,doc:p}),k=!0,(l||c)&&(a=!0)),k&&(g?(o=o.add(g),s=I?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Aa:o,ma:r,ts:a,mutatedKeys:s}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort((h,d)=>function(g,_){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return I(g)-I(_)}(h.type,d.type)||this.da(h.doc,d.doc)),this.ga(r),i=i!=null&&i;const a=n&&!i?this.pa():[],l=this.Ea.size===0&&this.current&&!i?1:0,c=l!==this.Ta;return this.Ta=l,o.length!==0||c?{snapshot:new Xa(this.query,e.Aa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new mT,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=Re(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new jk(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new Uk(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=Re();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return Xa.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class TU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SU{constructor(e){this.key=e,this.Da=!1}}class IU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new ul(a=>rk(a),zf),this.Fa=new Map,this.Ma=new Set,this.xa=new pt(oe.comparator),this.Oa=new Map,this.Na=new n_,this.La={},this.Ba=new Map,this.ka=Qa.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function PU(t,e,n=!0){const r=Yk(t);let i;const s=r.va.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await Bk(r,e,n,!0),i}async function RU(t,e){const n=Yk(t);await Bk(n,e,!0,!1)}async function Bk(t,e,n,r){const i=await KF(t.localStore,jr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await kU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&xk(t.remoteStore,i),a}async function kU(t,e,n,r,i){t.Qa=(d,p,g)=>async function(I,k,T,y){let E=k.view.Va(T);E.ts&&(E=await hT(I.localStore,k.query,!1).then(({documents:R})=>k.view.Va(R,E)));const b=y&&y.targetChanges.get(k.targetId),U=y&&y.targetMismatches.get(k.targetId)!=null,x=k.view.applyChanges(E,I.isPrimaryClient,b,U);return _T(I,k.targetId,x.ya),x.snapshot}(t,d,p,g);const s=await hT(t.localStore,e,!0),o=new EU(e,s.Is),a=o.Va(s.documents),l=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);_T(t,n,c.ya);const h=new TU(e,n,o);return t.va.set(e,h),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),c.snapshot}async function AU(t,e,n){const r=ye(t),i=r.va.get(e),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter(o=>!zf(o,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&s_(r.remoteStore,i.targetId),ay(r,i.targetId)}).catch(bc)):(ay(r,i.targetId),await sy(r.localStore,i.targetId,!0))}async function CU(t,e){const n=ye(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),s_(n.remoteStore,r.targetId))}async function xU(t,e,n){const r=VU(t);try{const i=await function(o,a){const l=ye(o),c=Lt.now(),h=a.reduce((g,_)=>g.add(_.key),Re());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Ci(),I=Re();return l.us.getEntries(g,h).next(k=>{_=k,_.forEach((T,y)=>{y.isValidDocument()||(I=I.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(k=>{d=k;const T=[];for(const y of a){const E=JV(y,d.get(y.key).overlayedDocument);E!=null&&T.push(new Vs(y.key,E,qR(E.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,T,a)}).next(k=>{p=k;const T=k.applyToLocalDocumentSet(d,I);return l.documentOverlayCache.saveOverlays(g,k.batchId,T)})}).then(()=>({batchId:p.batchId,changes:ok(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.La[o.currentUser.toKey()];c||(c=new pt(Ue)),c=c.insert(a,l),o.La[o.currentUser.toKey()]=c}(r,i.batchId,n),await Vc(r,i.changes),await qf(r.remoteStore)}catch(i){const s=c_(i,"Failed to persist write");n.reject(s)}}async function zk(t,e){const n=ye(t);try{const r=await HF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oa.get(s);o&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Da=!0:i.modifiedDocuments.size>0?Ge(o.Da):i.removedDocuments.size>0&&(Ge(o.Da),o.Da=!1))}),await Vc(n,r,e)}catch(r){await bc(r)}}function vT(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((s,o)=>{const a=o.view.Y_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const p of d.z_)p.Y_(a)&&(c=!0)}),c&&h_(l)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DU(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),s=i&&i.key;if(s){let o=new pt(oe.comparator);o=o.insert(s,ln.newNoDocument(s,ge.min()));const a=Re().add(s),l=new Yf(ge.min(),new Map,new pt(Ue),o,a);await zk(r,l),r.xa=r.xa.remove(s),r.Oa.delete(e),d_(r)}else await sy(r.localStore,e,!1).then(()=>ay(r,e,n)).catch(bc)}async function bU(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await WF(n.localStore,e);Wk(n,r,null),$k(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,i)}catch(i){await bc(i)}}async function NU(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ge(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);Wk(r,e,n),$k(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vc(r,i)}catch(i){await bc(i)}}function $k(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function Wk(t,e,n){const r=ye(t);let i=r.La[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||Hk(t,r)})}function Hk(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(s_(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),d_(t))}function _T(t,e,n){for(const r of n)r instanceof Uk?(t.Na.addReference(r.key,e),MU(t,r)):r instanceof jk?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||Hk(t,r.key)):pe()}function MU(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.Ma.add(r),d_(t))}function d_(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new oe(et.fromString(e)),r=t.ka.next();t.Oa.set(r,new SU(n)),t.xa=t.xa.insert(n,r),xk(t.remoteStore,new as(jr(Bf(n.path)),r,"TargetPurposeLimboResolution",Yv.oe))}}async function Vc(t,e,n){const r=ye(t),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach((a,l)=>{o.push(r.Qa(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=i_.Ui(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.E_(i),await async function(l,c){const h=ye(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(c,p=>$.forEach(p.Ki,g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>$.forEach(p.$i,g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!Nc(d))throw d;ne("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=h.ss.get(p),_=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(_);h.ss=h.ss.insert(p,I)}}}(r.localStore,s))}async function OU(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await Rk(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(a=>{a.forEach(l=>{l.reject(new J(z.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vc(n,r.ls)}}function LU(t,e){const n=ye(t),r=n.Oa.get(e);if(r&&r.Da)return Re().add(r.key);{let i=Re();const s=n.Fa.get(e);if(!s)return i;for(const o of s){const a=n.va.get(o);i=i.unionWith(a.view.Ra)}return i}}function Yk(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DU.bind(null,e),e.Ca.E_=_U.bind(null,e.eventManager),e.Ca.Ka=wU.bind(null,e.eventManager),e}function VU(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NU.bind(null,e),e}class wT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $F(this.persistence,new BF,e.initialUser,this.serializer)}createPersistence(e){return new FF(r_.Yr,this.serializer)}createSharedClientState(e){return new QF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FU{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OU.bind(null,this.syncEngine),await gU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vU}()}createDatastore(e){const n=Gf(e.databaseInfo.databaseId),r=function(s){return new eU(s)}(e.databaseInfo);return function(s,o,a,l){return new rU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new sU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vT(this.syncEngine,n,0),function(){return fT.D()?new fT:new XF}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new IU(i,s,o,a,l,c);return h&&(d.qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ye(i);ne("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await Lc(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=YR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=c_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sm(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Rk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ET(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BU(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pT(e.remoteStore,i)),t._onlineComponents=e}function jU(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function BU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!jU(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Sm(t,new wT)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await Sm(t,new wT);return t._offlineComponents}async function Kk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await ET(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await ET(t,new FU))),t._onlineComponents}function zU(t){return Kk(t).then(e=>e.syncEngine)}async function ly(t){const e=await Kk(t),n=e.eventManager;return n.onListen=PU.bind(null,e.syncEngine),n.onUnlisten=AU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CU.bind(null,e.syncEngine),n}function $U(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Gk({next:p=>{o.enqueueAndForget(()=>Vk(s,d));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new J(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new J(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new Fk(Bf(a.path),h,{includeMetadataChanges:!0,oa:!0});return Lk(s,d)}(await ly(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t,e,n){if(!n)throw new J(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WU(t,e,n,r){if(e===!0&&r===!0)throw new J(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ST(t){if(!oe.isDocumentKey(t))throw new J(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IT(t){if(oe.isDocumentKey(t))throw new J(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qf(t);throw new J(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aV;switch(r.type){case"firstParty":return new hV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=TT.get(n);r&&(ne("ComponentProvider","Removing Datastore"),TT.delete(n),r.terminate())}(this),Promise.resolve()}}function HU(t,e,n,r={}){var i;const s=(t=Jn(t,Xf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=on.MOCK_USER;else{a=JP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new on(c)}t._authCredentials=new lV(new HR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Es extends Vo{constructor(e,n,r){super(e,n,Bf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new oe(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function RT(t,e,...n){if(t=ft(t),Qk("collection","path",e),t instanceof Xf){const r=et.fromString(e,...n);return IT(r),new Es(t,null,r)}{if(!(t instanceof cn||t instanceof Es))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return IT(r),new Es(t.firestore,null,r)}}function ci(t,e,...n){if(t=ft(t),arguments.length===1&&(e=YR.newId()),Qk("doc","path",e),t instanceof Xf){const r=et.fromString(e,...n);return ST(r),new cn(t,null,new oe(r))}{if(!(t instanceof cn||t instanceof Es))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return ST(r),new cn(t.firestore,t instanceof Es?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new Ak(this,"async_queue_retry"),this.Tu=()=>{const n=Tm();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=Tm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new ws;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!Nc(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=u_.createAndSchedule(this,e,n,r,s=>this.Ru(s));return this.cu.push(i),i}Eu(){this.lu&&pe()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}function kT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class xs extends Xf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new YU}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xk(this),this._firestoreClient.terminate()}}function GU(t,e){const n=typeof t=="object"?t:Ov(),r=typeof t=="string"?t:e||"(default)",i=Of(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=qP("firestore");s&&HU(i,...s)}return i}function f_(t){return t._firestoreClient||Xk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Xk(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new IV(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qk(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new UU(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(Xt.fromBase64String(e))}catch(n){throw new J(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ja(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=/^__.*__$/;class qU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}class Jk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class m_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new m_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return rf(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(Zk(this.yu)&&KU.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class QU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gf(e)}Ou(e,n,r,i=!1){return new m_({yu:e,methodName:n,xu:r,path:Ht.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(t){const e=t._freezeSettings(),n=Gf(t._databaseId);return new QU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eA(t,e,n,r,i,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,i);y_("Data must be an object, but it was:",o,r);const a=tA(r,o);let l,c;if(s.merge)l=new Mn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const p=uy(e,d,n);if(!o.contains(p))throw new J(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);rA(h,p)||h.push(p)}l=new Mn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new qU(new In(a),l,c)}class tp extends Zf{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}class g_ extends Zf{_toFieldTransform(e){return new KV(e.path,new ic)}isEqual(e){return e instanceof g_}}function XU(t,e,n,r){const i=t.Ou(1,e,n);y_("Data must be an object, but it was:",i,r);const s=[],o=In.empty();Oo(r,(l,c)=>{const h=v_(e,l,n);c=ft(c);const d=i.Cu(h);if(c instanceof tp)s.push(h);else{const p=Fc(c,d);p!=null&&(s.push(h),o.set(h,p))}});const a=new Mn(s);return new Jk(o,a,i.fieldTransforms)}function JU(t,e,n,r,i,s){const o=t.Ou(1,e,n),a=[uy(e,r,n)],l=[i];if(s.length%2!=0)throw new J(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(uy(e,s[p])),l.push(s[p+1]);const c=[],h=In.empty();for(let p=a.length-1;p>=0;--p)if(!rA(c,a[p])){const g=a[p];let _=l[p];_=ft(_);const I=o.Cu(g);if(_ instanceof tp)c.push(g);else{const k=Fc(_,I);k!=null&&(c.push(g),h.set(g,k))}}const d=new Mn(c);return new Jk(h,d,o.fieldTransforms)}function ZU(t,e,n,r=!1){return Fc(n,t.Ou(r?4:3,e))}function Fc(t,e){if(nA(t=ft(t)))return y_("Unsupported field value:",e,t),tA(t,e);if(t instanceof Zf)return function(r,i){if(!Zk(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Fc(a,i.vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Lt.fromDate(r);return{timestampValue:tf(i.serializer,s)}}if(r instanceof Lt){const s=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tf(i.serializer,s)}}if(r instanceof p_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ja)return{bytesValue:_k(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:t_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${Qf(r)}`)}(t,e)}function tA(t,e){const n={};return GR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(t,(r,i)=>{const s=Fc(i,e.Su(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function nA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof p_||t instanceof Ja||t instanceof cn||t instanceof Zf)}function y_(t,e,n){if(!nA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qf(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function uy(t,e,n){if((e=ft(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return v_(t,e);throw rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const e4=new RegExp("[~\\*/\\[\\]]");function v_(t,e,n){if(e.search(e4)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jf(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(z.INVALID_ARGUMENT,a+t+l)}function rA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(np("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t4 extends iA{data(){return super.data()}}function np(t,e){return typeof e=="string"?v_(t,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class __{}class sA extends __{}function r4(t,e,...n){let r=[];e instanceof __&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof w_).length,a=s.filter(l=>l instanceof rp).length;if(o>1||o>0&&a>0)throw new J(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rp extends sA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rp(e,n,r)}_apply(e){const n=this._parse(e);return oA(e._query,n),new Vo(e.firestore,e.converter,Zg(e._query,n))}_parse(e){const n=ep(e.firestore);return function(s,o,a,l,c,h,d){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){CT(d,h);const g=[];for(const _ of d)g.push(AT(l,s,_));p={arrayValue:{values:g}}}else p=AT(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||CT(d,h),p=ZU(a,o,d,h==="in"||h==="not-in");return xt.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function i4(t,e,n){const r=e,i=np("where",t);return rp._create(i,r,n)}class w_ extends __{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)oA(o,l),o=Zg(o,l)}(e._query,n),new Vo(e.firestore,e.converter,Zg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E_ extends sA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new E_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new J(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(s,o)}(e._query,this._field,this._direction);return new Vo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ll(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function s4(t,e="asc"){const n=e,r=np("orderBy",t);return E_._create(r,n)}function AT(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new J(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nk(e)&&n.indexOf("/")!==-1)throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!oe.isDocumentKey(r))throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KE(t,new oe(r))}if(n instanceof cn)return KE(t,n._key);throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qf(n)}.`)}function CT(t,e){if(!Array.isArray(t)||t.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class o4{convertValue(e,n="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new p_(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=As(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);Ge(Pk(r));const i=new tc(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||Ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lA extends iA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(np("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ud extends lA{data(e={}){return super.data(e)}}class a4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new au(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ud(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ud(i._firestore,i._userDataWriter,a.doc.key,a.doc,new au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ud(i._firestore,i._userDataWriter,a.doc.key,a.doc,new au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:l4(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function l4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){t=Jn(t,cn);const e=Jn(t.firestore,xs);return $U(f_(e),t._key).then(n=>dA(e,t,n))}class cA extends o4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function xT(t,e,n){t=Jn(t,cn);const r=Jn(t.firestore,xs),i=aA(t.converter,e,n);return ip(r,[eA(ep(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xn.none())])}function hA(t,e,n,...r){t=Jn(t,cn);const i=Jn(t.firestore,xs),s=ep(i);let o;return o=typeof(e=ft(e))=="string"||e instanceof Jf?JU(s,"updateDoc",t._key,e,n,r):XU(s,"updateDoc",t._key,e),ip(i,[o.toMutation(t._key,Xn.exists(!0))])}function u4(t){return ip(Jn(t.firestore,xs),[new Jv(t._key,Xn.none())])}function c4(t,e){const n=Jn(t.firestore,xs),r=ci(t),i=aA(t.converter,e);return ip(n,[eA(ep(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function DT(t,...e){var n,r,i;t=ft(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||kT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(kT(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,h;if(t instanceof cn)c=Jn(t.firestore,xs),h=Bf(t._key.path),l={next:d=>{e[o]&&e[o](dA(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Jn(t,Vo);c=Jn(d.firestore,xs),h=d._query;const p=new cA(c);l={next:g=>{e[o]&&e[o](new a4(c,p,d,g))},error:e[o+1],complete:e[o+2]},n4(t._query)}return function(p,g,_,I){const k=new Gk(I),T=new Fk(g,k,_);return p.asyncQueue.enqueueAndForget(async()=>Lk(await ly(p),T)),()=>{k.Ga(),p.asyncQueue.enqueueAndForget(async()=>Vk(await ly(p),T))}}(f_(c),h,a,l)}function ip(t,e){return function(r,i){const s=new ws;return r.asyncQueue.enqueueAndForget(async()=>xU(await zU(r),i,s)),s.promise}(f_(t),e)}function dA(t,e,n){const r=n.docs.get(e._key),i=new cA(t);return new lA(t,i,e._key,r,new au(n.hasPendingWrites,n.fromCache),e.converter)}function bT(){return new g_("serverTimestamp")}(function(e,n=!0){(function(i){al=i})(Mo),Io(new Rs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new xs(new uV(r.getProvider("auth-internal")),new fV(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Vr(WE,"4.6.5",e),Vr(WE,"4.6.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebasestorage.googleapis.com",pA="storageBucket",h4=2*60*1e3,d4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends Yr{constructor(e,n,r=0){super(Im(e),`Firebase Storage: ${n} (${Im(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Im(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Im(t){return"storage/"+t}function T_(){const t="An unknown error occurred, please check the error payload for server response.";return new _t(vt.UNKNOWN,t)}function f4(t){return new _t(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function p4(t){return new _t(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function m4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(vt.UNAUTHENTICATED,t)}function g4(){return new _t(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function y4(t){return new _t(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function v4(){return new _t(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _4(){return new _t(vt.CANCELED,"User canceled the upload/download.")}function w4(t){return new _t(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function E4(t){return new _t(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function T4(){return new _t(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pA+"' property when initializing the app?")}function S4(){return new _t(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function I4(){return new _t(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function P4(t){return new _t(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cy(t){return new _t(vt.INVALID_ARGUMENT,t)}function mA(){return new _t(vt.APP_DELETED,"The Firebase app was deleted.")}function R4(t){return new _t(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ku(t,e){return new _t(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wl(t){throw new _t(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=On.makeFromUrl(e,n)}catch{return new On(e,"")}if(r.path==="")return r;throw E4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${i}/o${p}`,"i"),_={bucket:1,path:3},I=n===fA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",T=new RegExp(`^https?://${I}/${i}/${k}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:g,indices:_,postModify:c},{regex:T,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<E.length;b++){const U=E[b],x=U.regex.exec(e);if(x){const R=x[U.indices.bucket];let v=x[U.indices.path];v||(v=""),r=new On(R,v),U.postModify(r);break}}if(r==null)throw w4(e);return r}}class k4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...k){c||(c=!0,e.apply(null,k))}function d(k){i=setTimeout(()=>{i=null,t(g,l())},k)}function p(){s&&clearTimeout(s)}function g(k,...T){if(c){p();return}if(k){p(),h.call(null,k,...T);return}if(l()||o){p(),h.call(null,k,...T);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,d(E)}let _=!1;function I(k){_||(_=!0,p(),!c&&(i!==null?(k||(a=2),clearTimeout(i),d(0)):k||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function C4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){return t!==void 0}function D4(t){return typeof t=="object"&&!Array.isArray(t)}function S_(t){return typeof t=="string"||t instanceof String}function NT(t){return I_()&&t instanceof Blob}function I_(){return typeof Blob<"u"}function MT(t,e,n,r){if(r<e)throw cy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mo||(mo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,r,i,s,o,a,l,c,h,d,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Nh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===mo.NO_ERROR,l=s.getStatus();if(!a||b4(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===mo.ABORT;r(!1,new Nh(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Nh(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());x4(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=T_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?mA():_4();o(l)}else{const l=v4();o(l)}};this.canceled_?n(!1,new Nh(!1,null,!0)):this.backoffId_=A4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&C4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function M4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function O4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function V4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function F4(t,e,n,r,i,s,o=!0){const a=gA(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return L4(c,e),M4(c,n),O4(c,s),V4(c,r),new N4(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function j4(...t){const e=U4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(I_())return new Blob(t);throw new _t(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function B4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){if(typeof atob>"u")throw P4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pm{constructor(e,n){this.data=e,this.contentType=n||null}}function $4(t,e){switch(t){case Mr.RAW:return new Pm(yA(e));case Mr.BASE64:case Mr.BASE64URL:return new Pm(vA(t,e));case Mr.DATA_URL:return new Pm(H4(e),Y4(e))}throw T_()}function yA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function W4(t){let e;try{e=decodeURIComponent(t)}catch{throw ku(Mr.DATA_URL,"Malformed data URL.")}return yA(e)}function vA(t,e){switch(t){case Mr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ku(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Mr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ku(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=z4(e)}catch(i){throw i.message.includes("polyfill")?i:ku(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _A{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ku(Mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=G4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function H4(t){const e=new _A(t);return e.base64?vA(Mr.BASE64,e.rest):W4(e.rest)}function Y4(t){return new _A(t).contentType}function G4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){let r=0,i="";NT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(NT(this.data_)){const r=this.data_,i=B4(r,e,n);return i===null?null:new is(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new is(r,!0)}}static getBlob(...e){if(I_()){const n=e.map(r=>r instanceof is?r.data_:r);return new is(j4.apply(null,n))}else{const n=e.map(o=>S_(o)?$4(Mr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new is(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){let e;try{e=JSON.parse(t)}catch{return null}return D4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function q4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t,e){return e}class fn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Q4}}let Mh=null;function X4(t){return!S_(t)||t.length<2?t:EA(t)}function TA(){if(Mh)return Mh;const t=[];t.push(new fn("bucket")),t.push(new fn("generation")),t.push(new fn("metageneration")),t.push(new fn("name","fullPath",!0));function e(s,o){return X4(o)}const n=new fn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new fn("size");return i.xform=r,t.push(i),t.push(new fn("timeCreated")),t.push(new fn("updated")),t.push(new fn("md5Hash",null,!0)),t.push(new fn("cacheControl",null,!0)),t.push(new fn("contentDisposition",null,!0)),t.push(new fn("contentEncoding",null,!0)),t.push(new fn("contentLanguage",null,!0)),t.push(new fn("contentType",null,!0)),t.push(new fn("metadata","customMetadata",!0)),Mh=t,Mh}function J4(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new On(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Z4(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return J4(r,t),r}function SA(t,e,n){const r=wA(e);return r===null?null:Z4(t,r,n)}function e3(t,e,n,r){const i=wA(e);if(i===null||!S_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,d=t.fullPath,p="/b/"+o(h)+"/o/"+o(d),g=P_(p,n,r),_=gA({alt:"media",token:c});return g+_})[0]}function t3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class IA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){if(!t)throw T_()}function n3(t,e){function n(r,i){const s=SA(t,i,e);return PA(s!==null),s}return n}function r3(t,e){function n(r,i){const s=SA(t,i,e);return PA(s!==null),e3(s,i,t.host,t._protocol)}return n}function RA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=g4():i=m4():n.getStatus()===402?i=p4(t.bucket):n.getStatus()===403?i=y4(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function i3(t){const e=RA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=f4(t.path)),s.serverResponse=i.serverResponse,s}return n}function s3(t,e,n){const r=e.fullServerUrl(),i=P_(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new IA(i,s,r3(t,n),o);return a.errorHandler=i3(e),a}function o3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function a3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=o3(null,e)),r}function l3(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let b=0;b<2;b++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=a3(e,r,i),h=t3(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=is.getBlob(d,r,p);if(g===null)throw S4();const _={name:c.fullPath},I=P_(s,t.host,t._protocol),k="POST",T=t.maxUploadRetryTime,y=new IA(I,k,n3(t,n),T);return y.urlParams=_,y.headers=o,y.body=g.uploadData(),y.errorHandler=RA(e),y}class u3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class c3 extends u3{initXhr(){this.xhr_.responseType="text"}}function kA(){return new c3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this._service=e,n instanceof On?this._location=n:this._location=On.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xo(e,n)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EA(this._location.path)}get storage(){return this._service}get parent(){const e=K4(this._location.path);if(e===null)return null;const n=new On(this._location.bucket,e);return new xo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw R4(e)}}function h3(t,e,n){t._throwIfRoot("uploadBytes");const r=l3(t.storage,t._location,TA(),new is(e,!0),n);return t.storage.makeRequestWithTokens(r,kA).then(i=>({metadata:i,ref:t}))}function d3(t){t._throwIfRoot("getDownloadURL");const e=s3(t.storage,t._location,TA());return t.storage.makeRequestWithTokens(e,kA).then(n=>{if(n===null)throw I4();return n})}function f3(t,e){const n=q4(t._location.path,e),r=new On(t._location.bucket,n);return new xo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){return/^[A-Za-z]+:\/\//.test(t)}function m3(t,e){return new xo(t,e)}function AA(t,e){if(t instanceof R_){const n=t;if(n._bucket==null)throw T4();const r=new xo(n,n._bucket);return e!=null?AA(r,e):r}else return e!==void 0?f3(t,e):t}function g3(t,e){if(e&&p3(e)){if(t instanceof R_)return m3(t,e);throw cy("To use ref(service, url), the first argument must be a Storage instance.")}else return AA(t,e)}function OT(t,e){const n=e==null?void 0:e[pA];return n==null?null:On.makeFromBucketSpec(n,t)}function y3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:JP(i,t.app.options.projectId))}class R_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=fA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h4,this._maxUploadRetryTime=d4,this._requests=new Set,i!=null?this._bucket=On.makeFromBucketSpec(i,this._host):this._bucket=OT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=OT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new k4(mA());{const o=F4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const LT="@firebase/storage",VT="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="storage";function xA(t,e,n){return t=ft(t),h3(t,e,n)}function DA(t){return t=ft(t),d3(t)}function bA(t,e){return t=ft(t),g3(t,e)}function v3(t=Ov(),e){t=ft(t);const r=Of(t,CA).getImmediate({identifier:e}),i=qP("storage");return i&&_3(r,...i),r}function _3(t,e,n,r={}){y3(t,e,n,r)}function w3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new R_(n,r,i,e,Mo)}function E3(){Io(new Rs(CA,w3,"PUBLIC").setMultipleInstances(!0)),Vr(LT,VT,""),Vr(LT,VT,"esm2017")}E3();const T3={apiKey:"AIzaSyB4XDRczkGQLUzCVB2EXtVx7HsP49asMts",authDomain:"library-app-62284.firebaseapp.com",projectId:"library-app-62284",storageBucket:"library-app-62284.appspot.com",messagingSenderId:"947994511381",appId:"1:947994511381:web:8506efcb72546b8b5ca61c"},k_=tR(T3);let Cr=GU(k_),hl=rV(k_),NA=v3(k_),Fo=D.createContext(),S3=(t,e)=>{switch(e.type){case"LOG_IN":return{...t,user:e.payload};case"LOG_OUT":return{...t,user:null};case"AUTH_READY":return{...t,authReady:!0};default:return t}};function I3({children:t}){let[e,n]=D.useReducer(S3,{user:null,authReady:!1});return D.useEffect(()=>{kR(hl,r=>{n({type:"AUTH_READY"}),n(r?{type:"LOG_IN",payload:r}:{type:"LOG_OUT"})})},[]),N(Fo.Provider,{value:e,children:t})}/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lt(){return lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lt.apply(this,arguments)}var Tt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tt||(Tt={}));const FT="popstate";function P3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ac("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Do(i)}return k3(e,n,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Za(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R3(){return Math.random().toString(36).substr(2,8)}function UT(t,e){return{usr:t.state,key:t.key,idx:e}}function ac(t,e,n,r){return n===void 0&&(n=null),lt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Oi(e):e,{state:n,key:e&&e.key||r||R3()})}function Do(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function k3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Tt.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(lt({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Tt.Pop;let k=h(),T=k==null?null:k-c;c=k,l&&l({action:a,location:I.location,delta:T})}function p(k,T){a=Tt.Push;let y=ac(I.location,k,T);n&&n(y,k),c=h()+1;let E=UT(y,c),b=I.createHref(y);try{o.pushState(E,"",b)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(b)}s&&l&&l({action:a,location:I.location,delta:1})}function g(k,T){a=Tt.Replace;let y=ac(I.location,k,T);n&&n(y,k),c=h();let E=UT(y,c),b=I.createHref(y);o.replaceState(E,"",b),s&&l&&l({action:a,location:I.location,delta:0})}function _(k){let T=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof k=="string"?k:Do(k);return y=y.replace(/ $/,"%20"),Ee(T,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,T)}let I={get action(){return a},get location(){return t(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(FT,d),l=k,()=>{i.removeEventListener(FT,d),l=null}},createHref(k){return e(i,k)},createURL:_,encodeLocation(k){let T=_(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:g,go(k){return o.go(k)}};return I}var Ke;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ke||(Ke={}));const A3=new Set(["lazy","caseSensitive","path","id","index","children"]);function C3(t){return t.index===!0}function lc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ee(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ee(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),C3(i)){let l=lt({},i,e(i),{id:a});return r[a]=l,l}else{let l=lt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=lc(i.children,e,o,r)),l}})}function no(t,e,n){return n===void 0&&(n="/"),cd(t,e,n,!1)}function cd(t,e,n,r){let i=typeof e=="string"?Oi(e):e,s=dl(i.pathname||"/",n);if(s==null)return null;let o=MA(t);D3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=z3(s);a=j3(o[l],c,r)}return a}function x3(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function MA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=gi([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),MA(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:F3(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of OA(s.path))i(s,o,l)}),e}function OA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function D3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b3=/^:[\w-]+$/,N3=3,M3=2,O3=1,L3=10,V3=-2,jT=t=>t==="*";function F3(t,e){let n=t.split("/"),r=n.length;return n.some(jT)&&(r+=V3),e&&(r+=M3),n.filter(i=>!jT(i)).reduce((i,s)=>i+(b3.test(s)?N3:s===""?O3:L3),r)}function U3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function j3(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=BT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=BT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:gi([s,d.pathname]),pathnameBase:H3(gi([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=gi([s,d.pathnameBase]))}return o}function BT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=B3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let I=a[d]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const _=a[d];return g&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function B3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Za(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function z3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Za(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Oi(t):t;return{pathname:n?n.startsWith("/")?n:W3(n,e):e,search:Y3(r),hash:G3(i)}}function W3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sp(t,e){let n=LA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function op(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Oi(t):(i=lt({},t),Ee(!i.pathname||!i.pathname.includes("?"),Rm("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),Rm("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),Rm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=$3(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const gi=t=>t.join("/").replace(/\/\/+/g,"/"),H3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Y3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,G3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class A_{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ap(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VA=["post","put","patch","delete"],K3=new Set(VA),q3=["get",...VA],Q3=new Set(q3),X3=new Set([301,302,303,307,308]),J3=new Set([307,308]),km={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Z3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},C_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e5=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),FA="remix-router-transitions";function t5(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ee(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;i=L=>({hasErrorBoundary:M(L)})}else i=e5;let s={},o=lc(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||o5,h=t.unstable_patchRoutesOnMiss,d=lt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,_=null,I=null,k=null,T=t.hydrationData!=null,y=no(o,t.history.location,l),E=null;if(y==null&&!h){let M=pn(404,{pathname:t.history.location.pathname}),{matches:L,route:F}=XT(o);y=L,E={[F.id]:M}}y&&h&&!t.hydrationData&&Go(y,o,t.history.location.pathname).active&&(y=null);let b;if(!y)b=!1,y=[];else if(y.some(M=>M.route.lazy))b=!1;else if(!y.some(M=>M.route.loader))b=!0;else if(d.v7_partialHydration){let M=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null,F=B=>B.route.loader?typeof B.route.loader=="function"&&B.route.loader.hydrate===!0?!1:M&&M[B.route.id]!==void 0||L&&L[B.route.id]!==void 0:!0;if(L){let B=y.findIndex(X=>L[X.route.id]!==void 0);b=y.slice(0,B+1).every(F)}else b=y.every(F)}else b=t.hydrationData!=null;let U,x={historyAction:t.history.action,location:t.history.location,matches:y,initialized:b,navigation:km,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},R=Tt.Pop,v=!1,S,P=!1,C=new Map,O=null,A=!1,de=!1,xe=[],mt=[],Ie=new Map,Y=0,ae=-1,ue=new Map,Ae=new Set,Pe=new Map,Be=new Map,ve=new Set,me=new Map,Qe=new Map,Dt=new Map,vl=!1;function Dp(){if(p=t.history.listen(M=>{let{action:L,location:F,delta:B}=M;if(vl){vl=!1;return}Za(Qe.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=Pl({currentLocation:x.location,nextLocation:F,historyAction:L});if(X&&B!=null){vl=!0,t.history.go(B*-1),ji(X,{state:"blocked",location:F,proceed(){ji(X,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(B)},reset(){let te=new Map(x.blockers);te.set(X,Hl),bt({blockers:te})}});return}return Er(L,F)}),n){_5(e,C);let M=()=>w5(e,C);e.addEventListener("pagehide",M),O=()=>e.removeEventListener("pagehide",M)}return x.initialized||Er(Tt.Pop,x.location,{initialHydration:!0}),U}function Bo(){p&&p(),O&&O(),g.clear(),S&&S.abort(),x.fetchers.forEach((M,L)=>zs(L)),x.blockers.forEach((M,L)=>Xc(L))}function zo(M){return g.add(M),()=>g.delete(M)}function bt(M,L){L===void 0&&(L={}),x=lt({},x,M);let F=[],B=[];d.v7_fetcherPersist&&x.fetchers.forEach((X,te)=>{X.state==="idle"&&(ve.has(te)?B.push(te):F.push(te))}),[...g].forEach(X=>X(x,{deletedFetchers:B,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),d.v7_fetcherPersist&&(F.forEach(X=>x.fetchers.delete(X)),B.forEach(X=>zs(X)))}function wr(M,L,F){var B,X;let{flushSync:te}=F===void 0?{}:F,ce=x.actionData!=null&&x.navigation.formMethod!=null&&ur(x.navigation.formMethod)&&x.navigation.state==="loading"&&((B=M.state)==null?void 0:B._isRedirect)!==!0,G;L.actionData?Object.keys(L.actionData).length>0?G=L.actionData:G=null:ce?G=x.actionData:G=null;let fe=L.loaderData?qT(x.loaderData,L.loaderData,L.matches||[],L.errors):x.loaderData,re=x.blockers;re.size>0&&(re=new Map(re),re.forEach((Te,je)=>re.set(je,Hl)));let ie=v===!0||x.navigation.formMethod!=null&&ur(x.navigation.formMethod)&&((X=M.state)==null?void 0:X._isRedirect)!==!0;a&&(o=a,a=void 0),A||R===Tt.Pop||(R===Tt.Push?t.history.push(M,M.state):R===Tt.Replace&&t.history.replace(M,M.state));let Ne;if(R===Tt.Pop){let Te=C.get(x.location.pathname);Te&&Te.has(M.pathname)?Ne={currentLocation:x.location,nextLocation:M}:C.has(M.pathname)&&(Ne={currentLocation:M,nextLocation:x.location})}else if(P){let Te=C.get(x.location.pathname);Te?Te.add(M.pathname):(Te=new Set([M.pathname]),C.set(x.location.pathname,Te)),Ne={currentLocation:x.location,nextLocation:M}}bt(lt({},L,{actionData:G,loaderData:fe,historyAction:R,location:M,initialized:!0,navigation:km,revalidation:"idle",restoreScrollPosition:Ws(M,L.matches||x.matches),preventScrollReset:ie,blockers:re}),{viewTransitionOpts:Ne,flushSync:te===!0}),R=Tt.Pop,v=!1,P=!1,A=!1,de=!1,xe=[],mt=[]}async function $o(M,L){if(typeof M=="number"){t.history.go(M);return}let F=hy(x.location,x.matches,l,d.v7_prependBasename,M,d.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:B,submission:X,error:te}=zT(d.v7_normalizeFormMethod,!1,F,L),ce=x.location,G=ac(x.location,B,L&&L.state);G=lt({},G,t.history.encodeLocation(G));let fe=L&&L.replace!=null?L.replace:void 0,re=Tt.Push;fe===!0?re=Tt.Replace:fe===!1||X!=null&&ur(X.formMethod)&&X.formAction===x.location.pathname+x.location.search&&(re=Tt.Replace);let ie=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,Ne=(L&&L.unstable_flushSync)===!0,Te=Pl({currentLocation:ce,nextLocation:G,historyAction:re});if(Te){ji(Te,{state:"blocked",location:G,proceed(){ji(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),$o(M,L)},reset(){let je=new Map(x.blockers);je.set(Te,Hl),bt({blockers:je})}});return}return await Er(re,G,{submission:X,pendingError:te,preventScrollReset:ie,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:Ne})}function _l(){if(Pt(),bt({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Er(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Er(R||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function Er(M,L,F){S&&S.abort(),S=null,R=M,A=(F&&F.startUninterruptedRevalidation)===!0,Jc(x.location,x.matches),v=(F&&F.preventScrollReset)===!0,P=(F&&F.enableViewTransition)===!0;let B=a||o,X=F&&F.overrideNavigation,te=no(B,L,l),ce=(F&&F.flushSync)===!0,G=Go(te,B,L.pathname);if(G.active&&G.matches&&(te=G.matches),!te){let{error:Me,notFoundMatches:wt,route:st}=Yo(L.pathname);wr(L,{matches:wt,loaderData:{},errors:{[st.id]:Me}},{flushSync:ce});return}if(x.initialized&&!de&&d5(x.location,L)&&!(F&&F.submission&&ur(F.submission.formMethod))){wr(L,{matches:te},{flushSync:ce});return}S=new AbortController;let fe=Zo(t.history,L,S.signal,F&&F.submission),re;if(F&&F.pendingError)re=[_a(te).route.id,{type:Ke.error,error:F.pendingError}];else if(F&&F.submission&&ur(F.submission.formMethod)){let Me=await Kc(fe,L,F.submission,te,G.active,{replace:F.replace,flushSync:ce});if(Me.shortCircuited)return;if(Me.pendingActionResult){let[wt,st]=Me.pendingActionResult;if(bn(st)&&ap(st.error)&&st.error.status===404){S=null,wr(L,{matches:Me.matches,loaderData:{},errors:{[wt]:st.error}});return}}te=Me.matches||te,re=Me.pendingActionResult,X=Am(L,F.submission),ce=!1,G.active=!1,fe=Zo(t.history,fe.url,fe.signal)}let{shortCircuited:ie,matches:Ne,loaderData:Te,errors:je}=await bp(fe,L,te,G.active,X,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,ce,re);ie||(S=null,wr(L,lt({matches:Ne||te},QT(re),{loaderData:Te,errors:je})))}async function Kc(M,L,F,B,X,te){te===void 0&&(te={}),Pt();let ce=y5(L,F);if(bt({navigation:ce},{flushSync:te.flushSync===!0}),X){let re=await Ir(B,L.pathname,M.signal);if(re.type==="aborted")return{shortCircuited:!0};if(re.type==="error"){let{boundaryId:ie,error:Ne}=Tr(L.pathname,re);return{matches:re.partialMatches,pendingActionResult:[ie,{type:Ke.error,error:Ne}]}}else if(re.matches)B=re.matches;else{let{notFoundMatches:ie,error:Ne,route:Te}=Yo(L.pathname);return{matches:ie,pendingActionResult:[Te.id,{type:Ke.error,error:Ne}]}}}let G,fe=lu(B,L);if(!fe.route.action&&!fe.route.lazy)G={type:Ke.error,error:pn(405,{method:M.method,pathname:L.pathname,routeId:fe.route.id})};else if(G=(await Xr("action",M,[fe],B))[0],M.signal.aborted)return{shortCircuited:!0};if(lo(G)){let re;return te&&te.replace!=null?re=te.replace:re=YT(G.response.headers.get("Location"),new URL(M.url),l)===x.location.pathname+x.location.search,await Qr(M,G,{submission:F,replace:re}),{shortCircuited:!0}}if(ao(G))throw pn(400,{type:"defer-action"});if(bn(G)){let re=_a(B,fe.route.id);return(te&&te.replace)!==!0&&(R=Tt.Push),{matches:B,pendingActionResult:[re.route.id,G]}}return{matches:B,pendingActionResult:[fe.route.id,G]}}async function bp(M,L,F,B,X,te,ce,G,fe,re,ie){let Ne=X||Am(L,te),Te=te||ce||eS(Ne),je=!A&&(!d.v7_partialHydration||!fe);if(B){if(je){let Xe=wl(ie);bt(lt({navigation:Ne},Xe!==void 0?{actionData:Xe}:{}),{flushSync:re})}let _e=await Ir(F,L.pathname,M.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let{boundaryId:Xe,error:Jt}=Tr(L.pathname,_e);return{matches:_e.partialMatches,loaderData:{},errors:{[Xe]:Jt}}}else if(_e.matches)F=_e.matches;else{let{error:Xe,notFoundMatches:Jt,route:He}=Yo(L.pathname);return{matches:Jt,loaderData:{},errors:{[He.id]:Xe}}}}let Me=a||o,[wt,st]=$T(t.history,x,F,Te,L,d.v7_partialHydration&&fe===!0,d.v7_skipActionErrorRevalidation,de,xe,mt,ve,Pe,Ae,Me,l,ie);if($s(_e=>!(F&&F.some(Xe=>Xe.route.id===_e))||wt&&wt.some(Xe=>Xe.route.id===_e)),ae=++Y,wt.length===0&&st.length===0){let _e=Il();return wr(L,lt({matches:F,loaderData:{},errors:ie&&bn(ie[1])?{[ie[0]]:ie[1].error}:null},QT(ie),_e?{fetchers:new Map(x.fetchers)}:{}),{flushSync:re}),{shortCircuited:!0}}if(je){let _e={};if(!B){_e.navigation=Ne;let Xe=wl(ie);Xe!==void 0&&(_e.actionData=Xe)}st.length>0&&(_e.fetchers=qc(st)),bt(_e,{flushSync:re})}st.forEach(_e=>{Ie.has(_e.key)&&wn(_e.key),_e.controller&&Ie.set(_e.key,_e.controller)});let Bi=()=>st.forEach(_e=>wn(_e.key));S&&S.signal.addEventListener("abort",Bi);let{loaderResults:rr,fetcherResults:zi}=await Wo(x.matches,F,wt,st,M);if(M.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",Bi),st.forEach(_e=>Ie.delete(_e.key));let ir=JT([...rr,...zi]);if(ir){if(ir.idx>=wt.length){let _e=st[ir.idx-wt.length].key;Ae.add(_e)}return await Qr(M,ir.result,{replace:G}),{shortCircuited:!0}}let{loaderData:Jr,errors:En}=KT(x,F,wt,rr,ie,st,zi,me);me.forEach((_e,Xe)=>{_e.subscribe(Jt=>{(Jt||_e.done)&&me.delete(Xe)})}),d.v7_partialHydration&&fe&&x.errors&&Object.entries(x.errors).filter(_e=>{let[Xe]=_e;return!wt.some(Jt=>Jt.route.id===Xe)}).forEach(_e=>{let[Xe,Jt]=_e;En=Object.assign(En||{},{[Xe]:Jt})});let Pr=Il(),zn=Ho(ae),$i=Pr||zn||st.length>0;return lt({matches:F,loaderData:Jr,errors:En},$i?{fetchers:new Map(x.fetchers)}:{})}function wl(M){if(M&&!bn(M[1]))return{[M[0]]:M[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function qc(M){return M.forEach(L=>{let F=x.fetchers.get(L.key),B=Yl(void 0,F?F.data:void 0);x.fetchers.set(L.key,B)}),new Map(x.fetchers)}function El(M,L,F,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ie.has(M)&&wn(M);let X=(B&&B.unstable_flushSync)===!0,te=a||o,ce=hy(x.location,x.matches,l,d.v7_prependBasename,F,d.v7_relativeSplatPath,L,B==null?void 0:B.relative),G=no(te,ce,l),fe=Go(G,te,ce);if(fe.active&&fe.matches&&(G=fe.matches),!G){_n(M,L,pn(404,{pathname:ce}),{flushSync:X});return}let{path:re,submission:ie,error:Ne}=zT(d.v7_normalizeFormMethod,!0,ce,B);if(Ne){_n(M,L,Ne,{flushSync:X});return}let Te=lu(G,re);if(v=(B&&B.preventScrollReset)===!0,ie&&ur(ie.formMethod)){Qc(M,L,re,Te,G,fe.active,X,ie);return}Pe.set(M,{routeId:L,path:re}),Np(M,L,re,Te,G,fe.active,X,ie)}async function Qc(M,L,F,B,X,te,ce,G){Pt(),Pe.delete(M);function fe(He){if(!He.route.action&&!He.route.lazy){let Cn=pn(405,{method:G.formMethod,pathname:F,routeId:L});return _n(M,L,Cn,{flushSync:ce}),!0}return!1}if(!te&&fe(B))return;let re=x.fetchers.get(M);it(M,v5(G,re),{flushSync:ce});let ie=new AbortController,Ne=Zo(t.history,F,ie.signal,G);if(te){let He=await Ir(X,F,Ne.signal);if(He.type==="aborted")return;if(He.type==="error"){let{error:Cn}=Tr(F,He);_n(M,L,Cn,{flushSync:ce});return}else if(He.matches){if(X=He.matches,B=lu(X,F),fe(B))return}else{_n(M,L,pn(404,{pathname:F}),{flushSync:ce});return}}Ie.set(M,ie);let Te=Y,Me=(await Xr("action",Ne,[B],X))[0];if(Ne.signal.aborted){Ie.get(M)===ie&&Ie.delete(M);return}if(d.v7_fetcherPersist&&ve.has(M)){if(lo(Me)||bn(Me)){it(M,Ki(void 0));return}}else{if(lo(Me))if(Ie.delete(M),ae>Te){it(M,Ki(void 0));return}else return Ae.add(M),it(M,Yl(G)),Qr(Ne,Me,{fetcherSubmission:G});if(bn(Me)){_n(M,L,Me.error);return}}if(ao(Me))throw pn(400,{type:"defer-action"});let wt=x.navigation.location||x.location,st=Zo(t.history,wt,ie.signal),Bi=a||o,rr=x.navigation.state!=="idle"?no(Bi,x.navigation.location,l):x.matches;Ee(rr,"Didn't find any matches after fetcher action");let zi=++Y;ue.set(M,zi);let ir=Yl(G,Me.data);x.fetchers.set(M,ir);let[Jr,En]=$T(t.history,x,rr,G,wt,!1,d.v7_skipActionErrorRevalidation,de,xe,mt,ve,Pe,Ae,Bi,l,[B.route.id,Me]);En.filter(He=>He.key!==M).forEach(He=>{let Cn=He.key,Ko=x.fetchers.get(Cn),eh=Yl(void 0,Ko?Ko.data:void 0);x.fetchers.set(Cn,eh),Ie.has(Cn)&&wn(Cn),He.controller&&Ie.set(Cn,He.controller)}),bt({fetchers:new Map(x.fetchers)});let Pr=()=>En.forEach(He=>wn(He.key));ie.signal.addEventListener("abort",Pr);let{loaderResults:zn,fetcherResults:$i}=await Wo(x.matches,rr,Jr,En,st);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",Pr),ue.delete(M),Ie.delete(M),En.forEach(He=>Ie.delete(He.key));let _e=JT([...zn,...$i]);if(_e){if(_e.idx>=Jr.length){let He=En[_e.idx-Jr.length].key;Ae.add(He)}return Qr(st,_e.result)}let{loaderData:Xe,errors:Jt}=KT(x,x.matches,Jr,zn,void 0,En,$i,me);if(x.fetchers.has(M)){let He=Ki(Me.data);x.fetchers.set(M,He)}Ho(zi),x.navigation.state==="loading"&&zi>ae?(Ee(R,"Expected pending action"),S&&S.abort(),wr(x.navigation.location,{matches:rr,loaderData:Xe,errors:Jt,fetchers:new Map(x.fetchers)})):(bt({errors:Jt,loaderData:qT(x.loaderData,Xe,rr,Jt),fetchers:new Map(x.fetchers)}),de=!1)}async function Np(M,L,F,B,X,te,ce,G){let fe=x.fetchers.get(M);it(M,Yl(G,fe?fe.data:void 0),{flushSync:ce});let re=new AbortController,ie=Zo(t.history,F,re.signal);if(te){let Me=await Ir(X,F,ie.signal);if(Me.type==="aborted")return;if(Me.type==="error"){let{error:wt}=Tr(F,Me);_n(M,L,wt,{flushSync:ce});return}else if(Me.matches)X=Me.matches,B=lu(X,F);else{_n(M,L,pn(404,{pathname:F}),{flushSync:ce});return}}Ie.set(M,re);let Ne=Y,je=(await Xr("loader",ie,[B],X))[0];if(ao(je)&&(je=await $A(je,ie.signal,!0)||je),Ie.get(M)===re&&Ie.delete(M),!ie.signal.aborted){if(ve.has(M)){it(M,Ki(void 0));return}if(lo(je))if(ae>Ne){it(M,Ki(void 0));return}else{Ae.add(M),await Qr(ie,je);return}if(bn(je)){_n(M,L,je.error);return}Ee(!ao(je),"Unhandled fetcher deferred data"),it(M,Ki(je.data))}}async function Qr(M,L,F){let{submission:B,fetcherSubmission:X,replace:te}=F===void 0?{}:F;L.response.headers.has("X-Remix-Revalidate")&&(de=!0);let ce=L.response.headers.get("Location");Ee(ce,"Expected a Location header on the redirect Response"),ce=YT(ce,new URL(M.url),l);let G=ac(x.location,ce,{_isRedirect:!0});if(n){let je=!1;if(L.response.headers.has("X-Remix-Reload-Document"))je=!0;else if(C_.test(ce)){const Me=t.history.createURL(ce);je=Me.origin!==e.location.origin||dl(Me.pathname,l)==null}if(je){te?e.location.replace(ce):e.location.assign(ce);return}}S=null;let fe=te===!0?Tt.Replace:Tt.Push,{formMethod:re,formAction:ie,formEncType:Ne}=x.navigation;!B&&!X&&re&&ie&&Ne&&(B=eS(x.navigation));let Te=B||X;if(J3.has(L.response.status)&&Te&&ur(Te.formMethod))await Er(fe,G,{submission:lt({},Te,{formAction:ce}),preventScrollReset:v});else{let je=Am(G,B);await Er(fe,G,{overrideNavigation:je,fetcherSubmission:X,preventScrollReset:v})}}async function Xr(M,L,F,B){try{let X=await a5(c,M,L,F,B,s,i);return await Promise.all(X.map((te,ce)=>{if(p5(te)){let G=te.result;return{type:Ke.redirect,response:c5(G,L,F[ce].route.id,B,l,d.v7_relativeSplatPath)}}return u5(te)}))}catch(X){return F.map(()=>({type:Ke.error,error:X}))}}async function Wo(M,L,F,B,X){let[te,...ce]=await Promise.all([F.length?Xr("loader",X,F,L):[],...B.map(G=>{if(G.matches&&G.match&&G.controller){let fe=Zo(t.history,G.path,G.controller.signal);return Xr("loader",fe,[G.match],G.matches).then(re=>re[0])}else return Promise.resolve({type:Ke.error,error:pn(404,{pathname:G.path})})})]);return await Promise.all([ZT(M,F,te,te.map(()=>X.signal),!1,x.loaderData),ZT(M,B.map(G=>G.match),ce,B.map(G=>G.controller?G.controller.signal:null),!0)]),{loaderResults:te,fetcherResults:ce}}function Pt(){de=!0,xe.push(...$s()),Pe.forEach((M,L)=>{Ie.has(L)&&(mt.push(L),wn(L))})}function it(M,L,F){F===void 0&&(F={}),x.fetchers.set(M,L),bt({fetchers:new Map(x.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function _n(M,L,F,B){B===void 0&&(B={});let X=_a(x.matches,L);zs(M),bt({errors:{[X.route.id]:F},fetchers:new Map(x.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Tl(M){return d.v7_fetcherPersist&&(Be.set(M,(Be.get(M)||0)+1),ve.has(M)&&ve.delete(M)),x.fetchers.get(M)||Z3}function zs(M){let L=x.fetchers.get(M);Ie.has(M)&&!(L&&L.state==="loading"&&ue.has(M))&&wn(M),Pe.delete(M),ue.delete(M),Ae.delete(M),ve.delete(M),x.fetchers.delete(M)}function Mp(M){if(d.v7_fetcherPersist){let L=(Be.get(M)||0)-1;L<=0?(Be.delete(M),ve.add(M)):Be.set(M,L)}else zs(M);bt({fetchers:new Map(x.fetchers)})}function wn(M){let L=Ie.get(M);Ee(L,"Expected fetch controller: "+M),L.abort(),Ie.delete(M)}function Sl(M){for(let L of M){let F=Tl(L),B=Ki(F.data);x.fetchers.set(L,B)}}function Il(){let M=[],L=!1;for(let F of Ae){let B=x.fetchers.get(F);Ee(B,"Expected fetcher: "+F),B.state==="loading"&&(Ae.delete(F),M.push(F),L=!0)}return Sl(M),L}function Ho(M){let L=[];for(let[F,B]of ue)if(B<M){let X=x.fetchers.get(F);Ee(X,"Expected fetcher: "+F),X.state==="loading"&&(wn(F),ue.delete(F),L.push(F))}return Sl(L),L.length>0}function Op(M,L){let F=x.blockers.get(M)||Hl;return Qe.get(M)!==L&&Qe.set(M,L),F}function Xc(M){x.blockers.delete(M),Qe.delete(M)}function ji(M,L){let F=x.blockers.get(M)||Hl;Ee(F.state==="unblocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="proceeding"||F.state==="blocked"&&L.state==="unblocked"||F.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+L.state);let B=new Map(x.blockers);B.set(M,L),bt({blockers:B})}function Pl(M){let{currentLocation:L,nextLocation:F,historyAction:B}=M;if(Qe.size===0)return;Qe.size>1&&Za(!1,"A router only supports one blocker at a time");let X=Array.from(Qe.entries()),[te,ce]=X[X.length-1],G=x.blockers.get(te);if(!(G&&G.state==="proceeding")&&ce({currentLocation:L,nextLocation:F,historyAction:B}))return te}function Yo(M){let L=pn(404,{pathname:M}),F=a||o,{matches:B,route:X}=XT(F);return $s(),{notFoundMatches:B,route:X,error:L}}function Tr(M,L){return{boundaryId:_a(L.partialMatches).route.id,error:pn(400,{type:"route-discovery",pathname:M,message:L.error!=null&&"message"in L.error?L.error:String(L.error)})}}function $s(M){let L=[];return me.forEach((F,B)=>{(!M||M(B))&&(F.cancel(),L.push(B),me.delete(B))}),L}function Rl(M,L,F){if(_=M,k=L,I=F||null,!T&&x.navigation===km){T=!0;let B=Ws(x.location,x.matches);B!=null&&bt({restoreScrollPosition:B})}return()=>{_=null,k=null,I=null}}function Sr(M,L){return I&&I(M,L.map(B=>x3(B,x.loaderData)))||M.key}function Jc(M,L){if(_&&k){let F=Sr(M,L);_[F]=k()}}function Ws(M,L){if(_){let F=Sr(M,L),B=_[F];if(typeof B=="number")return B}return null}function Go(M,L,F){if(h)if(M){let B=M[M.length-1].route;if(B.path&&(B.path==="*"||B.path.endsWith("/*")))return{active:!0,matches:cd(L,F,l,!0)}}else return{active:!0,matches:cd(L,F,l,!0)||[]};return{active:!1,matches:null}}async function Ir(M,L,F){let B=M,X=B.length>0?B[B.length-1].route:null;for(;;){let te=a==null,ce=a||o;try{await s5(h,L,B,ce,s,i,Dt,F)}catch(ie){return{type:"error",error:ie,partialMatches:B}}finally{te&&(o=[...o])}if(F.aborted)return{type:"aborted"};let G=no(ce,L,l),fe=!1;if(G){let ie=G[G.length-1].route;if(ie.index)return{type:"success",matches:G};if(ie.path&&ie.path.length>0)if(ie.path==="*")fe=!0;else return{type:"success",matches:G}}let re=cd(ce,L,l,!0);if(!re||B.map(ie=>ie.route.id).join("-")===re.map(ie=>ie.route.id).join("-"))return{type:"success",matches:fe?G:null};if(B=re,X=B[B.length-1].route,X.path==="*")return{type:"success",matches:B}}}function Zc(M){s={},a=lc(M,i,void 0,s)}function jt(M,L){let F=a==null;jA(M,L,a||o,s,i),F&&(o=[...o],bt({}))}return U={get basename(){return l},get future(){return d},get state(){return x},get routes(){return o},get window(){return e},initialize:Dp,subscribe:zo,enableScrollRestoration:Rl,navigate:$o,fetch:El,revalidate:_l,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:Tl,deleteFetcher:Mp,dispose:Bo,getBlocker:Op,deleteBlocker:Xc,patchRoutes:jt,_internalFetchControllers:Ie,_internalActiveDeferreds:me,_internalSetRoutes:Zc},U}function n5(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function hy(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let h=op(i||".",sp(l,s),dl(t.pathname,n)||t.pathname,a==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!x_(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:gi([n,h.pathname])),Do(h)}function zT(t,e,n,r){if(!r||!n5(r))return{path:n};if(r.formMethod&&!g5(r.formMethod))return{path:n,error:pn(405,{method:r.formMethod})};let i=()=>({path:n,error:pn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=BA(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ur(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,_)=>{let[I,k]=_;return""+g+I+"="+k+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!ur(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Ee(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=dy(r.formData),c=r.formData;else if(r.body instanceof FormData)l=dy(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=GT(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=GT(l)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ur(h.formMethod))return{path:n,submission:h};let d=Oi(n);return e&&d.search&&x_(d.search)&&l.append("index",""),d.search="?"+l,{path:Do(d),submission:h}}function r5(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function $T(t,e,n,r,i,s,o,a,l,c,h,d,p,g,_,I){let k=I?bn(I[1])?I[1].error:I[1].data:void 0,T=t.createURL(e.location),y=t.createURL(i),E=I&&bn(I[1])?I[0]:void 0,b=E?r5(n,E):n,U=I?I[1].statusCode:void 0,x=o&&U&&U>=400,R=b.filter((S,P)=>{let{route:C}=S;if(C.lazy)return!0;if(C.loader==null)return!1;if(s)return typeof C.loader!="function"||C.loader.hydrate?!0:e.loaderData[C.id]===void 0&&(!e.errors||e.errors[C.id]===void 0);if(i5(e.loaderData,e.matches[P],S)||l.some(de=>de===S.route.id))return!0;let O=e.matches[P],A=S;return WT(S,lt({currentUrl:T,currentParams:O.params,nextUrl:y,nextParams:A.params},r,{actionResult:k,actionStatus:U,defaultShouldRevalidate:x?!1:a||T.pathname+T.search===y.pathname+y.search||T.search!==y.search||UA(O,A)}))}),v=[];return d.forEach((S,P)=>{if(s||!n.some(xe=>xe.route.id===S.routeId)||h.has(P))return;let C=no(g,S.path,_);if(!C){v.push({key:P,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(P),A=lu(C,S.path),de=!1;p.has(P)?de=!1:c.includes(P)?de=!0:O&&O.state!=="idle"&&O.data===void 0?de=a:de=WT(A,lt({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:k,actionStatus:U,defaultShouldRevalidate:x?!1:a})),de&&v.push({key:P,routeId:S.routeId,path:S.path,matches:C,match:A,controller:new AbortController})}),[R,v]}function i5(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function UA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function WT(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function s5(t,e,n,r,i,s,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(h,d)=>{a.aborted||jA(h,d,r,i,s)}}),o.set(l,c)),c&&f5(c)&&await c}finally{o.delete(l)}}function jA(t,e,n,r,i){if(t){var s;let o=r[t];Ee(o,"No route found to patch children into: routeId = "+t);let a=lc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=lc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function HT(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ee(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Za(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!A3.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,lt({},e(i),{lazy:void 0}))}function o5(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function a5(t,e,n,r,i,s,o,a){let l=r.reduce((d,p)=>d.add(p.route.id),new Set),c=new Set,h=await t({matches:i.map(d=>{let p=l.has(d.route.id);return lt({},d,{shouldLoad:p,resolve:_=>(c.add(d.route.id),p?l5(e,n,d,s,o,_,a):Promise.resolve({type:Ke.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(d=>Ee(c.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,p)=>l.has(i[p].route.id))}async function l5(t,e,n,r,i,s,o){let a,l,c=h=>{let d,p=new Promise((I,k)=>d=k);l=()=>d(),e.signal.addEventListener("abort",l);let g=I=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:o},...I!==void 0?[I]:[]),_;return s?_=s(I=>g(I)):_=(async()=>{try{return{type:"data",result:await g()}}catch(I){return{type:"error",result:I}}})(),Promise.race([_,p])};try{let h=n.route[t];if(n.route.lazy)if(h){let d,[p]=await Promise.all([c(h).catch(g=>{d=g}),HT(n.route,i,r)]);if(d!==void 0)throw d;a=p}else if(await HT(n.route,i,r),h=n.route[t],h)a=await c(h);else if(t==="action"){let d=new URL(e.url),p=d.pathname+d.search;throw pn(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:Ke.data,result:void 0};else if(h)a=await c(h);else{let d=new URL(e.url),p=d.pathname+d.search;throw pn(404,{pathname:p})}Ee(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Ke.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function u5(t){let{result:e,type:n,status:r}=t;if(zA(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Ke.error,error:a}}return n===Ke.error?{type:Ke.error,error:new A_(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Ke.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Ke.error)return{type:Ke.error,error:e,statusCode:ap(e)?e.status:r};if(m5(e)){var i,s;return{type:Ke.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Ke.data,data:e,statusCode:r}}function c5(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ee(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!C_.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=hy(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function YT(t,e,n){if(C_.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=dl(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Zo(t,e,n,r){let i=t.createURL(BA(e)).toString(),s={signal:n};if(r&&ur(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=dy(r.formData):s.body=r.formData}return new Request(i,s)}function dy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function GT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function h5(t,e,n,r,i,s){let o={},a=null,l,c=!1,h={},d=r&&bn(r[1])?r[1].error:void 0;return n.forEach((p,g)=>{let _=e[g].route.id;if(Ee(!lo(p),"Cannot handle redirect results in processLoaderData"),bn(p)){let I=p.error;if(d!==void 0&&(I=d,d=void 0),a=a||{},s)a[_]=I;else{let k=_a(t,_);a[k.route.id]==null&&(a[k.route.id]=I)}o[_]=void 0,c||(c=!0,l=ap(p.error)?p.error.status:500),p.headers&&(h[_]=p.headers)}else ao(p)?(i.set(_,p.deferredData),o[_]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(h[_]=p.headers)):(o[_]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(h[_]=p.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:h}}function KT(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=h5(e,n,r,i,a,!1);for(let h=0;h<s.length;h++){let{key:d,match:p,controller:g}=s[h];Ee(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let _=o[h];if(!(g&&g.signal.aborted))if(bn(_)){let I=_a(t.matches,p==null?void 0:p.route.id);c&&c[I.route.id]||(c=lt({},c,{[I.route.id]:_.error})),t.fetchers.delete(d)}else if(lo(_))Ee(!1,"Unhandled fetcher revalidation redirect");else if(ao(_))Ee(!1,"Unhandled fetcher deferred data");else{let I=Ki(_.data);t.fetchers.set(d,I)}}return{loaderData:l,errors:c}}function qT(t,e,n,r){let i=lt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function QT(t){return t?bn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function _a(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function XT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new A_(t||500,a,new Error(l),!0)}function JT(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(lo(n))return{result:n,idx:e}}}function BA(t){let e=typeof t=="string"?Oi(t):t;return Do(lt({},e,{hash:""}))}function d5(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function f5(t){return typeof t=="object"&&t!=null&&"then"in t}function p5(t){return zA(t.result)&&X3.has(t.result.status)}function ao(t){return t.type===Ke.deferred}function bn(t){return t.type===Ke.error}function lo(t){return(t&&t.type)===Ke.redirect}function m5(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function zA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function g5(t){return Q3.has(t.toLowerCase())}function ur(t){return K3.has(t.toLowerCase())}async function ZT(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),h=c!=null&&!UA(c,l)&&(s&&s[l.route.id])!==void 0;if(ao(a)&&(i||h)){let d=r[o];Ee(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await $A(a,d,i).then(p=>{p&&(n[o]=p||n[o])})}}}async function $A(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ke.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ke.error,error:i}}return{type:Ke.data,data:t.deferredData.data}}}function x_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function lu(t,e){let n=typeof e=="string"?Oi(e).search:e.search;if(t[t.length-1].route.index&&x_(n||""))return t[t.length-1];let r=LA(t);return r[r.length-1]}function eS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Am(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function y5(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Yl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function v5(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ki(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function _5(t,e){try{let n=t.sessionStorage.getItem(FA);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function w5(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(FA,JSON.stringify(n))}catch(r){Za(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}const lp=D.createContext(null),WA=D.createContext(null),Fs=D.createContext(null),up=D.createContext(null),Gr=D.createContext({outlet:null,matches:[],isDataRoute:!1}),HA=D.createContext(null);function E5(t,e){let{relative:n}=e===void 0?{}:e;fl()||Ee(!1);let{basename:r,navigator:i}=D.useContext(Fs),{hash:s,pathname:o,search:a}=GA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:gi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function fl(){return D.useContext(up)!=null}function Us(){return fl()||Ee(!1),D.useContext(up).location}function YA(t){D.useContext(Fs).static||D.useLayoutEffect(t)}function Li(){let{isDataRoute:t}=D.useContext(Gr);return t?O5():T5()}function T5(){fl()||Ee(!1);let t=D.useContext(lp),{basename:e,future:n,navigator:r}=D.useContext(Fs),{matches:i}=D.useContext(Gr),{pathname:s}=Us(),o=JSON.stringify(sp(i,n.v7_relativeSplatPath)),a=D.useRef(!1);return YA(()=>{a.current=!0}),D.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=op(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:gi([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}const S5=D.createContext(null);function I5(t){let e=D.useContext(Gr).outlet;return e&&D.createElement(S5.Provider,{value:t},e)}function cp(){let{matches:t}=D.useContext(Gr),e=t[t.length-1];return e?e.params:{}}function GA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Fs),{matches:i}=D.useContext(Gr),{pathname:s}=Us(),o=JSON.stringify(sp(i,r.v7_relativeSplatPath));return D.useMemo(()=>op(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function P5(t,e,n,r){fl()||Ee(!1);let{navigator:i}=D.useContext(Fs),{matches:s}=D.useContext(Gr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Us(),h;if(e){var d;let k=typeof e=="string"?Oi(e):e;l==="/"||(d=k.pathname)!=null&&d.startsWith(l)||Ee(!1),h=k}else h=c;let p=h.pathname||"/",g=p;if(l!=="/"){let k=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=no(t,{pathname:g}),I=x5(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:gi([l,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:gi([l,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return e&&I?D.createElement(up.Provider,{value:{location:uc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Tt.Pop}},I):I}function R5(){let t=M5(),e=ap(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,s)}const k5=D.createElement(R5,null);class A5 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Gr.Provider,{value:this.props.routeContext},D.createElement(HA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C5(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(lp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Gr.Provider,{value:e},r)}function x5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Ee(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:g}=n,_=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,p)=>{let g,_=!1,I=null,k=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,I=d.route.errorElement||k5,l&&(c<0&&p===0?(L5("route-fallback",!1),_=!0,k=null):c===p&&(_=!0,k=d.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,p+1)),y=()=>{let E;return g?E=I:_?E=k:d.route.Component?E=D.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,D.createElement(C5,{match:d,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?D.createElement(A5,{location:n.location,revalidation:n.revalidation,component:I,error:g,children:y(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):y()},null)}var KA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KA||{}),sf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sf||{});function D5(t){let e=D.useContext(lp);return e||Ee(!1),e}function b5(t){let e=D.useContext(WA);return e||Ee(!1),e}function N5(t){let e=D.useContext(Gr);return e||Ee(!1),e}function qA(t){let e=N5(),n=e.matches[e.matches.length-1];return n.route.id||Ee(!1),n.route.id}function M5(){var t;let e=D.useContext(HA),n=b5(sf.UseRouteError),r=qA(sf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function O5(){let{router:t}=D5(KA.UseNavigateStable),e=qA(sf.UseNavigateStable),n=D.useRef(!1);return YA(()=>{n.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,uc({fromRouteId:e},s)))},[t,e])}const tS={};function L5(t,e,n){!e&&!tS[t]&&(tS[t]=!0)}function Gs(t){let{to:e,replace:n,state:r,relative:i}=t;fl()||Ee(!1);let{future:s,static:o}=D.useContext(Fs),{matches:a}=D.useContext(Gr),{pathname:l}=Us(),c=Li(),h=op(e,sp(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return D.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function V5(t){return I5(t.context)}function F5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Tt.Pop,navigator:s,static:o=!1,future:a}=t;fl()&&Ee(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:s,static:o,future:uc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Oi(r));let{pathname:h="/",search:d="",hash:p="",state:g=null,key:_="default"}=r,I=D.useMemo(()=>{let k=dl(h,l);return k==null?null:{location:{pathname:k,search:d,hash:p,state:g,key:_},navigationType:i}},[l,h,d,p,g,_,i]);return I==null?null:D.createElement(Fs.Provider,{value:c},D.createElement(up.Provider,{children:n,value:I}))}new Promise(()=>{});function U5(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:D.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:D.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:D.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}function j5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z5(t,e){return t.button===0&&(!e||e==="_self")&&!B5(t)}const $5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],W5="6";try{window.__reactRouterVersion=W5}catch{}function H5(t,e){return t5({basename:e==null?void 0:e.basename,future:cc({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:P3({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Y5(),routes:t,mapRouteProperties:U5,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnMiss:e==null?void 0:e.unstable_patchRoutesOnMiss,window:e==null?void 0:e.window}).initialize()}function Y5(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=cc({},e,{errors:G5(e.errors)})),e}function G5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new A_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const K5=D.createContext({isTransitioning:!1}),q5=D.createContext(new Map),Q5="startTransition",nS=JD[Q5],X5="flushSync",rS=uM[X5];function J5(t){nS?nS(t):t()}function Gl(t){rS?rS(t):t()}class Z5{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function e6(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=D.useState(n.state),[o,a]=D.useState(),[l,c]=D.useState({isTransitioning:!1}),[h,d]=D.useState(),[p,g]=D.useState(),[_,I]=D.useState(),k=D.useRef(new Map),{v7_startTransition:T}=r||{},y=D.useCallback(v=>{T?J5(v):v()},[T]),E=D.useCallback((v,S)=>{let{deletedFetchers:P,unstable_flushSync:C,unstable_viewTransitionOpts:O}=S;P.forEach(de=>k.current.delete(de)),v.fetchers.forEach((de,xe)=>{de.data!==void 0&&k.current.set(xe,de.data)});let A=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||A){C?Gl(()=>s(v)):y(()=>s(v));return}if(C){Gl(()=>{p&&(h&&h.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let de=n.window.document.startViewTransition(()=>{Gl(()=>s(v))});de.finished.finally(()=>{Gl(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),Gl(()=>g(de));return}p?(h&&h.resolve(),p.skipTransition(),I({state:v,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(v),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,p,h,k,y]);D.useLayoutEffect(()=>n.subscribe(E),[n,E]),D.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Z5)},[l]),D.useEffect(()=>{if(h&&o&&n.window){let v=o,S=h.promise,P=n.window.document.startViewTransition(async()=>{y(()=>s(v)),await S});P.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(P)}},[y,o,h,n.window]),D.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,p,i.location,o]),D.useEffect(()=>{!l.isTransitioning&&_&&(a(_.state),c({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),I(void 0))},[l.isTransitioning,_]),D.useEffect(()=>{},[]);let b=D.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,S,P)=>n.navigate(v,{state:S,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(v,S,P)=>n.navigate(v,{replace:!0,state:S,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),U=n.basename||"/",x=D.useMemo(()=>({router:n,navigator:b,static:!1,basename:U}),[n,b,U]),R=D.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return D.createElement(D.Fragment,null,D.createElement(lp.Provider,{value:x},D.createElement(WA.Provider,{value:i},D.createElement(q5.Provider,{value:k.current},D.createElement(K5.Provider,{value:l},D.createElement(F5,{basename:U,location:i.location,navigationType:i.historyAction,navigator:b,future:R},i.initialized||n.future.v7_partialHydration?D.createElement(t6,{routes:n.routes,future:n.future,state:i}):e))))),null)}const t6=D.memo(n6);function n6(t){let{routes:e,future:n,state:r}=t;return P5(e,void 0,r,n)}const r6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yi=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,p=j5(e,$5),{basename:g}=D.useContext(Fs),_,I=!1;if(typeof c=="string"&&i6.test(c)&&(_=c,r6))try{let E=new URL(window.location.href),b=c.startsWith("//")?new URL(E.protocol+c):new URL(c),U=dl(b.pathname,g);b.origin===E.origin&&U!=null?c=U+b.search+b.hash:I=!0}catch{}let k=E5(c,{relative:i}),T=s6(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:d});function y(E){r&&r(E),E.defaultPrevented||T(E)}return D.createElement("a",cc({},p,{href:_||k,onClick:I||s?r:y,ref:n,target:l}))});var iS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iS||(iS={}));var sS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sS||(sS={}));function s6(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Li(),c=Us(),h=GA(t,{relative:o});return D.useCallback(d=>{if(z5(d,n)){d.preventDefault();let p=r!==void 0?r:Do(c)===Do(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}const QA="/assets/trash-be418851.svg",XA="/assets/pencil-002783e8.svg";function Uo(){return D.useContext(bv)}function Uc(){return{getCollection:(s,o,a)=>{let l=D.useRef(o).current,[c,h]=D.useState(""),[d,p]=D.useState(!1),[g,_]=D.useState([]);return D.useEffect(function(){p(!0);let I=RT(Cr,s),k=[];l&&k.push(i4(...l)),k.push(s4("date","desc"));let T=r4(I,...k);DT(T,y=>{if(y.empty)h("Cannot fetch"),p(!1),_([]);else{let E=[];if(y.forEach(b=>{let U={id:b.id,...b.data()};E.push(U)}),a!=null&&a.field){let b=E.filter(U=>U[a==null?void 0:a.field].toLowerCase().includes(a==null?void 0:a.value.toLowerCase()));_(b)}else _(E);p(!1),h("")}})},[l,a==null?void 0:a.field,a==null?void 0:a.value]),{error:c,data:g,loading:d}},addCollection:(s,o)=>{o.date=bT();let a=RT(Cr,s);return c4(a,o)},getDocument:(s,o)=>{let[a,l]=D.useState(""),[c,h]=D.useState(!1),[d,p]=D.useState(null);return D.useEffect(()=>{h(!0);let g=ci(Cr,s,o);DT(g,_=>{if(_.exists()){let I={id:_.id,..._.data()};p(I),h(!1),l("")}else l("No document found!"),h(!1)})},[o]),{error:a,data:d,loading:c}},deleteDocument:async(s,o)=>{let a=ci(Cr,s,o);return u4(a)},updateDocument:async(s,o,a,l=!0)=>{l&&(a.date=bT());let c=ci(Cr,s,o);return hA(c,a)}}}const D_=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),hp=D.createContext({}),dp=D.createContext(null),b_=typeof window<"u",JA=b_?D.useLayoutEffect:D.useEffect,ZA=D.createContext({strict:!1}),fp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),o6="framerAppearId",eC="data-"+fp(o6),a6={skipAnimations:!1,useManualTiming:!1};function l6(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const g=d&&r?e:n;return h&&s.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const Oh=["read","resolveKeyframes","update","preRender","render","postRender"],u6=40;function tC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Oh.reduce((T,y)=>(T[y]=l6(s),T),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:p}=o,g=()=>{const T=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,u6),1),i.timestamp=T,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},_=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:Oh.reduce((T,y)=>{const E=o[y];return T[y]=(b,U=!1,x=!1)=>(n||_(),E.schedule(b,U,x)),T},{}),cancel:T=>{for(let y=0;y<Oh.length;y++)o[Oh[y]].cancel(T)},state:i,steps:o}}const{schedule:N_,cancel:d8}=tC(queueMicrotask,!1);function wa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const nC=D.createContext({});let oS=!1;function c6(t,e,n,r,i){var s;const{visualElement:o}=D.useContext(hp),a=D.useContext(ZA),l=D.useContext(dp),c=D.useContext(D_).reducedMotion,h=D.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=h.current,p=D.useContext(nC);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&d6(h.current,n,i,p),D.useInsertionEffect(()=>{d&&d.update(n,l)});const g=n[eC],_=D.useRef(!!g&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,g)));return JA(()=>{d&&(d.updateFeatures(),N_.render(d.render),_.current&&d.animationState&&d.animationState.animateChanges())}),D.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current=!1,oS||(oS=!0,queueMicrotask(h6)))}),d}function h6(){window.MotionHandoffIsComplete=!0}function d6(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&wa(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function rC(t){if(t)return t.options.allowProjection!==!1?t.projection:rC(t.parent)}function f6(t,e,n){return D.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):wa(n)&&(n.current=r))},[e])}function hc(t){return typeof t=="string"||Array.isArray(t)}function dc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const M_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],O_=["initial",...M_];function pp(t){return dc(t.animate)||O_.some(e=>hc(t[e]))}function iC(t){return!!(pp(t)||t.variants)}function p6(t,e){if(pp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hc(n)?n:void 0,animate:hc(r)?r:void 0}}return t.inherit!==!1?e:{}}function m6(t){const{initial:e,animate:n}=p6(t,D.useContext(hp));return D.useMemo(()=>({initial:e,animate:n}),[aS(e),aS(n)])}function aS(t){return Array.isArray(t)?t.join(" "):t}const lS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},el={};for(const t in lS)el[t]={isEnabled:e=>lS[t].some(n=>!!e[n])};function g6(t){for(const e in t)el[e]={...el[e],...t[e]}}const L_=D.createContext({}),y6=Symbol.for("motionComponentSymbol"),Kt=t=>t;let v6=Kt,sC=Kt;function _6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&g6(t);function s(a,l){let c;const h={...D.useContext(D_),...a,layoutId:w6(a)},{isStatic:d}=h,p=m6(a),g=r(a,d);if(!d&&b_){E6();const _=T6(h);c=_.MeasureLayout,p.visualElement=c6(i,g,h,e,_.ProjectionNode)}return q(hp.Provider,{value:p,children:[c&&p.visualElement?N(c,{visualElement:p.visualElement,...h}):null,n(i,a,f6(g,p.visualElement,l),g,d,p.visualElement)]})}const o=D.forwardRef(s);return o[y6]=i,o}function w6({layoutId:t}){const e=D.useContext(L_).id;return e&&t!==void 0?e+"-"+t:t}function E6(t,e){D.useContext(ZA).strict}function T6(t){const{drag:e,layout:n}=el;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function S6(t){function e(r,i={}){return _6(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const I6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function V_(t){return typeof t!="string"||t.includes("-")?!1:!!(I6.indexOf(t)>-1||/[A-Z]/u.test(t))}const of={};function P6(t){Object.assign(of,t)}const jc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],js=new Set(jc);function oC(t,{layout:e,layoutId:n}){return js.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!of[t]||t==="opacity")}const un=t=>!!(t&&t.getVelocity),aC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ds=(t,e,n)=>n>e?e:n<t?t:n,pl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Au={...pl,transform:t=>Ds(0,1,t)},Lh={...pl,default:1},Cu=t=>Math.round(t*1e5)/1e5,F_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,R6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,k6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Bc(t){return typeof t=="string"}function A6(t){return t==null}const zc=t=>({test:e=>Bc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qi=zc("deg"),zr=zc("%"),he=zc("px"),C6=zc("vh"),x6=zc("vw"),uS={...zr,parse:t=>zr.parse(t)/100,transform:t=>zr.transform(t*100)},cS={...pl,transform:Math.round},U_={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,size:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,rotate:qi,rotateX:qi,rotateY:qi,rotateZ:qi,scale:Lh,scaleX:Lh,scaleY:Lh,scaleZ:Lh,skew:qi,skewX:qi,skewY:qi,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:Au,originX:uS,originY:uS,originZ:he,zIndex:cS,backgroundPositionX:he,backgroundPositionY:he,fillOpacity:Au,strokeOpacity:Au,numOctaves:cS},D6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b6=jc.length;function N6(t,e,n){let r="",i=!0;for(let s=0;s<b6;s++){const o=jc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=aC(a,U_[o]);if(!l){i=!1;const h=D6[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}const lC=t=>e=>typeof e=="string"&&e.startsWith(t),uC=lC("--"),M6=lC("var(--"),j_=t=>M6(t)?O6.test(t.split("/*")[0].trim()):!1,O6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function B_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(js.has(l)){o=!0;continue}else if(uC(l)){i[l]=c;continue}else{const h=aC(c,U_[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=N6(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const z_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cC(t,e,n){for(const r in e)!un(e[r])&&!oC(r,n)&&(t[r]=e[r])}function L6({transformTemplate:t},e){return D.useMemo(()=>{const n=z_();return B_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function V6(t,e){const n=t.style||{},r={};return cC(r,n,t),Object.assign(r,L6(t,e)),r}function F6(t,e){const n={},r=V6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const U6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function af(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||U6.has(t)}let hC=t=>!af(t);function j6(t){t&&(hC=e=>e.startsWith("on")?!af(e):t(e))}try{j6(require("@emotion/is-prop-valid").default)}catch{}function B6(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(hC(i)||n===!0&&af(i)||!e&&!af(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function hS(t,e,n){return typeof t=="string"?t:he.transform(e+n*t)}function z6(t,e,n){const r=hS(e,t.x,t.width),i=hS(n,t.y,t.height);return`${r} ${i}`}const $6={offset:"stroke-dashoffset",array:"stroke-dasharray"},W6={offset:"strokeDashoffset",array:"strokeDasharray"};function H6(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?$6:W6;t[s.offset]=he.transform(-r);const o=he.transform(e),a=he.transform(n);t[s.array]=`${o} ${a}`}function $_(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(B_(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:_}=t;p.transform&&(_&&(g.transform=p.transform),delete p.transform),_&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=z6(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&H6(p,o,a,l,!1)}const dC=()=>({...z_(),attrs:{}}),W_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Y6(t,e,n,r){const i=D.useMemo(()=>{const s=dC();return $_(s,e,W_(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cC(s,t.style,t),i.style={...s,...i.style}}return i}function G6(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(V_(n)?Y6:F6)(r,s,o,n),c=B6(r,typeof n=="string",t),h=n!==D.Fragment?{...c,...l,ref:i}:{},{children:d}=r,p=D.useMemo(()=>un(d)?d.get():d,[d]);return D.createElement(n,{...h,children:p})}}function fC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const pC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mC(t,e,n,r){fC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(pC.has(i)?i:fp(i),e.attrs[i])}function H_(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(un(i[o])||e.style&&un(e.style[o])||oC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function gC(t,e,n){const r=H_(t,e,n);for(const i in t)if(un(t[i])||un(e[i])){const s=jc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function dS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Y_(t,e,n,r){if(typeof e=="function"){const[i,s]=dS(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=dS(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function G_(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const fy=t=>Array.isArray(t),K6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),q6=t=>fy(t)?t[t.length-1]||0:t;function hd(t){const e=un(t)?t.get():t;return K6(e)?e.toValue():e}const yC=new Set(["opacity","clipPath","filter","transform"]);function vC(t){if(js.has(t))return"transform";if(yC.has(t))return fp(t)}function mp(t,e){t.indexOf(e)===-1&&t.push(e)}function gp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Q6({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:J6(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(i,c,l)),l}const _C=t=>(e,n)=>{const r=D.useContext(hp),i=D.useContext(dp),s=()=>Q6(t,e,r,i,n);return n?s():G_(s)};function X6(t,e){const n=vC(e);n&&mp(t,n)}function fS(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=Y_(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function J6(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,c=i(t,{});for(const k in c)o[k]=hd(c[k]);let{initial:h,animate:d}=t;const p=pp(t),g=iC(t);e&&g&&!p&&t.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let _=n?n.initial===!1:!1;_=_||h===!1;const I=_?d:h;return I&&typeof I!="boolean"&&!dc(I)&&fS(t,I,(k,T)=>{for(const y in k){let E=k[y];if(Array.isArray(E)){const b=_?E.length-1:0;E=E[b]}E!==null&&(o[y]=E)}for(const y in T)o[y]=T[y]}),l&&(d&&h!==!1&&!dc(d)&&fS(t,d,k=>{for(const T in k)X6(a,T)}),a.length&&(o.willChange=a.join(","))),o}const{schedule:$e,cancel:xi,state:$t,steps:Cm}=tC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0),Z6={useVisualState:_C({scrapeMotionValuesFromProps:gC,createRenderState:dC,onMount:(t,e,{renderState:n,latestValues:r})=>{$e.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),$e.render(()=>{$_(n,r,W_(e.tagName),t.transformTemplate),mC(e,n)})}})},ej={useVisualState:_C({applyWillChange:!0,scrapeMotionValuesFromProps:H_,createRenderState:z_})};function tj(t,{forwardMotionProps:e=!1},n,r){return{...V_(t)?Z6:ej,preloadedFeatures:n,useRender:G6(e),createVisualElement:r,Component:t}}function hi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const wC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function yp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const nj=t=>e=>wC(e)&&t(e,yp(e));function vi(t,e,n,r){return hi(t,e,nj(n),r)}const rj=(t,e)=>n=>e(t(n)),_i=(...t)=>t.reduce(rj);function EC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const pS=EC("dragHorizontal"),mS=EC("dragVertical");function TC(t){let e=!1;if(t==="y")e=mS();else if(t==="x")e=pS();else{const n=pS(),r=mS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function SC(){const t=TC(!0);return t?(t(),!1):!0}class Bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function gS(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||SC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&$e.postRender(()=>l(s,o))};return vi(t.current,n,i,{passive:!t.getProps()[r]})}class ij extends Bs{mount(){this.unmount=_i(gS(this.node,!0),gS(this.node,!1))}unmount(){}}class sj extends Bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_i(hi(this.node.current,"focus",()=>this.onFocus()),hi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const IC=(t,e)=>e?t===e?!0:IC(t,e.parentElement):!1;function xm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,yp(n))}class oj extends Bs{constructor(){super(...arguments),this.removeStartListeners=Kt,this.removeEndListeners=Kt,this.removeAccessibleListeners=Kt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=vi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),p=!d&&!IC(this.node.current,a.target)?h:c;p&&$e.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=vi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=_i(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||xm("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&$e.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=hi(this.node.current,"keyup",o),xm("down",(a,l)=>{this.startPress(a,l)})},n=hi(this.node.current,"keydown",e),r=()=>{this.isPressing&&xm("cancel",(s,o)=>this.cancelPress(s,o))},i=hi(this.node.current,"blur",r);this.removeAccessibleListeners=_i(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&$e.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!SC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&$e.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=vi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=hi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=_i(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const py=new WeakMap,Dm=new WeakMap,aj=t=>{const e=py.get(t.target);e&&e(t)},lj=t=>{t.forEach(aj)};function uj({root:t,...e}){const n=t||document;Dm.has(n)||Dm.set(n,{});const r=Dm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(lj,{root:t,...e})),r[i]}function cj(t,e,n){const r=uj(e);return py.set(t,n),r.observe(t),()=>{py.delete(t),r.unobserve(t)}}const hj={some:0,all:1};class dj extends Bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hj[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return cj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fj(e,n))&&this.startObserver()}unmount(){}}function fj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pj={inView:{Feature:dj},tap:{Feature:oj},focus:{Feature:sj},hover:{Feature:ij}};function PC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vp(t,e,n){const r=t.getProps();return Y_(r,e,n!==void 0?n:r.custom,t)}const $r=t=>t*1e3,wi=t=>t/1e3,mj={type:"spring",stiffness:500,damping:25,restSpeed:10},gj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yj={type:"keyframes",duration:.8},vj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_j=(t,{keyframes:e})=>e.length>2?yj:js.has(t)?t.startsWith("scale")?gj(e[1]):mj:vj;function wj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function K_(t,e){return t[e]||t.default||t}const Ej=t=>t!==null;function _p(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Ej),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let dd;function Tj(){dd=void 0}const Ts={now:()=>(dd===void 0&&Ts.set($t.isProcessing||a6.useManualTiming?$t.timestamp:performance.now()),dd),set:t=>{dd=t,queueMicrotask(Tj)}},RC=t=>/^0[^.\s]+$/u.test(t);function Sj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RC(t):!0}const kC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Ij=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pj(t){const e=Ij.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function AC(t,e,n=1){const[r,i]=Pj(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return kC(o)?parseFloat(o):o}return j_(i)?AC(i,e,n+1):i}const Rj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),yS=t=>t===pl||t===he,vS=(t,e)=>parseFloat(t.split(", ")[e]),_S=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return vS(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?vS(s[1],t):0}},kj=new Set(["x","y","z"]),Aj=jc.filter(t=>!kj.has(t));function Cj(t){const e=[];return Aj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_S(4,13),y:_S(5,14)};tl.translateX=tl.x;tl.translateY=tl.y;const CC=t=>e=>e.test(t),xj={test:t=>t==="auto",parse:t=>t},xC=[pl,he,zr,qi,x6,C6,xj],wS=t=>xC.find(CC(t)),go=new Set;let my=!1,gy=!1;function DC(){if(gy){const t=Array.from(go).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Cj(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gy=!1,my=!1,go.forEach(t=>t.complete()),go.clear()}function bC(){go.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gy=!0)})}function Dj(){bC(),DC()}class q_{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(go.add(this),my||(my=!0,$e.read(bC),$e.resolveKeyframes(DC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Q_=(t,e)=>n=>!!(Bc(n)&&k6.test(n)&&n.startsWith(t)||e&&!A6(n)&&Object.prototype.hasOwnProperty.call(n,e)),NC=(t,e,n)=>r=>{if(!Bc(r))return r;const[i,s,o,a]=r.match(F_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},bj=t=>Ds(0,255,t),bm={...pl,transform:t=>Math.round(bj(t))},uo={test:Q_("rgb","red"),parse:NC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bm.transform(t)+", "+bm.transform(e)+", "+bm.transform(n)+", "+Cu(Au.transform(r))+")"};function Nj(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yy={test:Q_("#"),parse:Nj,transform:uo.transform},Ea={test:Q_("hsl","hue"),parse:NC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zr.transform(Cu(e))+", "+zr.transform(Cu(n))+", "+Cu(Au.transform(r))+")"},sn={test:t=>uo.test(t)||yy.test(t)||Ea.test(t),parse:t=>uo.test(t)?uo.parse(t):Ea.test(t)?Ea.parse(t):yy.parse(t),transform:t=>Bc(t)?t:t.hasOwnProperty("red")?uo.transform(t):Ea.transform(t)};function Mj(t){var e,n;return isNaN(t)&&Bc(t)&&(((e=t.match(F_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(R6))===null||n===void 0?void 0:n.length)||0)>0}const MC="number",OC="color",Oj="var",Lj="var(",ES="${}",Vj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Vj,l=>(sn.test(l)?(r.color.push(s),i.push(OC),n.push(sn.parse(l))):l.startsWith(Lj)?(r.var.push(s),i.push(Oj),n.push(l)):(r.number.push(s),i.push(MC),n.push(parseFloat(l))),++s,ES)).split(ES);return{values:n,split:a,indexes:r,types:i}}function LC(t){return fc(t).values}function VC(t){const{split:e,types:n}=fc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===MC?s+=Cu(i[o]):a===OC?s+=sn.transform(i[o]):s+=i[o]}return s}}const Fj=t=>typeof t=="number"?0:t;function Uj(t){const e=LC(t);return VC(t)(e.map(Fj))}const bs={test:Mj,parse:LC,createTransformer:VC,getAnimatableNone:Uj},jj=new Set(["brightness","contrast","saturate","opacity"]);function Bj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(F_)||[];if(!r)return t;const i=n.replace(r,"");let s=jj.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const zj=/\b([a-z-]*)\(.*?\)/gu,vy={...bs,getAnimatableNone:t=>{const e=t.match(zj);return e?e.map(Bj).join(" "):t}},$j={...U_,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:vy,WebkitFilter:vy},X_=t=>$j[t];function FC(t,e){let n=X_(t);return n!==vy&&(n=bs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Wj=new Set(["auto","none","0"]);function Hj(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Wj.has(s)&&fc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=FC(n,i)}class UC extends q_{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),j_(c))){const h=AC(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Rj.has(r)||e.length!==2)return;const[i,s]=e,o=wS(i),a=wS(s);if(o!==a)if(yS(o)&&yS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Sj(e[i])&&r.push(i);r.length&&Hj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=tl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function jC(t){let e;return()=>(e===void 0&&(e=t()),e)}const TS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bs.test(t)||t==="0")&&!t.startsWith("url("));function Yj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Gj(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=TS(i,e),a=TS(s,e);return!o||!a?!1:Yj(t)||n==="spring"&&r}class BC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Dj(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Gj(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(_p(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function zC(t,e){return e?t*(1e3/e):0}const Kj=5;function $C(t,e,n){const r=Math.max(e-Kj,0);return zC(n-t(r),e-r)}const Nm=.001,qj=.01,SS=10,Qj=.05,Xj=1;function Jj({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;v6(t<=$r(SS));let o=1-e;o=Ds(Qj,Xj,o),t=Ds(qj,SS,wi(t)),o<1?(i=c=>{const h=c*o,d=h*t,p=h-n,g=_y(c,o),_=Math.exp(-d);return Nm-p/g*_},s=c=>{const d=c*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-d),I=_y(Math.pow(c,2),o);return(-i(c)+Nm>0?-1:1)*((p-g)*_)/I}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-Nm+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=e9(i,s,a);if(t=$r(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Zj=12;function e9(t,e,n){let r=n;for(let i=1;i<Zj;i++)r=r-t(r)/e(r);return r}function _y(t,e){return t*Math.sqrt(1-e*e)}const t9=["duration","bounce"],n9=["stiffness","damping","mass"];function IS(t,e){return e.some(n=>t[n]!==void 0)}function r9(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!IS(t,n9)&&IS(t,t9)){const n=Jj(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function WC({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=r9({...r,velocity:-wi(r.velocity||0)}),g=d||0,_=l/(2*Math.sqrt(a*c)),I=s-i,k=wi(Math.sqrt(a/c)),T=Math.abs(I)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let y;if(_<1){const E=_y(k,_);y=b=>{const U=Math.exp(-_*k*b);return s-U*((g+_*k*I)/E*Math.sin(E*b)+I*Math.cos(E*b))}}else if(_===1)y=E=>s-Math.exp(-k*E)*(I+(g+k*I)*E);else{const E=k*Math.sqrt(_*_-1);y=b=>{const U=Math.exp(-_*k*b),x=Math.min(E*b,300);return s-U*((g+_*k*I)*Math.sinh(x)+E*I*Math.cosh(x))/E}}return{calculatedDuration:p&&h||null,next:E=>{const b=y(E);if(p)o.done=E>=h;else{let U=0;_<1&&(U=E===0?$r(g):$C(y,E,b));const x=Math.abs(U)<=n,R=Math.abs(s-b)<=e;o.done=x&&R}return o.value=o.done?s:b,o}}}function PS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},g=v=>a!==void 0&&v<a||l!==void 0&&v>l,_=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let I=n*e;const k=d+I,T=o===void 0?k:o(k);T!==k&&(I=T-d);const y=v=>-I*Math.exp(-v/r),E=v=>T+y(v),b=v=>{const S=y(v),P=E(v);p.done=Math.abs(S)<=c,p.value=p.done?T:P};let U,x;const R=v=>{g(p.value)&&(U=v,x=WC({keyframes:[p.value,_(p.value)],velocity:$C(E,v,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return R(0),{calculatedDuration:null,next:v=>{let S=!1;return!x&&U===void 0&&(S=!0,b(v),R(v)),U!==void 0&&v>=U?x.next(v-U):(!S&&b(v),p)}}}const HC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,i9=1e-7,s9=12;function o9(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=HC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>i9&&++a<s9);return o}function $c(t,e,n,r){if(t===e&&n===r)return Kt;const i=s=>o9(s,0,1,t,n);return s=>s===0||s===1?s:HC(i(s),e,r)}const a9=$c(.42,0,1,1),l9=$c(0,0,.58,1),YC=$c(.42,0,.58,1),u9=t=>Array.isArray(t)&&typeof t[0]!="number",GC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KC=t=>e=>1-t(1-e),J_=t=>1-Math.sin(Math.acos(t)),qC=KC(J_),c9=GC(J_),QC=$c(.33,1.53,.69,.99),Z_=KC(QC),h9=GC(Z_),d9=t=>(t*=2)<1?.5*Z_(t):.5*(2-Math.pow(2,-10*(t-1))),f9={linear:Kt,easeIn:a9,easeInOut:YC,easeOut:l9,circIn:J_,circInOut:c9,circOut:qC,backIn:Z_,backInOut:h9,backOut:QC,anticipate:d9},RS=t=>{if(Array.isArray(t)){sC(t.length===4);const[e,n,r,i]=t;return $c(e,n,r,i)}else if(typeof t=="string")return f9[t];return t},pc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ct=(t,e,n)=>t+(e-t)*n;function Mm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function p9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Mm(l,a,t+1/3),s=Mm(l,a,t),o=Mm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function lf(t,e){return n=>n>0?e:t}const Om=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},m9=[yy,uo,Ea],g9=t=>m9.find(e=>e.test(t));function kS(t){const e=g9(t);if(!e)return!1;let n=e.parse(t);return e===Ea&&(n=p9(n)),n}const AS=(t,e)=>{const n=kS(t),r=kS(e);if(!n||!r)return lf(t,e);const i={...n};return s=>(i.red=Om(n.red,r.red,s),i.green=Om(n.green,r.green,s),i.blue=Om(n.blue,r.blue,s),i.alpha=ct(n.alpha,r.alpha,s),uo.transform(i))},wy=new Set(["none","hidden"]);function y9(t,e){return wy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function v9(t,e){return n=>ct(t,e,n)}function e0(t){return typeof t=="number"?v9:typeof t=="string"?j_(t)?lf:sn.test(t)?AS:E9:Array.isArray(t)?XC:typeof t=="object"?sn.test(t)?AS:_9:lf}function XC(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>e0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function _9(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=e0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function w9(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const E9=(t,e)=>{const n=bs.createTransformer(e),r=fc(t),i=fc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?wy.has(t)&&!i.values.length||wy.has(e)&&!r.values.length?y9(t,e):_i(XC(w9(r,i),i.values),n):lf(t,e)};function JC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):e0(t)(t,e)}function T9(t,e,n){const r=[],i=n||JC,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Kt:e;a=_i(l,a)}r.push(a)}return r}function S9(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(sC(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=T9(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=pc(t[h],t[h+1],c);return o[h](d)};return n?c=>l(Ds(t[0],t[s-1],c)):l}function I9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=pc(0,e,r);t.push(ct(n,1,i))}}function P9(t){const e=[0];return I9(e,t.length-1),e}function R9(t,e){return t.map(n=>n*e)}function k9(t,e){return t.map(()=>e||YC).splice(0,t.length-1)}function uf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=u9(r)?r.map(RS):RS(r),s={done:!1,value:e[0]},o=R9(n&&n.length===e.length?n:P9(e),t),a=S9(o,e,{ease:Array.isArray(i)?i:k9(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const CS=2e4;function A9(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<CS;)e+=n,r=t.next(e);return e>=CS?1/0:e}const C9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>$e.update(e,!0),stop:()=>xi(e),now:()=>$t.isProcessing?$t.timestamp:Ts.now()}},x9={decay:PS,inertia:PS,tween:uf,keyframes:uf,spring:WC},D9=t=>t/100;class t0 extends BC{constructor({KeyframeResolver:e=q_,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=x9[n]||uf;let l,c;a!==uf&&typeof e[0]!="number"&&(l=_i(D9,JC(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=A9(h));const{calculatedDuration:d}=h,p=d+i,g=p*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:v}=this.options;return{done:!0,value:v[v.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:g,repeatType:_,repeatDelay:I,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const T=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?T<0:T>h;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let E=this.currentTime,b=s;if(g){const v=Math.min(this.currentTime,h)/d;let S=Math.floor(v),P=v%1;!P&&v>=1&&(P=1),P===1&&S--,S=Math.min(S,g+1),!!(S%2)&&(_==="reverse"?(P=1-P,I&&(P-=I/d)):_==="mirror"&&(b=o)),E=Ds(0,1,P)*d}const U=y?{done:!1,value:l[0]}:b.next(E);a&&(U.value=a(U.value));let{done:x}=U;!y&&c!==null&&(x=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&x);return R&&i!==void 0&&(U.value=_p(l,this.options,i)),k&&k(U.value),R&&this.finish(),U}get duration(){const{resolved:e}=this;return e?wi(e.calculatedDuration):0}get time(){return wi(this.currentTime)}set time(e){e=$r(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=C9,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ZC=t=>Array.isArray(t)&&typeof t[0]=="number";function ex(t){return!!(!t||typeof t=="string"&&t in n0||ZC(t)||Array.isArray(t)&&t.every(ex))}const uu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,n0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function b9(t){return tx(t)||n0.easeOut}function tx(t){if(t)return ZC(t)?uu(t):Array.isArray(t)?t.map(b9):n0[t]}function N9(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=tx(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const M9=jC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cf=10,O9=2e4;function L9(t){return t.type==="spring"||!ex(t.ease)}function V9(t,e){const n=new t0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<O9;)r=n.sample(s),i.push(r.value),s+=cf;return{times:void 0,keyframes:i,duration:s-cf,ease:"linear"}}class xS extends BC{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new UC(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(L9(this.options)){const{onComplete:d,onUpdate:p,motionValue:g,..._}=this.options,I=V9(e,_);e=I.keyframes,e.length===1&&(e[1]=e[0]),i=I.duration,s=I.times,o=I.ease,a="keyframes"}const h=N9(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=Ts.now(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(_p(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return wi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return wi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=$r(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Kt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Kt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,...p}=this.options,g=new t0({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),_=$r(this.time);c.setWithVelocity(g.sample(_-cf).value,g.sample(_).value,cf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return M9()&&r&&yC.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function F9(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return $e.update(r,!0),()=>xi(r)}const U9=jC(()=>window.ScrollTimeline!==void 0);class j9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(U9()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),F9(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const r0=(t,e,n,r={},i,s,o)=>a=>{const l=K_(r,t)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-$r(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};wj(l)||(d={...d,..._j(t,d)}),d.duration&&(d.duration=$r(d.duration)),d.repeatDelay&&(d.repeatDelay=$r(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!s&&e.get()!==void 0){const g=_p(d.keyframes,l);if(g!==void 0)return $e.update(()=>{d.onUpdate(g),d.onComplete()}),new j9([])}return!s&&xS.supports(d)?new xS(d):new t0(d)};class i0{constructor(){this.subscriptions=[]}add(e){return mp(this.subscriptions,e),()=>gp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DS=30,B9=t=>!isNaN(parseFloat(t));class nx{constructor(e,n={}){this.version="11.3.24",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ts.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ts.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=B9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new i0);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ts.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>DS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,DS);return zC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mc(t,e){return new nx(t,e)}function z9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mc(n))}function $9(t,e){const n=vp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=q6(s[o]);z9(t,o,a)}}function rx(t){return t.getProps()[eC]}class W9 extends nx{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=vC(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(gp(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function H9(t){return!!(un(t)&&t.add)}function Ey(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new W9("auto"),t.addValue("willChange",r)),H9(r))return r.add(e)}function Y9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ix(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const p=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),g=l[d];if(g===void 0||h&&Y9(h,d))continue;const _={delay:n,elapsed:0,...K_(o||{},d)};let I=!1;if(window.MotionHandoffAnimation){const T=rx(t);if(T){const y=window.MotionHandoffAnimation(T,d,$e);y!==null&&(_.elapsed=y,I=!0)}}p.start(r0(d,p,g,t.shouldReduceMotion&&js.has(d)?{type:!1}:_,t,I,Ey(t,d)));const k=p.animation;k&&c.push(k)}return a&&Promise.all(c).then(()=>{$e.update(()=>{a&&$9(t,a)})}),c}function Ty(t,e,n={}){var r;const i=vp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(ix(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=s;return G9(t,e,h+c,d,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function G9(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(K9).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Ty(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function K9(t,e){return t.sortNodePosition(e)}function q9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Ty(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Ty(t,e,n);else{const i=typeof e=="function"?vp(t,e,n.custom):e;r=Promise.all(ix(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Q9=[...M_].reverse(),X9=M_.length;function J9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>q9(t,n,r)))}function Z9(t){let e=J9(t),n=bS(),r=!0;const i=l=>(c,h)=>{var d;const p=vp(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:g,transitionEnd:_,...I}=p;c={...c,...I,..._}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],p=new Set;let g={},_=1/0;for(let k=0;k<X9;k++){const T=Q9[k],y=n[T],E=c[T]!==void 0?c[T]:h[T],b=hc(E),U=T===l?y.isActive:null;U===!1&&(_=k);let x=E===h[T]&&E!==c[T]&&b;if(x&&r&&t.manuallyAnimateOnMount&&(x=!1),y.protectedKeys={...g},!y.isActive&&U===null||!E&&!y.prevProp||dc(E)||typeof E=="boolean")continue;let v=eB(y.prevProp,E)||T===l&&y.isActive&&!x&&b||k>_&&b,S=!1;const P=Array.isArray(E)?E:[E];let C=P.reduce(i(T),{});U===!1&&(C={});const{prevResolvedValues:O={}}=y,A={...O,...C},de=xe=>{v=!0,p.has(xe)&&(S=!0,p.delete(xe)),y.needsAnimating[xe]=!0;const mt=t.getValue(xe);mt&&(mt.liveStyle=!1)};for(const xe in A){const mt=C[xe],Ie=O[xe];if(g.hasOwnProperty(xe))continue;let Y=!1;fy(mt)&&fy(Ie)?Y=!PC(mt,Ie):Y=mt!==Ie,Y?mt!=null?de(xe):p.add(xe):mt!==void 0&&p.has(xe)?de(xe):y.protectedKeys[xe]=!0}y.prevProp=E,y.prevResolvedValues=C,y.isActive&&(g={...g,...C}),r&&t.blockInitialAnimation&&(v=!1),v&&(!x||S)&&d.push(...P.map(xe=>({animation:xe,options:{type:T}})))}if(p.size){const k={};p.forEach(T=>{const y=t.getBaseTarget(T),E=t.getValue(T);E&&(E.liveStyle=!0),k[T]=y??null}),d.push({animation:k})}let I=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=bS(),r=!0}}}function eB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PC(e,t):!1}function Ks(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bS(){return{animate:Ks(!0),whileInView:Ks(),whileHover:Ks(),whileTap:Ks(),whileDrag:Ks(),whileFocus:Ks(),exit:Ks()}}class tB extends Bs{constructor(e){super(e),e.animationState||(e.animationState=Z9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let nB=0;class rB extends Bs{constructor(){super(...arguments),this.id=nB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const iB={animation:{Feature:tB},exit:{Feature:rB}},NS=(t,e)=>Math.abs(t-e);function sB(t,e){const n=NS(t.x,e.x),r=NS(t.y,e.y);return Math.sqrt(n**2+r**2)}class sx{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Vm(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=sB(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:_}=d,{timestamp:I}=$t;this.history.push({..._,timestamp:I});const{onStart:k,onMove:T}=this.handlers;p||(k&&k(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Lm(p,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:_,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Vm(d.type==="pointercancel"?this.lastMoveEventInfo:Lm(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,k),_&&_(d,k)},!wC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=yp(e),a=Lm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=$t;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Vm(a,this.history)),this.removeListeners=_i(vi(this.contextWindow,"pointermove",this.handlePointerMove),vi(this.contextWindow,"pointerup",this.handlePointerUp),vi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xi(this.updatePoint)}}function Lm(t,e){return e?{point:e(t.point)}:t}function MS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vm({point:t},e){return{point:t,delta:MS(t,ox(e)),offset:MS(t,oB(e)),velocity:aB(e,.1)}}function oB(t){return t[0]}function ox(t){return t[t.length-1]}function aB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ox(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$r(e)));)n--;if(!r)return{x:0,y:0};const s=wi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const ax=1e-4,lB=1-ax,uB=1+ax,lx=.01,cB=0-lx,hB=0+lx;function Fn(t){return t.max-t.min}function dB(t,e,n){return Math.abs(t-e)<=n}function OS(t,e,n,r=.5){t.origin=r,t.originPoint=ct(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lB&&t.scale<=uB||isNaN(t.scale))&&(t.scale=1),(t.translate>=cB&&t.translate<=hB||isNaN(t.translate))&&(t.translate=0)}function xu(t,e,n,r){OS(t.x,e.x,n.x,r?r.originX:void 0),OS(t.y,e.y,n.y,r?r.originY:void 0)}function LS(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function fB(t,e,n){LS(t.x,e.x,n.x),LS(t.y,e.y,n.y)}function VS(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Du(t,e,n){VS(t.x,e.x,n.x),VS(t.y,e.y,n.y)}function pB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ct(n,t,r.max):Math.min(t,n)),t}function FS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mB(t,{top:e,left:n,bottom:r,right:i}){return{x:FS(t.x,n,i),y:FS(t.y,e,r)}}function US(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function gB(t,e){return{x:US(t.x,e.x),y:US(t.y,e.y)}}function yB(t,e){let n=.5;const r=Fn(t),i=Fn(e);return i>r?n=pc(e.min,e.max-r,t.min):r>i&&(n=pc(t.min,t.max-i,e.min)),Ds(0,1,n)}function vB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sy=.35;function _B(t=Sy){return t===!1?t=0:t===!0&&(t=Sy),{x:jS(t,"left","right"),y:jS(t,"top","bottom")}}function jS(t,e,n){return{min:BS(t,e),max:BS(t,n)}}function BS(t,e){return typeof t=="number"?t:t[e]||0}const zS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ta=()=>({x:zS(),y:zS()}),$S=()=>({min:0,max:0}),Et=()=>({x:$S(),y:$S()});function Wn(t){return[t("x"),t("y")]}function ux({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function EB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fm(t){return t===void 0||t===1}function Iy({scale:t,scaleX:e,scaleY:n}){return!Fm(t)||!Fm(e)||!Fm(n)}function Zs(t){return Iy(t)||cx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cx(t){return WS(t.x)||WS(t.y)}function WS(t){return t&&t!=="0%"}function hf(t,e,n){const r=t-n,i=e*r;return n+i}function HS(t,e,n,r,i){return i!==void 0&&(t=hf(t,i,r)),hf(t,n,r)+e}function Py(t,e=0,n=1,r,i){t.min=HS(t.min,e,n,r,i),t.max=HS(t.max,e,n,r,i)}function hx(t,{x:e,y:n}){Py(t.x,e.translate,e.scale,e.originPoint),Py(t.y,n.translate,n.scale,n.originPoint)}const YS=.999999999999,GS=1.0000000000001;function TB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ia(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,hx(t,o)),r&&Zs(s.latestValues)&&Ia(t,s.latestValues))}e.x<GS&&e.x>YS&&(e.x=1),e.y<GS&&e.y>YS&&(e.y=1)}function Sa(t,e){t.min=t.min+e,t.max=t.max+e}function KS(t,e,n,r,i=.5){const s=ct(t.min,t.max,i);Py(t,e,n,s,r)}function Ia(t,e){KS(t.x,e.x,e.scaleX,e.scale,e.originX),KS(t.y,e.y,e.scaleY,e.scale,e.originY)}function dx(t,e){return ux(EB(t.getBoundingClientRect(),e))}function SB(t,e,n){const r=dx(t,n),{scroll:i}=e;return i&&(Sa(r.x,i.offset.x),Sa(r.y,i.offset.y)),r}const fx=({current:t})=>t?t.ownerDocument.defaultView:null,IB=new WeakMap;class PB{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yp(h,"page").point)},s=(h,d)=>{var p;const{drag:g,dragPropagation:_,onDragStart:I}=this.getProps();if(g&&!_&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=TC(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(T=>{let y=this.getAxisMotionValue(T).get()||0;if(zr.test(y)){const{projection:E}=this.visualElement;if(E&&E.layout){const b=E.layout.layoutBox[T];b&&(y=Fn(b)*(parseFloat(y)/100))}}this.originPoint[T]=y}),I&&$e.postRender(()=>I(h,d)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=Ey(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:_,onDrag:I}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:k}=d;if(g&&this.currentDirection===null){this.currentDirection=RB(k),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",d.point,k),this.updateAxis("y",d.point,k),this.visualElement.render(),I&&I(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Wn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new sx(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:fx(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&$e.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Vh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=pB(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&wa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=mB(i.layoutBox,n):this.constraints=!1,this.elastic=_B(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=vB(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=SB(r,i.root,this.visualElement.getTransformPagePoint());let o=gB(i.layout.layoutBox,s);if(n){const a=n(wB(o));this.hasMutatedConstraints=!!a,a&&(o=ux(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Wn(h=>{if(!Vh(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(r0(e,r,0,n,this.visualElement,!1,Ey(this.visualElement,e)))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wn(n=>{const{drag:r}=this.getProps();if(!Vh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ct(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=yB({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(o=>{if(!Vh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ct(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;IB.set(this.visualElement,this);const e=this.visualElement.current,n=vi(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$e.read(r);const o=hi(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Wn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Sy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function RB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kB extends Bs{constructor(e){super(e),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new PB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const qS=t=>(e,n)=>{t&&$e.postRender(()=>t(e,n))};class AB extends Bs{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(e){this.session=new sx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:qS(e),onStart:qS(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&$e.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=vi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function CB(){const t=D.useContext(dp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=D.useId();D.useEffect(()=>r(i),[]);const s=D.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=QS(t,e.target.x),r=QS(t,e.target.y);return`${n}% ${r}%`}},xB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=bs.parse(t);if(i.length>5)return r;const s=bs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ct(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class DB extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;P6(bB),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||$e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),N_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function px(t){const[e,n]=CB(),r=D.useContext(L_);return N(DB,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(nC),isPresent:e,safeToRemove:n})}const bB={borderRadius:{...Kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kl,borderTopRightRadius:Kl,borderBottomLeftRadius:Kl,borderBottomRightRadius:Kl,boxShadow:xB},mx=["TopLeft","TopRight","BottomLeft","BottomRight"],NB=mx.length,XS=t=>typeof t=="string"?parseFloat(t):t,JS=t=>typeof t=="number"||he.test(t);function MB(t,e,n,r,i,s){i?(t.opacity=ct(0,n.opacity!==void 0?n.opacity:1,OB(r)),t.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,LB(r))):s&&(t.opacity=ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<NB;o++){const a=`border${mx[o]}Radius`;let l=ZS(e,a),c=ZS(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||JS(l)===JS(c)?(t[a]=Math.max(ct(XS(l),XS(c),r),0),(zr.test(c)||zr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,r))}function ZS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OB=gx(0,.5,qC),LB=gx(.5,.95,Kt);function gx(t,e,n){return r=>r<t?0:r>e?1:n(pc(t,e,r))}function e1(t,e){t.min=e.min,t.max=e.max}function $n(t,e){e1(t.x,e.x),e1(t.y,e.y)}function t1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function n1(t,e,n,r,i){return t-=e,t=hf(t,1/n,r),i!==void 0&&(t=hf(t,1/i,r)),t}function VB(t,e=0,n=1,r=.5,i,s=t,o=t){if(zr.test(e)&&(e=parseFloat(e),e=ct(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ct(s.min,s.max,r);t===s&&(a-=e),t.min=n1(t.min,e,n,a,i),t.max=n1(t.max,e,n,a,i)}function r1(t,e,[n,r,i],s,o){VB(t,e[n],e[r],e[i],e.scale,s,o)}const FB=["x","scaleX","originX"],UB=["y","scaleY","originY"];function i1(t,e,n,r){r1(t.x,e,FB,n?n.x:void 0,r?r.x:void 0),r1(t.y,e,UB,n?n.y:void 0,r?r.y:void 0)}function s1(t){return t.translate===0&&t.scale===1}function yx(t){return s1(t.x)&&s1(t.y)}function o1(t,e){return t.min===e.min&&t.max===e.max}function jB(t,e){return o1(t.x,e.x)&&o1(t.y,e.y)}function a1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vx(t,e){return a1(t.x,e.x)&&a1(t.y,e.y)}function l1(t){return Fn(t.x)/Fn(t.y)}function u1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class BB{constructor(){this.members=[]}add(e){mp(this.members,e),e.scheduleRender()}remove(e){if(gp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zB(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:p,skewX:g,skewY:_}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const $B=(t,e)=>t.depth-e.depth;class WB{constructor(){this.children=[],this.isDirty=!1}add(e){mp(this.children,e),this.isDirty=!0}remove(e){gp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($B),this.isDirty=!1,this.children.forEach(e)}}function HB(t,e){const n=Ts.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(xi(r),t(s-e))};return $e.read(r,!0),()=>xi(r)}function YB(t){return t instanceof SVGElement&&t.tagName!=="svg"}function GB(t,e,n){const r=un(t)?t:mc(t);return r.start(r0("",r,e,n)),r.animation}const eo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cu=typeof window<"u"&&window.MotionDebug!==void 0,Um=["","X","Y","Z"],KB={visibility:"hidden"},c1=1e3;let qB=0;function jm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function _x(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?window.MotionHasOptimisedTransformAnimation(rx(e))?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?_x(t.parent):!1:!1}function wx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=qB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cu&&(eo.totalNodes=eo.resolvedTargetDeltas=eo.recalculatedProjection=0),this.nodes.forEach(JB),this.nodes.forEach(rz),this.nodes.forEach(iz),this.nodes.forEach(ZB),cu&&window.MotionDebug.record(eo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new i0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YB(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=HB(p,250),fd.hasAnimatedSinceResize&&(fd.hasAnimatedSinceResize=!1,this.nodes.forEach(d1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||h.getDefaultTransition()||uz,{onLayoutAnimationStart:k,onLayoutAnimationComplete:T}=h.getProps(),y=!this.targetLayout||!vx(this.targetLayout,_)||g,E=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const b={...K_(I,"layout"),onPlay:k,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||d1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionHandoffCancelAll&&_x(this)&&window.MotionHandoffCancelAll(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(h1);return}this.isUpdating||this.nodes.forEach(tz),this.isUpdating=!1,this.nodes.forEach(nz),this.nodes.forEach(QB),this.nodes.forEach(XB),this.clearAllSnapshots();const a=Ts.now();$t.delta=Ds(0,1e3/60,a-$t.timestamp),$t.timestamp=a,$t.isProcessing=!0,Cm.update.process($t),Cm.preRender.process($t),Cm.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,N_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ez),this.sharedNodes.forEach(oz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!yx(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Zs(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),cz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Et();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(hz))){const{scroll:h}=this.root;h&&(Sa(l.x,h.offset.x),Sa(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=Et();if($n(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&$n(l,o),Sa(l.x,d.offset.x),Sa(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Et();$n(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ia(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Zs(h.latestValues)&&Ia(l,h.latestValues)}return Zs(this.latestValues)&&Ia(l,this.latestValues),l}removeTransform(o){const a=Et();$n(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Zs(c.latestValues))continue;Iy(c.latestValues)&&c.updateSnapshot();const h=Et(),d=c.measurePageBox();$n(h,d),i1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Zs(this.latestValues)&&i1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Du(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),hx(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Du(this.relativeTargetOrigin,this.target,g.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cu&&eo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Iy(this.parent.latestValues)||cx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;$n(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;TB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Et());const{target:_}=a;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t1(this.prevProjectionDelta.x,this.projectionDelta.x),t1(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!u1(this.projectionDelta.x,this.prevProjectionDelta.x)||!u1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),cu&&eo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ta(),this.projectionDelta=Ta(),this.projectionDeltaWithTransform=Ta()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Ta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Et(),g=l?l.source:void 0,_=this.layout?this.layout.source:void 0,I=g!==_,k=this.getStack(),T=!k||k.members.length<=1,y=!!(I&&!T&&this.options.crossfade===!0&&!this.path.some(lz));this.animationProgress=0;let E;this.mixTargetDelta=b=>{const U=b/1e3;f1(d.x,o.x,U),f1(d.y,o.y,U),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Du(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),az(this.relativeTarget,this.relativeTargetOrigin,p,U),E&&jB(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Et()),$n(E,this.relativeTarget)),I&&(this.animationValues=h,MB(h,c,this.latestValues,U,y,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{fd.hasAnimatedSinceResize=!0,this.currentAnimation=GB(0,c1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Ex(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Et();const d=Fn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Fn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}$n(a,l),Ia(a,h),xu(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BB),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&jm("z",o,c,this.animationValues);for(let h=0;h<Um.length;h++)jm(`rotate${Um[h]}`,o,c,this.animationValues),jm(`skew${Um[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return KB;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=hd(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=hd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zs(this.latestValues)&&(I.transform=h?h({},""):"none",this.hasProjected=!1),I}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=zB(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:g,y:_}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${_.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const I in of){if(p[I]===void 0)continue;const{correct:k,applyTo:T}=of[I],y=c.transform==="none"?p[I]:k(p[I],d);if(T){const E=T.length;for(let b=0;b<E;b++)c[T[b]]=y}else c[I]=y}return this.options.layoutId&&(c.pointerEvents=d===this?hd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(h1),this.root.sharedNodes.clear()}}}function QB(t){t.updateLayout()}function XB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Wn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Fn(p);p.min=r[d].min,p.max=p.min+g}):Ex(s,n.layoutBox,r)&&Wn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Fn(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Ta();xu(a,r,n.layoutBox);const l=Ta();o?xu(l,t.applyTransform(i,!0),n.measuredBox):xu(l,r,n.layoutBox);const c=!yx(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const _=Et();Du(_,n.layoutBox,p.layoutBox);const I=Et();Du(I,r,g.layoutBox),vx(_,I)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=_,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function JB(t){cu&&eo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ZB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ez(t){t.clearSnapshot()}function h1(t){t.clearMeasurements()}function tz(t){t.isLayoutDirty=!1}function nz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function d1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rz(t){t.resolveTargetDelta()}function iz(t){t.calcProjection()}function sz(t){t.resetSkewAndRotation()}function oz(t){t.removeLeadSnapshot()}function f1(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function p1(t,e,n,r){t.min=ct(e.min,n.min,r),t.max=ct(e.max,n.max,r)}function az(t,e,n,r){p1(t.x,e.x,n.x,r),p1(t.y,e.y,n.y,r)}function lz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uz={duration:.45,ease:[.4,0,.1,1]},m1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),g1=m1("applewebkit/")&&!m1("chrome/")?Math.round:Kt;function y1(t){t.min=g1(t.min),t.max=g1(t.max)}function cz(t){y1(t.x),y1(t.y)}function Ex(t,e,n){return t==="position"||t==="preserve-aspect"&&!dB(l1(e),l1(n),.2)}function hz(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const dz=wx({attachResizeListener:(t,e)=>hi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bm={current:void 0},Tx=wx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bm.current){const t=new dz({});t.mount(window),t.setOptions({layoutScroll:!0}),Bm.current=t}return Bm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fz={pan:{Feature:AB},drag:{Feature:kB,ProjectionNode:Tx,MeasureLayout:px}},Ry={current:null},Sx={current:!1};function pz(){if(Sx.current=!0,!!b_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ry.current=t.matches;t.addListener(e),e()}else Ry.current=!1}function mz(t,e,n){for(const r in e){const i=e[r],s=n[r];if(un(i))t.addValue(r,i);else if(un(s))t.addValue(r,mc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,mc(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const v1=new WeakMap,gz=[...xC,sn,bs],yz=t=>gz.find(CC(t)),_1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],vz=O_.length;class _z{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.resolveKeyframes=(p,g,_,I)=>new this.KeyframeResolver(p,g,_,I,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=q_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,$e.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=pp(n),this.isVariantNode=iC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&un(g)&&g.set(l[p],!1)}}mount(e){this.current=e,v1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Sx.current||pz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ry.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){v1.delete(this.current),this.projection&&this.projection.unmount(),xi(this.notifyUpdate),xi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=js.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&$e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in el){const n=el[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_1.length;r++){const i=_1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=mz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<vz;r++){const i=O_[r],s=this.props[i];(hc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=mc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(kC(i)||RC(i))?i=parseFloat(i):!yz(i)&&bs.test(n)&&(i=FC(e,n)),this.setBaseTarget(e,un(i)?i.get():i)),un(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Y_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!un(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new i0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Ix extends _z{constructor(){super(...arguments),this.KeyframeResolver=UC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function wz(t){return window.getComputedStyle(t)}class Ez extends Ix{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=fC}readValueFromInstance(e,n){if(js.has(n)){const r=X_(n);return r&&r.default||0}else{const r=wz(e),i=(uC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dx(e,n)}build(e,n,r){B_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return H_(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Tz extends Ix{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(js.has(n)){const r=X_(n);return r&&r.default||0}return n=pC.has(n)?n:fp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return gC(e,n,r)}build(e,n,r){$_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){mC(e,n,r,i)}mount(e){this.isSVGTag=W_(e.tagName),super.mount(e)}}const Sz=(t,e)=>V_(t)?new Tz(e):new Ez(e,{allowProjection:t!==D.Fragment}),Iz={layout:{ProjectionNode:Tx,MeasureLayout:px}},Pz={...iB,...pj,...fz,...Iz},xr=S6((t,e)=>tj(t,e,Pz,Sz));class Rz extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function kz({children:t,isPresent:e}){const n=D.useId(),r=D.useRef(null),i=D.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=D.useContext(D_);return D.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),N(Rz,{isPresent:e,childRef:r,sizeRef:i,children:D.cloneElement(t,{ref:r})})}const Az=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=G_(Cz),l=D.useId(),c=D.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random()]:[n]);return D.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),D.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=N(kz,{isPresent:n,children:t})),N(dp.Provider,{value:c,children:t})};function Cz(){return new Map}const Fh=t=>t.key||"";function w1(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const E1=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=D.useMemo(()=>w1(t),[t]),l=a.map(Fh),c=D.useRef(!0),h=D.useRef(a),d=G_(()=>new Map),[p,g]=D.useState(a),[_,I]=D.useState(a);JA(()=>{c.current=!1,h.current=a;for(let y=0;y<_.length;y++){const E=Fh(_[y]);l.includes(E)?d.delete(E):d.get(E)!==!0&&d.set(E,!1)}},[_,l.length,l.join("-")]);const k=[];if(a!==p){let y=[...a];for(let E=0;E<_.length;E++){const b=_[E],U=Fh(b);l.includes(U)||(y.splice(E,0,b),k.push(b))}o==="wait"&&k.length&&(y=k),I(w1(y)),g(a);return}const{forceRender:T}=D.useContext(L_);return N(vd,{children:_.map(y=>{const E=Fh(y),b=a===_||l.includes(E),U=()=>{if(d.has(E))d.set(E,!0);else return;let x=!0;d.forEach(R=>{R||(x=!1)}),x&&(T==null||T(),I(h.current),i&&i())};return N(Az,{isPresent:b,initial:!c.current||r?void 0:!1,custom:b?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:b?void 0:U,children:y},E)})})};function xz(){let t=Li(),e=Us(),r=new URLSearchParams(e.search).get("search"),{isDark:i}=Uo(),{getCollection:s,deleteDocument:o}=Uc(),{user:a}=D.useContext(Fo),{error:l,data:c,loading:h}=s("books",["uid","==",a.uid],{field:"title",value:r||""}),d=async(p,g)=>{p.preventDefault(),await o("books",g)};return q("div",{children:[h&&N("div",{className:"flex justify-center items-center h-10",children:q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",className:"h-full",children:[N("circle",{fill:"#084EFF",stroke:"#084EFF",strokeWidth:"15",r:"15",cx:"40",cy:"100",children:N("animate",{attributeName:"opacity",calcMode:"spline",dur:"2",values:"1;0;1;",keySplines:".5 0 .5 1;.5 0 .5 1",repeatCount:"indefinite",begin:"-.4"})}),N("circle",{fill:"#084EFF",stroke:"#084EFF",strokeWidth:"15",r:"15",cx:"100",cy:"100",children:N("animate",{attributeName:"opacity",calcMode:"spline",dur:"2",values:"1;0;1;",keySplines:".5 0 .5 1;.5 0 .5 1",repeatCount:"indefinite",begin:"-.2"})}),N("circle",{fill:"#084EFF",stroke:"#084EFF",strokeWidth:"15",r:"15",cx:"160",cy:"100",children:N("animate",{attributeName:"opacity",calcMode:"spline",dur:"2",values:"1;0;1;",keySplines:".5 0 .5 1;.5 0 .5 1",repeatCount:"indefinite",begin:"0"})})]})}),!!c&&N("div",{className:"grid grid-flow-row gap-4 grid-cols-2 md:grid-cols-4 my-3 ",children:c.map(p=>N("div",{children:q(xr.div,{whileHover:{scale:1,boxShadow:"0px 0px 8px rgb(0,0,250)"},className:`flex flex-col justify-between p-4 border border-1 h-full  shadow-lg ${i?"bg-dcard border-indigo-500 text-white":""}`,children:[q("div",{className:"text-center space-y-3 p-3 ",children:[N("img",{src:p.cover,alt:""}),N("h1",{className:"flex justify-start font-bold",children:p.title}),N("div",{className:"h-20 overflow-hidden",children:N("p",{className:"flex justify-start",children:p.description})}),N("div",{className:"  ",children:N("div",{className:"flex flex-wrap justify-start items-center flex-direction-col",children:p.categories.map(g=>N("span",{className:"mx-1 my-1  px-2 py-1 rounded-full text-white bg-blue-500",children:g},g))})})]}),q("div",{className:"flex justify-between items-center",children:[N(xr.div,{whileHover:{scale:1,boxShadow:"0px 0px 8px rgb(0,0,250)"},className:"border border-blue-500 p-1 m-1  rounded-md text-blue-500",children:N(yi,{to:`/books/${p.id}`,className:" text-xs",children:"Read more"},p.id)}),q("div",{className:"flex justify-end items-center space-x-3 ",children:[N(xr.img,{whileHover:{rotate:360},src:XA,alt:"pencil",onClick:g=>{g.preventDefault(),t(`/edit/${p.id}`)}}),N(xr.img,{whileHover:{rotate:360},src:QA,alt:"trash",onClick:g=>d(g,p.id)})]})]})]})},p.id))}),c&&!c.length&&!h&&N("p",{className:"text-center text-xl text-gray-500 font-bold",children:"There is no document"})]})}function Dz(){return N("div",{className:"bg-gradient-to-r from-green-300 via-blue-500 to-purple-600 h-48 flex justify-center items-center",children:q("div",{className:"space-y-2 text-center",children:[N("h1",{className:"text-white text-3xl drop-shadow-md",children:"Welcome from my library"}),N("p",{className:"text-gray-300 text-sm",children:"A place where you can store and manage books."})]})})}function bz(){return q(vd,{children:[N(Dz,{}),N(xz,{})]})}const Nz="/assets/light-70958589.svg",Mz="/assets/dark-cafa44ac.svg";function Oz(){const[t,e]=D.useState(null),[n,r]=D.useState(!1);return{error:t,loading:n,logout:async()=>{try{r(!0);let s=await H2(hl);return e(""),r(!1),s.user}catch(s){r(!1),e(s.message)}}}}const hu="/assets/profileIcon-48448bad.svg";function Lz({setShowProfileModal:t,profilePhoto:e,userName:n,setUserName:r,preview:i,handlePotoChange:s,handleSubmit:o,addName:a,deleteProfilePhoto:l}){Uo();let{user:c}=D.useContext(Fo),[h,d]=D.useState(!1);const[p,g]=D.useState(!1);return q("div",{className:" bg-gray-300 rounded-md  space-y-3",children:[q("div",{className:" ",children:[q("div",{className:"flex justify-between items-center p-3",children:[N("div",{children:N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})})}),N("div",{onClick:()=>t(!1),children:N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6 cursor-pointer",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]}),q("div",{className:"flex flex-col cursor-pointer justify-center items-center space-y-5 md:space-y-5",children:[!c&&N("img",{src:e,alt:"",className:" w-full rounded-full h-20 "}),!!c&&q("div",{className:"flex flex-col justify-center items-center",children:[h&&N("div",{className:"w-20 mt-1 ",children:N("img",{src:i,alt:"",className:" w-full rounded-full h-20 "})}),N("div",{onClick:()=>d(!0),className:"flex flex-col justify-center items-center w-20 mt-1",children:!h&&N("img",{src:e,alt:"",className:" w-full rounded-full h-20 "})}),h&&q("div",{className:"space-y-3 cursor-pointer",children:[N("input",{type:"file",onChange:s}),q("div",{className:"flex justify-evenly items-center",children:[N("button",{onClick:o,className:"border border-indigo-600 m-3 p-1 rounded-md",children:"Add"}),N("button",{onClick:l,className:"border border-indigo-600 m-3 p-1 rounded-md",children:"Delete"})]})]}),q("div",{children:[!!c&&N("div",{children:!p&&N("h2",{onClick:()=>g(!0),children:n})}),p&&q("div",{className:"flex items-center justify-evenly",children:[N("input",{value:n,type:"text",onChange:_=>r(_.target.value),className:"bg-transparent"}),N("svg",{onClick:a,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})]})]})]}),N("h2",{children:c?q("div",{className:"flex flex-col justify-center items-center space-y-3",children:[q("p",{children:[" ",c.email]}),N(yi,{to:"/forgotpassword",onClick:()=>t(!1),className:"active rounded-md border border-black m-2 p-1 hover:peer-open:",children:"Forgot Password"})]}):q("div",{className:"flex gap-3",children:[" ",N(yi,{to:"/login",className:"text-black border-2 border-indigo-500 rounded-md px-2 py-2 text-sm ",children:"Login"}),N(yi,{to:"/register",className:"bg-indigo-500 text-black rounded-md px-2 py-2 text-sm ",children:"Register"})]})}),N("div",{className:"flex",children:N("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",id:"github",children:N("path",{d:"M7.999 0C3.582 0 0 3.596 0 8.032a8.031 8.031 0 0 0 5.472 7.621c.4.074.546-.174.546-.387 0-.191-.007-.696-.011-1.366-2.225.485-2.695-1.077-2.695-1.077-.363-.928-.888-1.175-.888-1.175-.727-.498.054-.488.054-.488.803.057 1.225.828 1.225.828.714 1.227 1.873.873 2.329.667.072-.519.279-.873.508-1.074-1.776-.203-3.644-.892-3.644-3.969 0-.877.312-1.594.824-2.156-.083-.203-.357-1.02.078-2.125 0 0 .672-.216 2.2.823a7.633 7.633 0 0 1 2.003-.27 7.65 7.65 0 0 1 2.003.271c1.527-1.039 2.198-.823 2.198-.823.436 1.106.162 1.922.08 2.125.513.562.822 1.279.822 2.156 0 3.085-1.87 3.764-3.652 3.963.287.248.543.738.543 1.487 0 1.074-.01 1.94-.01 2.203 0 .215.144.465.55.386A8.032 8.032 0 0 0 16 8.032C16 3.596 12.418 0 7.999 0z"})})})]})]}),q("div",{className:"space-y-5 mx-3 border-t-2 border-black p-3",children:[q("div",{className:"flex  justify-between ",children:[N("span",{children:"Other profile"}),N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6 rotate-180 hover:cursor-pointer",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})})]}),q("div",{className:"flex justify-start cursor-not-allowed",children:[N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),N("span",{children:"Guest"})]}),q("div",{className:"flex cursor-not-allowed",children:[N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),N("span",{children:"Add"})]})]})]})}function Vz(){let{isDark:t,changeTheme:e}=Uo(),[n,r]=D.useState(!1),[i,s]=D.useState(!1),[o,a]=D.useState(hu),[l,c]=D.useState(null);const[h,d]=D.useState("Add Your Name"),[p,g]=D.useState(null);let[_,I]=D.useState(!1),[k,T]=D.useState(null),[y,E]=D.useState(null),[b,U]=D.useState(!0),x={visible:{opacity:1},hidden:{opacity:0}},R={visible:{opacity:1},hidden:{opacity:0}},v=Us(),S=new URLSearchParams(v.search),[P,C]=D.useState(S),O=Li(),A=ve=>{O("/home/?search="+P),C("")},{user:de}=D.useContext(Fo),{logout:xe}=Oz(),mt=async()=>{await xe(),c(null),a(null),d("Add Your Name"),g(null),O("/login")};D.useEffect(()=>{const ve=kR(hl,me=>{c(me),me&&Ie(me.uid)});return()=>ve()},[]);const Ie=async ve=>{try{const me=ci(Cr,"books",ve),Qe=await uA(me);if(Qe.exists()){const Dt=Qe.data();a(Dt.profilePhoto||null),d(Dt.userName||"Add Your Name")}}catch(me){console.error("Error fetching user profile:",me)}};let Y=ve=>{T(ve.target.files[0])},ae=ve=>{let me=new FileReader;me.readAsDataURL(ve),me.onload=()=>{E(me.result)}};D.useEffect(()=>{k&&ae(k)},[k]);let ue=async ve=>{let me=Date.now().toString()+"_"+(ve==null?void 0:ve.name);console.log("unique file name :",me);let Qe="/user_profile_image/"+de.uid+"//"+me;console.log("Path:",Qe);let Dt=bA(NA,Qe);return console.log("storage ref: ",Dt),await xA(Dt,ve),await DA(Dt)},Ae=async ve=>{if(ve.preventDefault(),k)try{let me=await ue(k);if(a(me),de){const Qe=ci(Cr,"books",de.uid);await xT(Qe,{profilePhoto:me},{merge:!0})}s(!1)}catch(me){console.error("Error updating profile photo:",me.message)}console.log("add"),U(!1)},Pe=async ve=>{if(ve.preventDefault(),a(hu),de)try{const me=ci(Cr,"books",de.uid);await hA(me,{profilePhoto:hu},{merge:!0})}catch(me){console.error("Error updating user name:",me.message)}console.log("hit")},Be=async ve=>{if(ve.preventDefault(),d(h),I(!1),de)try{const me=ci(Cr,"books",de.uid);await xT(me,{userName:h},{merge:!0})}catch(me){console.error("Error updating user name:",me.message)}};return N("nav",{className:`border-b-2 ${t?"bg-dbg border-indigo-500":"bg-white"}`,children:q("ul",{className:"flex justify-between items-center p-3 max-w-6xl mx-auto",children:[q("li",{className:"flex justify-center items-center space-x-10",children:[q(yi,{to:"/home",className:"flex items-center  gap-3 cursor-pointer",children:[N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`size-6 -mr-6 md:mr-0 ${t?"text-white":""}`,children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})}),N("button",{className:"text-2xl font-bold  hidden md:block text-indigo-600",children:"BookStore"})]}),q("div",{className:" items-center gap-3 ",children:[N("div",{children:N("button",{onClick:()=>r(!0),type:"button",className:" md:hidden mx-auto flex items-center justify-center ",children:N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`size-6 ${t?"text-white":""}`,children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})})}),N(E1,{mode:"wait",children:n&&N(xr.div,{variants:x,initial:"hidden",animate:"visible",className:"backdrop md:hidden  flex justify-center items-center justify-self-center rounded-md border-2 border-gray-200 shadow-2xl",children:q("li",{className:"flex items-center justify-between gap-3 border-lg rounded-md shadow-xl bg-gray-200 h-12 w-full p-3 m-1",children:[N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 ",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),N("input",{value:P,onChange:ve=>C(ve.target.value),type:"text",placeholder:"Search Book.....",className:"searchInput  outline-none px-2 py-1 rounded-lg "}),q("div",{className:"flex justify-center items-center space-x-3",children:[N("button",{onClick:A,className:" bg-indigo-600 rounded-2xl px-3 py-1 flex  items-center gap-1 text-sm ",children:N("span",{className:"  text-white",children:"Search"})}),N("div",{onClick:()=>r(!1),children:N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6 cursor-pointer",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]})]})})})]})]}),N("li",{className:"hidden md:block",children:q("div",{className:"flex items-center gap-3",children:[N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`size-6 ${t?"text-white":""}`,children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),N("input",{value:P,onChange:ve=>C(ve.target.value),type:"text",placeholder:"Search Book.....",className:"hidden md:block outline-none px-2 py-1 rounded-lg "}),N("button",{onClick:A,className:" md:bg-indigo-600 rounded-2xl px-3 py-1 flex  items-center gap-1 text-sm ",children:N("span",{className:"hidden md:block text-white",children:"Search"})})]})}),q("li",{className:"flex gap-3 items-center",children:[q(yi,{to:"/create",className:" md:bg-indigo-600 rounded-2xl px-3  py-2 flex items-center gap-1 text-sm  md:mr-3",children:[N("span",{className:"hidden md:block text-white",children:"Create Book"}),N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`size-6 md:text-white ${t?"text-white":""}`,children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})]}),q("div",{className:"flex items-center justify-center  gap-3",children:[N("div",{onClick:()=>s(!0),className:"w-11",children:N("img",{src:`${de?o:hu}`,alt:"img",className:"w-full text-gray-400 rounded-full h-10 cursor-pointer"})}),N(E1,{mode:"waite",children:i&&N(xr.div,{variants:R,initial:"hidden",animate:"visible",className:" backdropProfile max-w-6xl right-0 md:right-20",children:N(Lz,{setShowProfileModal:s,setProfilePhoto:a,profilePhoto:o,userName:h,setUserName:d,userNameEdit:_,preview:y,handlePotoChange:Y,handleSubmit:Ae,addName:Be,deleteProfilePhoto:Pe})})})]}),q("div",{className:"cursor-pointer",children:[t&&N(xr.img,{whileHover:{rotate:360},src:Nz,alt:"",className:"w-8",onClick:()=>e("light")}),!t&&N(xr.img,{whileHover:{rotate:30},src:Mz,alt:"",className:"w-8",onClick:()=>e("dark")})]}),N("div",{className:"space-x-3 mx-auto",children:!!de&&N(xr.div,{whileHover:{scale:1,scaleX:1.1},children:q(yi,{to:"/logout",onClick:mt,className:"flex items-center justify-center text-red-600 text-md font-extrabold rounded-lg px-2 py-2",children:[N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),N("span",{children:"Logout"})]})})})]})]})})}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}function Px(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Ay(t,e){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ay(t,e)}function s0(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ay(t,e)}function Fz(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Uz(t,e){t.classList?t.classList.add(e):Fz(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function T1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function jz(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=T1(t.className,e):t.setAttribute("class",T1(t.className&&t.className.baseVal||"",e))}const S1={disabled:!1},o0=At.createContext(null);var Rx=function(e){return e.scrollTop},du="unmounted",to="exited",Gn="entering",Dr="entered",gc="exiting",Vi=function(t){s0(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=to,s.appearStatus=Gn):l=Dr:r.unmountOnExit||r.mountOnEnter?l=du:l=to,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===du?{status:to}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Gn&&o!==Dr&&(s=Gn):(o===Gn||o===Dr)&&(s=gc)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Gn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:tu.findDOMNode(this);o&&Rx(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===to&&this.setState({status:du})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[tu.findDOMNode(this),a],c=l[0],h=l[1],d=this.getTimeouts(),p=a?d.appear:d.enter;if(!i&&!o||S1.disabled){this.safeSetState({status:Dr},function(){s.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:Gn},function(){s.props.onEntering(c,h),s.onTransitionEnd(p,function(){s.safeSetState({status:Dr},function(){s.props.onEntered(c,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:tu.findDOMNode(this);if(!s||S1.disabled){this.safeSetState({status:to},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:gc},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:to},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:tu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],h=l[1];this.props.addEndListener(c,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===du)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Px(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return At.createElement(o0.Provider,{value:null},typeof o=="function"?o(i,a):At.cloneElement(At.Children.only(o),a))},e}(At.Component);Vi.contextType=o0;Vi.propTypes={};function ea(){}Vi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ea,onEntering:ea,onEntered:ea,onExit:ea,onExiting:ea,onExited:ea};Vi.UNMOUNTED=du;Vi.EXITED=to;Vi.ENTERING=Gn;Vi.ENTERED=Dr;Vi.EXITING=gc;const Bz=Vi;var zz=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Uz(e,r)})},zm=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return jz(e,r)})},a0=function(t){s0(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),h=c[0],d=c[1];r.removeClasses(h,"exit"),r.addClass(h,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),h=c[0],d=c[1],p=d?"appear":"enter";r.addClass(h,p,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),h=c[0],d=c[1],p=d?"appear":"enter";r.removeClasses(h,p),r.addClass(h,p,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",h=c&&l?l+"-":"",d=c?""+h+a:l[a],p=c?d+"-active":l[a+"Active"],g=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:p,doneClassName:g}},r}var n=e.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&Rx(i),a&&(this.appliedClasses[s][o]=a,zz(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,c=o.done;this.appliedClasses[s]={},a&&zm(i,a),l&&zm(i,l),c&&zm(i,c)},n.render=function(){var i=this.props;i.classNames;var s=Px(i,["classNames"]);return At.createElement(Bz,ky({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(At.Component);a0.defaultProps={classNames:""};a0.propTypes={};const $z=a0;var Uh,jh;function Wz(t,e){return!(t===e||At.isValidElement(t)&&At.isValidElement(e)&&t.key!=null&&t.key===e.key)}var nl={out:"out-in",in:"in-out"},df=function(e,n,r){return function(){var i;e.props[n]&&(i=e.props)[n].apply(i,arguments),r()}},Hz=(Uh={},Uh[nl.out]=function(t){var e=t.current,n=t.changeState;return At.cloneElement(e,{in:!1,onExited:df(e,"onExited",function(){n(Gn,null)})})},Uh[nl.in]=function(t){var e=t.current,n=t.changeState,r=t.children;return[e,At.cloneElement(r,{in:!0,onEntered:df(r,"onEntered",function(){n(Gn)})})]},Uh),Yz=(jh={},jh[nl.out]=function(t){var e=t.children,n=t.changeState;return At.cloneElement(e,{in:!0,onEntered:df(e,"onEntered",function(){n(Dr,At.cloneElement(e,{in:!0}))})})},jh[nl.in]=function(t){var e=t.current,n=t.children,r=t.changeState;return[At.cloneElement(e,{in:!1,onExited:df(e,"onExited",function(){r(Dr,At.cloneElement(n,{in:!0}))})}),At.cloneElement(n,{in:!0})]},jh),l0=function(t){s0(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.state={status:Dr,current:null},r.appeared=!1,r.changeState=function(a,l){l===void 0&&(l=r.state.current),r.setState({status:a,current:l})},r}var n=e.prototype;return n.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(i,s){return i.children==null?{current:null}:s.status===Gn&&i.mode===nl.in?{status:Gn}:s.current&&Wz(s.current,i.children)?{status:gc}:{current:At.cloneElement(i.children,{in:!0})}},n.render=function(){var i=this.props,s=i.children,o=i.mode,a=this.state,l=a.status,c=a.current,h={children:s,current:c,changeState:this.changeState,status:l},d;switch(l){case Gn:d=Yz[o](h);break;case gc:d=Hz[o](h);break;case Dr:d=c}return At.createElement(o0.Provider,{value:{isMounting:!this.appeared}},d)},e}(At.Component);l0.propTypes={};l0.defaultProps={mode:nl.out};const Gz=l0;function Kz(){const t=Us();console.log(t.pathname);let{isDark:e}=Uo(),n=document.body;return D.useEffect(()=>{e?n.classList.add("bg-dbg"):n.classList.remove("bg-dbg")},[e]),q("div",{className:e?"bg-dbg":"bg-white",children:[N(Vz,{}),N(Gz,{children:N($z,{timeout:200,classNames:"fade",children:N("div",{className:"max-w-6xl mx-auto p-3",children:N(V5,{})})},t.pathname)})]})}function I1(){let{user:t}=D.useContext(Fo),[e,n]=D.useState(null),[r,i]=D.useState(null),[s,o]=D.useState(""),[a,l]=D.useState(""),[c,h]=D.useState(""),[d,p]=D.useState([]),g=Li(),{isDark:_}=Uo(),{id:I}=cp(),[k,T]=D.useState(!1),{updateDocument:y,addCollection:E}=Uc();D.useEffect(()=>{if(I){T(!0);let S=ci(Cr,"books",I);uA(S).then(P=>{if(P.exists()){let{title:C,description:O,categories:A}=P.data();o(C),l(O),p(A)}})}else T(!1),o(""),l(""),p([])},[]);let b=()=>{h(""),!(c&&d.includes(c))&&p(S=>[c,...S])},U=async S=>{let P=Date.now().toString()+"_"+(S==null?void 0:S.name);console.log("unique file name :",P);let C="/convers/"+t.uid+"//"+P;console.log("Path:",C);let O=bA(NA,C);return console.log("storage ref: ",O),await xA(O,S),await DA(O)},x=async S=>{S.preventDefault();let P=await U(e),C={title:s,description:a,categories:d,uid:t.uid,cover:P};console.log("data: ",C),k?await y("books",I,C):await E("books",C),g("/home")},R=S=>{n(S.target.files[0])},v=S=>{let P=new FileReader;P.readAsDataURL(S),P.onload=()=>{i(P.result)}};return D.useEffect(()=>{e&&v(e)},[e]),N("div",{className:"h-screen",children:q("form",{className:"w-full max-w-lg mx-auto mt-5",onSubmit:x,children:[N("div",{className:"flex flex-wrap -mx-3 mb-6",children:q("div",{className:"w-full px-3",children:[N("label",{className:`block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ${_?"text-white":""}`,htmlFor:"book-title",children:"Book title"}),N("input",{value:s,onChange:S=>o(S.target.value),className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"book-title",type:"text",placeholder:"Book title"})]})}),N("div",{className:"flex flex-wrap -mx-3 mb-6",children:q("div",{className:"w-full px-3",children:[N("label",{className:`block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ${_?"text-white":""}`,htmlFor:"book-description",children:"Book description"}),N("textarea",{value:a,onChange:S=>l(S.target.value),className:"h-20 appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"book-description",type:"text",placeholder:"Book description"})]})}),q("div",{className:"flex flex-wrap -mx-3 mb-6",children:[q("div",{className:"w-full px-3",children:[N("label",{className:`block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ${_?"text-white":""}`,htmlFor:"book-category",children:"Book categories"}),q("div",{className:"flex justify-center items-center space-x-2",children:[N("input",{value:c,onChange:S=>h(S.target.value),className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"book-category",type:"text",placeholder:"Book category"}),N(xr.button,{whileHover:{scale:1.1,textShadow:"0px 0px 8px rgb(1,100,5)",boxShadow:"0px 0px 8px rgb(10,10,10)"},type:"button",className:"bg-indigo-500 p-1 rounded-lg mb-3",onClick:b,children:N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-white",children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})})]})]}),q("div",{className:"w-full px-3",children:[N("label",{className:`block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ${_?"text-white":""}`,htmlFor:"book-title",children:"Preview File"}),N("input",{type:"file",onChange:R}),!!r&&N("img",{src:r,alt:"",className:"my-3 width={500} height={500} "})]}),N("div",{className:"flex flex-wrap",children:d.map(S=>N("span",{className:"mx-1 my-1  px-2 py-1 rounded-full text-white bg-indigo-600",children:S},S))})]}),N("button",{className:" bg-indigo-600 rounded-2xl px-3 py-2 flex items-center justify-center w-full  gap-2 text-sm ",children:q("span",{className:"  text-white",children:[k?"Update":"Create"," Book"]})})]})})}function qz(){return N("div",{children:N("h1",{children:"Search"})})}function Qz(){return N("div",{children:"404 Error (("})}function kx({type:t="create",setEditNote:e,editNote:n}){let{id:r}=cp(),[i,s]=D.useState(""),{addCollection:o,updateDocument:a}=Uc(),{isDark:l}=D.useContext(bv),c=async h=>{t==="create"?(h.preventDefault(),await o("notes",{body:i,bookUid:r}),s("")):(h.preventDefault(),n.body=i,await a("notes",n.id,n,!1),e(null))};return D.useEffect(()=>{t==="update"&&s(n.body)},[t]),q("form",{onSubmit:c,children:[N("textarea",{value:i,onChange:h=>s(h.target.value),name:"",className:`p-3 w-full shadow-lg border-3 ${l?"bg-indigo-200":"bg-gray-200"}`,cols:"30",rows:"5",id:""}),q("div",{className:"flex space-x-3",children:[N("button",{className:" bg-indigo-600 rounded-lg px-3 py-2 flex items-center gap-1 text-sm my-3",children:q("span",{className:" text-white",children:[t==="create"?"Add":"Update"," Notes"]})}),t==="update"&&N("button",{onClick:()=>e(null),type:"button",className:" border-indigo-600 border-2 rounded-lg px-3 py-2 flex items-center gap-1 text-sm my-3",children:N("span",{className:" text-indigo-500",children:"Cancel"})})]})]})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Ax;function Q(){return Ax.apply(null,arguments)}function Xz(t){Ax=t}function yr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function yo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ve(t,e))return!1;return!0}function Tn(t){return t===void 0}function Di(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Wc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Cx(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function ls(t,e){for(var n in e)Ve(e,n)&&(t[n]=e[n]);return Ve(e,"toString")&&(t.toString=e.toString),Ve(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Kr(t,e,n,r){return Jx(t,e,n,r,!0).utc()}function Jz(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function we(t){return t._pf==null&&(t._pf=Jz()),t._pf}var Cy;Array.prototype.some?Cy=Array.prototype.some:Cy=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function c0(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=we(t),n=Cy.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function wp(t){var e=Kr(NaN);return t!=null?ls(we(e),t):we(e).userInvalidated=!0,e}var P1=Q.momentProperties=[],$m=!1;function h0(t,e){var n,r,i,s=P1.length;if(Tn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Tn(e._i)||(t._i=e._i),Tn(e._f)||(t._f=e._f),Tn(e._l)||(t._l=e._l),Tn(e._strict)||(t._strict=e._strict),Tn(e._tzm)||(t._tzm=e._tzm),Tn(e._isUTC)||(t._isUTC=e._isUTC),Tn(e._offset)||(t._offset=e._offset),Tn(e._pf)||(t._pf=we(e)),Tn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=P1[n],i=e[r],Tn(i)||(t[r]=i);return t}function Hc(t){h0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),$m===!1&&($m=!0,Q.updateOffset(this),$m=!1)}function vr(t){return t instanceof Hc||t!=null&&t._isAMomentObject!=null}function xx(t){Q.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function tr(t,e){var n=!0;return ls(function(){if(Q.deprecationHandler!=null&&Q.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Ve(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}xx(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var R1={};function Dx(t,e){Q.deprecationHandler!=null&&Q.deprecationHandler(t,e),R1[t]||(xx(e),R1[t]=!0)}Q.suppressDeprecationWarnings=!1;Q.deprecationHandler=null;function qr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Zz(t){var e,n;for(n in t)Ve(t,n)&&(e=t[n],qr(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function xy(t,e){var n=ls({},t),r;for(r in e)Ve(e,r)&&(yo(t[r])&&yo(e[r])?(n[r]={},ls(n[r],t[r]),ls(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Ve(t,r)&&!Ve(e,r)&&yo(t[r])&&(n[r]=ls({},n[r]));return n}function d0(t){t!=null&&this.set(t)}var Dy;Object.keys?Dy=Object.keys:Dy=function(t){var e,n=[];for(e in t)Ve(t,e)&&n.push(e);return n};var e$={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function t$(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return qr(r)?r.call(e,n):r}function Hr(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var f0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Bh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wm={},La={};function se(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(La[t]=i),e&&(La[e[0]]=function(){return Hr(i.apply(this,arguments),e[1],e[2])}),n&&(La[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function n$(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function r$(t){var e=t.match(f0),n,r;for(n=0,r=e.length;n<r;n++)La[e[n]]?e[n]=La[e[n]]:e[n]=n$(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=qr(e[o])?e[o].call(i,t):e[o];return s}}function pd(t,e){return t.isValid()?(e=bx(e,t.localeData()),Wm[e]=Wm[e]||r$(e),Wm[e](t)):t.localeData().invalidDate()}function bx(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Bh.lastIndex=0;n>=0&&Bh.test(t);)t=t.replace(Bh,r),Bh.lastIndex=0,n-=1;return t}var i$={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function s$(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(f0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var o$="Invalid date";function a$(){return this._invalidDate}var l$="%d",u$=/\d{1,2}/;function c$(t){return this._ordinal.replace("%d",t)}var h$={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d$(t,e,n,r){var i=this._relativeTime[n];return qr(i)?i(t,e,n,r):i.replace(/%d/i,t)}function f$(t,e){var n=this._relativeTime[t>0?"future":"past"];return qr(n)?n(e):n.replace(/%s/i,e)}var k1={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function nr(t){return typeof t=="string"?k1[t]||k1[t.toLowerCase()]:void 0}function p0(t){var e={},n,r;for(r in t)Ve(t,r)&&(n=nr(r),n&&(e[n]=t[r]));return e}var p$={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function m$(t){var e=[],n;for(n in t)Ve(t,n)&&e.push({unit:n,priority:p$[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var Nx=/\d/,Bn=/\d\d/,Mx=/\d{3}/,m0=/\d{4}/,Ep=/[+-]?\d{6}/,rt=/\d\d?/,Ox=/\d\d\d\d?/,Lx=/\d\d\d\d\d\d?/,Tp=/\d{1,3}/,g0=/\d{1,4}/,Sp=/[+-]?\d{1,6}/,ml=/\d+/,Ip=/[+-]?\d+/,g$=/Z|[+-]\d\d:?\d\d/gi,Pp=/Z|[+-]\d\d(?::?\d\d)?/gi,y$=/[+-]?\d+(\.\d{1,3})?/,Yc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,gl=/^[1-9]\d?/,y0=/^([1-9]\d|\d)/,ff;ff={};function Z(t,e,n){ff[t]=qr(e)?e:function(r,i){return r&&n?n:e}}function v$(t,e){return Ve(ff,t)?ff[t](e._strict,e._locale):new RegExp(_$(t))}function _$(t){return Ei(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function Ei(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Kn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ke(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Kn(e)),n}var by={};function We(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Di(e)&&(r=function(s,o){o[e]=ke(s)}),i=t.length,n=0;n<i;n++)by[t[n]]=r}function Gc(t,e){We(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function w$(t,e,n){e!=null&&Ve(by,t)&&by[t](e,n._a,n,t)}function Rp(t){return t%4===0&&t%100!==0||t%400===0}var hn=0,di=1,br=2,Ot=3,hr=4,fi=5,co=6,E$=7,T$=8;se("Y",0,0,function(){var t=this.year();return t<=9999?Hr(t,4):"+"+t});se(0,["YY",2],0,function(){return this.year()%100});se(0,["YYYY",4],0,"year");se(0,["YYYYY",5],0,"year");se(0,["YYYYYY",6,!0],0,"year");Z("Y",Ip);Z("YY",rt,Bn);Z("YYYY",g0,m0);Z("YYYYY",Sp,Ep);Z("YYYYYY",Sp,Ep);We(["YYYYY","YYYYYY"],hn);We("YYYY",function(t,e){e[hn]=t.length===2?Q.parseTwoDigitYear(t):ke(t)});We("YY",function(t,e){e[hn]=Q.parseTwoDigitYear(t)});We("Y",function(t,e){e[hn]=parseInt(t,10)});function bu(t){return Rp(t)?366:365}Q.parseTwoDigitYear=function(t){return ke(t)+(ke(t)>68?1900:2e3)};var Vx=yl("FullYear",!0);function S$(){return Rp(this.year())}function yl(t,e){return function(n){return n!=null?(Fx(this,t,n),Q.updateOffset(this,e),this):yc(this,t)}}function yc(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Fx(t,e,n){var r,i,s,o,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=t.month(),a=t.date(),a=a===29&&o===1&&!Rp(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function I$(t){return t=nr(t),qr(this[t])?this[t]():this}function P$(t,e){if(typeof t=="object"){t=p0(t);var n=m$(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=nr(t),qr(this[t]))return this[t](e);return this}function R$(t,e){return(t%e+e)%e}var St;Array.prototype.indexOf?St=Array.prototype.indexOf:St=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function v0(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=R$(e,12);return t+=(e-n)/12,n===1?Rp(t)?29:28:31-n%7%2}se("M",["MM",2],"Mo",function(){return this.month()+1});se("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});se("MMMM",0,0,function(t){return this.localeData().months(this,t)});Z("M",rt,gl);Z("MM",rt,Bn);Z("MMM",function(t,e){return e.monthsShortRegex(t)});Z("MMMM",function(t,e){return e.monthsRegex(t)});We(["M","MM"],function(t,e){e[di]=ke(t)-1});We(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[di]=i:we(n).invalidMonth=t});var k$="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ux="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),jx=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,A$=Yc,C$=Yc;function x$(t,e){return t?yr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||jx).test(e)?"format":"standalone"][t.month()]:yr(this._months)?this._months:this._months.standalone}function D$(t,e){return t?yr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[jx.test(e)?"format":"standalone"][t.month()]:yr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function b$(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Kr([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=St.call(this._shortMonthsParse,o),i!==-1?i:null):(i=St.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=St.call(this._shortMonthsParse,o),i!==-1?i:(i=St.call(this._longMonthsParse,o),i!==-1?i:null)):(i=St.call(this._longMonthsParse,o),i!==-1?i:(i=St.call(this._shortMonthsParse,o),i!==-1?i:null))}function N$(t,e,n){var r,i,s;if(this._monthsParseExact)return b$.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Kr([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function Bx(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ke(e);else if(e=t.localeData().monthsParse(e),!Di(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,v0(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function zx(t){return t!=null?(Bx(this,t),Q.updateOffset(this,!0),this):yc(this,"Month")}function M$(){return v0(this.year(),this.month())}function O$(t){return this._monthsParseExact?(Ve(this,"_monthsRegex")||$x.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ve(this,"_monthsShortRegex")||(this._monthsShortRegex=A$),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function L$(t){return this._monthsParseExact?(Ve(this,"_monthsRegex")||$x.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ve(this,"_monthsRegex")||(this._monthsRegex=C$),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function $x(){function t(l,c){return c.length-l.length}var e=[],n=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=Kr([2e3,i]),o=Ei(this.monthsShort(s,"")),a=Ei(this.months(s,"")),e.push(o),n.push(a),r.push(a),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function V$(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function vc(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function pf(t,e,n){var r=7+e-n,i=(7+vc(t,0,r).getUTCDay()-e)%7;return-i+r-1}function Wx(t,e,n,r,i){var s=(7+n-r)%7,o=pf(t,r,i),a=1+7*(e-1)+s+o,l,c;return a<=0?(l=t-1,c=bu(l)+a):a>bu(t)?(l=t+1,c=a-bu(t)):(l=t,c=a),{year:l,dayOfYear:c}}function _c(t,e,n){var r=pf(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+Ti(o,e,n)):i>Ti(t.year(),e,n)?(s=i-Ti(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function Ti(t,e,n){var r=pf(t,e,n),i=pf(t+1,e,n);return(bu(t)-r+i)/7}se("w",["ww",2],"wo","week");se("W",["WW",2],"Wo","isoWeek");Z("w",rt,gl);Z("ww",rt,Bn);Z("W",rt,gl);Z("WW",rt,Bn);Gc(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=ke(t)});function F$(t){return _c(t,this._week.dow,this._week.doy).week}var U$={dow:0,doy:6};function j$(){return this._week.dow}function B$(){return this._week.doy}function z$(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function $$(t){var e=_c(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}se("d",0,"do","day");se("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});se("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});se("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});se("e",0,0,"weekday");se("E",0,0,"isoWeekday");Z("d",rt);Z("e",rt);Z("E",rt);Z("dd",function(t,e){return e.weekdaysMinRegex(t)});Z("ddd",function(t,e){return e.weekdaysShortRegex(t)});Z("dddd",function(t,e){return e.weekdaysRegex(t)});Gc(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:we(n).invalidWeekday=t});Gc(["d","e","E"],function(t,e,n,r){e[r]=ke(t)});function W$(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function H$(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function _0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Y$="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Hx="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),G$="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),K$=Yc,q$=Yc,Q$=Yc;function X$(t,e){var n=yr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?_0(n,this._week.dow):t?n[t.day()]:n}function J$(t){return t===!0?_0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Z$(t){return t===!0?_0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function eW(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Kr([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=St.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=St.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=St.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=St.call(this._weekdaysParse,o),i!==-1||(i=St.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=St.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=St.call(this._shortWeekdaysParse,o),i!==-1||(i=St.call(this._weekdaysParse,o),i!==-1)?i:(i=St.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=St.call(this._minWeekdaysParse,o),i!==-1||(i=St.call(this._weekdaysParse,o),i!==-1)?i:(i=St.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function tW(t,e,n){var r,i,s;if(this._weekdaysParseExact)return eW.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Kr([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function nW(t){if(!this.isValid())return t!=null?this:NaN;var e=yc(this,"Day");return t!=null?(t=W$(t,this.localeData()),this.add(t-e,"d")):e}function rW(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function iW(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=H$(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function sW(t){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||w0.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ve(this,"_weekdaysRegex")||(this._weekdaysRegex=K$),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function oW(t){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||w0.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ve(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=q$),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function aW(t){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||w0.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ve(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Q$),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function w0(){function t(h,d){return d.length-h.length}var e=[],n=[],r=[],i=[],s,o,a,l,c;for(s=0;s<7;s++)o=Kr([2e3,1]).day(s),a=Ei(this.weekdaysMin(o,"")),l=Ei(this.weekdaysShort(o,"")),c=Ei(this.weekdays(o,"")),e.push(a),n.push(l),r.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function E0(){return this.hours()%12||12}function lW(){return this.hours()||24}se("H",["HH",2],0,"hour");se("h",["hh",2],0,E0);se("k",["kk",2],0,lW);se("hmm",0,0,function(){return""+E0.apply(this)+Hr(this.minutes(),2)});se("hmmss",0,0,function(){return""+E0.apply(this)+Hr(this.minutes(),2)+Hr(this.seconds(),2)});se("Hmm",0,0,function(){return""+this.hours()+Hr(this.minutes(),2)});se("Hmmss",0,0,function(){return""+this.hours()+Hr(this.minutes(),2)+Hr(this.seconds(),2)});function Yx(t,e){se(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Yx("a",!0);Yx("A",!1);function Gx(t,e){return e._meridiemParse}Z("a",Gx);Z("A",Gx);Z("H",rt,y0);Z("h",rt,gl);Z("k",rt,gl);Z("HH",rt,Bn);Z("hh",rt,Bn);Z("kk",rt,Bn);Z("hmm",Ox);Z("hmmss",Lx);Z("Hmm",Ox);Z("Hmmss",Lx);We(["H","HH"],Ot);We(["k","kk"],function(t,e,n){var r=ke(t);e[Ot]=r===24?0:r});We(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});We(["h","hh"],function(t,e,n){e[Ot]=ke(t),we(n).bigHour=!0});We("hmm",function(t,e,n){var r=t.length-2;e[Ot]=ke(t.substr(0,r)),e[hr]=ke(t.substr(r)),we(n).bigHour=!0});We("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Ot]=ke(t.substr(0,r)),e[hr]=ke(t.substr(r,2)),e[fi]=ke(t.substr(i)),we(n).bigHour=!0});We("Hmm",function(t,e,n){var r=t.length-2;e[Ot]=ke(t.substr(0,r)),e[hr]=ke(t.substr(r))});We("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Ot]=ke(t.substr(0,r)),e[hr]=ke(t.substr(r,2)),e[fi]=ke(t.substr(i))});function uW(t){return(t+"").toLowerCase().charAt(0)==="p"}var cW=/[ap]\.?m?\.?/i,hW=yl("Hours",!0);function dW(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var Kx={calendar:e$,longDateFormat:i$,invalidDate:o$,ordinal:l$,dayOfMonthOrdinalParse:u$,relativeTime:h$,months:k$,monthsShort:Ux,week:U$,weekdays:Y$,weekdaysMin:G$,weekdaysShort:Hx,meridiemParse:cW},ot={},ql={},wc;function fW(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function A1(t){return t&&t.toLowerCase().replace("_","-")}function pW(t){for(var e=0,n,r,i,s;e<t.length;){for(s=A1(t[e]).split("-"),n=s.length,r=A1(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=kp(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&fW(s,r)>=n-1)break;n--}e++}return wc}function mW(t){return!!(t&&t.match("^[^/\\\\]*$"))}function kp(t){var e=null,n;if(ot[t]===void 0&&typeof yd<"u"&&yd&&yd.exports&&mW(t))try{e=wc._abbr,n=require,n("./locale/"+t),Ss(e)}catch{ot[t]=null}return ot[t]}function Ss(t,e){var n;return t&&(Tn(e)?n=Fi(t):n=T0(t,e),n?wc=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),wc._abbr}function T0(t,e){if(e!==null){var n,r=Kx;if(e.abbr=t,ot[t]!=null)Dx("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ot[t]._config;else if(e.parentLocale!=null)if(ot[e.parentLocale]!=null)r=ot[e.parentLocale]._config;else if(n=kp(e.parentLocale),n!=null)r=n._config;else return ql[e.parentLocale]||(ql[e.parentLocale]=[]),ql[e.parentLocale].push({name:t,config:e}),null;return ot[t]=new d0(xy(r,e)),ql[t]&&ql[t].forEach(function(i){T0(i.name,i.config)}),Ss(t),ot[t]}else return delete ot[t],null}function gW(t,e){if(e!=null){var n,r,i=Kx;ot[t]!=null&&ot[t].parentLocale!=null?ot[t].set(xy(ot[t]._config,e)):(r=kp(t),r!=null&&(i=r._config),e=xy(i,e),r==null&&(e.abbr=t),n=new d0(e),n.parentLocale=ot[t],ot[t]=n),Ss(t)}else ot[t]!=null&&(ot[t].parentLocale!=null?(ot[t]=ot[t].parentLocale,t===Ss()&&Ss(t)):ot[t]!=null&&delete ot[t]);return ot[t]}function Fi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wc;if(!yr(t)){if(e=kp(t),e)return e;t=[t]}return pW(t)}function yW(){return Dy(ot)}function S0(t){var e,n=t._a;return n&&we(t).overflow===-2&&(e=n[di]<0||n[di]>11?di:n[br]<1||n[br]>v0(n[hn],n[di])?br:n[Ot]<0||n[Ot]>24||n[Ot]===24&&(n[hr]!==0||n[fi]!==0||n[co]!==0)?Ot:n[hr]<0||n[hr]>59?hr:n[fi]<0||n[fi]>59?fi:n[co]<0||n[co]>999?co:-1,we(t)._overflowDayOfYear&&(e<hn||e>br)&&(e=br),we(t)._overflowWeeks&&e===-1&&(e=E$),we(t)._overflowWeekday&&e===-1&&(e=T$),we(t).overflow=e),t}var vW=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_W=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wW=/Z|[+-]\d\d(?::?\d\d)?/,zh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Hm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],EW=/^\/?Date\((-?\d+)/i,TW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,SW={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qx(t){var e,n,r=t._i,i=vW.exec(r)||_W.exec(r),s,o,a,l,c=zh.length,h=Hm.length;if(i){for(we(t).iso=!0,e=0,n=c;e<n;e++)if(zh[e][1].exec(i[1])){o=zh[e][0],s=zh[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=h;e<n;e++)if(Hm[e][1].exec(i[3])){a=(i[2]||" ")+Hm[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(wW.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),P0(t)}else t._isValid=!1}function IW(t,e,n,r,i,s){var o=[PW(t),Ux.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function PW(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function RW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kW(t,e,n){if(t){var r=Hx.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return we(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function AW(t,e,n){if(t)return SW[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function Qx(t){var e=TW.exec(RW(t._i)),n;if(e){if(n=IW(e[4],e[3],e[2],e[5],e[6],e[7]),!kW(e[1],n,t))return;t._a=n,t._tzm=AW(e[8],e[9],e[10]),t._d=vc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),we(t).rfc2822=!0}else t._isValid=!1}function CW(t){var e=EW.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(qx(t),t._isValid===!1)delete t._isValid;else return;if(Qx(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Q.createFromInputFallback(t)}Q.createFromInputFallback=tr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function sa(t,e,n){return t??e??n}function xW(t){var e=new Date(Q.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function I0(t){var e,n,r=[],i,s,o;if(!t._d){for(i=xW(t),t._w&&t._a[br]==null&&t._a[di]==null&&DW(t),t._dayOfYear!=null&&(o=sa(t._a[hn],i[hn]),(t._dayOfYear>bu(o)||t._dayOfYear===0)&&(we(t)._overflowDayOfYear=!0),n=vc(o,0,t._dayOfYear),t._a[di]=n.getUTCMonth(),t._a[br]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ot]===24&&t._a[hr]===0&&t._a[fi]===0&&t._a[co]===0&&(t._nextDay=!0,t._a[Ot]=0),t._d=(t._useUTC?vc:V$).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ot]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(we(t).weekdayMismatch=!0)}}function DW(t){var e,n,r,i,s,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=sa(e.GG,t._a[hn],_c(nt(),1,4).year),r=sa(e.W,1),i=sa(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,c=_c(nt(),s,o),n=sa(e.gg,t._a[hn],c.year),r=sa(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Ti(n,s,o)?we(t)._overflowWeeks=!0:l!=null?we(t)._overflowWeekday=!0:(a=Wx(n,r,i,s,o),t._a[hn]=a.year,t._dayOfYear=a.dayOfYear)}Q.ISO_8601=function(){};Q.RFC_2822=function(){};function P0(t){if(t._f===Q.ISO_8601){qx(t);return}if(t._f===Q.RFC_2822){Qx(t);return}t._a=[],we(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,c,h;for(i=bx(t._f,t._locale).match(f0)||[],h=i.length,n=0;n<h;n++)s=i[n],r=(e.match(v$(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&we(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),La[s]?(r?we(t).empty=!1:we(t).unusedTokens.push(s),w$(s,r,t)):t._strict&&!r&&we(t).unusedTokens.push(s);we(t).charsLeftOver=a-l,e.length>0&&we(t).unusedInput.push(e),t._a[Ot]<=12&&we(t).bigHour===!0&&t._a[Ot]>0&&(we(t).bigHour=void 0),we(t).parsedDateParts=t._a.slice(0),we(t).meridiem=t._meridiem,t._a[Ot]=bW(t._locale,t._a[Ot],t._meridiem),c=we(t).era,c!==null&&(t._a[hn]=t._locale.erasConvertYear(c,t._a[hn])),I0(t),S0(t)}function bW(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function NW(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){we(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=h0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],P0(e),c0(e)&&(o=!0),s+=we(e).charsLeftOver,s+=we(e).unusedTokens.length*10,we(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));ls(t,n||e)}function MW(t){if(!t._d){var e=p0(t._i),n=e.day===void 0?e.date:e.day;t._a=Cx([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),I0(t)}}function OW(t){var e=new Hc(S0(Xx(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Xx(t){var e=t._i,n=t._f;return t._locale=t._locale||Fi(t._l),e===null||n===void 0&&e===""?wp({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),vr(e)?new Hc(S0(e)):(Wc(e)?t._d=e:yr(n)?NW(t):n?P0(t):LW(t),c0(t)||(t._d=null),t))}function LW(t){var e=t._i;Tn(e)?t._d=new Date(Q.now()):Wc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?CW(t):yr(e)?(t._a=Cx(e.slice(0),function(n){return parseInt(n,10)}),I0(t)):yo(e)?MW(t):Di(e)?t._d=new Date(e):Q.createFromInputFallback(t)}function Jx(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(yo(t)&&u0(t)||yr(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,OW(s)}function nt(t,e,n,r){return Jx(t,e,n,r,!1)}var VW=tr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=nt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:wp()}),FW=tr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=nt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:wp()});function Zx(t,e){var n,r;if(e.length===1&&yr(e[0])&&(e=e[0]),!e.length)return nt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function UW(){var t=[].slice.call(arguments,0);return Zx("isBefore",t)}function jW(){var t=[].slice.call(arguments,0);return Zx("isAfter",t)}var BW=function(){return Date.now?Date.now():+new Date},Ql=["year","quarter","month","week","day","hour","minute","second","millisecond"];function zW(t){var e,n=!1,r,i=Ql.length;for(e in t)if(Ve(t,e)&&!(St.call(Ql,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Ql[r]]){if(n)return!1;parseFloat(t[Ql[r]])!==ke(t[Ql[r]])&&(n=!0)}return!0}function $W(){return this._isValid}function WW(){return _r(NaN)}function Ap(t){var e=p0(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=zW(e),this._milliseconds=+h+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Fi(),this._bubble()}function md(t){return t instanceof Ap}function Ny(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function HW(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&ke(t[o])!==ke(e[o]))&&s++;return s+i}function eD(t,e){se(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Hr(~~(n/60),2)+e+Hr(~~n%60,2)})}eD("Z",":");eD("ZZ","");Z("Z",Pp);Z("ZZ",Pp);We(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=R0(Pp,t)});var YW=/([\+\-]|\d\d)/gi;function R0(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(YW)||["-",0,0],s=+(i[1]*60)+ke(i[2]),s===0?0:i[0]==="+"?s:-s)}function k0(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(vr(t)||Wc(t)?t.valueOf():nt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Q.updateOffset(n,!1),n):nt(t).local()}function My(t){return-Math.round(t._d.getTimezoneOffset())}Q.updateOffset=function(){};function GW(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=R0(Pp,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=My(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?rD(this,_r(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Q.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:My(this)}function KW(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function qW(t){return this.utcOffset(0,t)}function QW(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(My(this),"m")),this}function XW(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=R0(g$,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function JW(t){return this.isValid()?(t=t?nt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function ZW(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function e7(){if(!Tn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return h0(t,this),t=Xx(t),t._a?(e=t._isUTC?Kr(t._a):nt(t._a),this._isDSTShifted=this.isValid()&&HW(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function t7(){return this.isValid()?!this._isUTC:!1}function n7(){return this.isValid()?this._isUTC:!1}function tD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var r7=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,i7=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _r(t,e){var n=t,r=null,i,s,o;return md(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Di(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=r7.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:ke(r[br])*i,h:ke(r[Ot])*i,m:ke(r[hr])*i,s:ke(r[fi])*i,ms:ke(Ny(r[co]*1e3))*i}):(r=i7.exec(t))?(i=r[1]==="-"?-1:1,n={y:qs(r[2],i),M:qs(r[3],i),w:qs(r[4],i),d:qs(r[5],i),h:qs(r[6],i),m:qs(r[7],i),s:qs(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=s7(nt(n.from),nt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Ap(n),md(t)&&Ve(t,"_locale")&&(s._locale=t._locale),md(t)&&Ve(t,"_isValid")&&(s._isValid=t._isValid),s}_r.fn=Ap.prototype;_r.invalid=WW;function qs(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function C1(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function s7(t,e){var n;return t.isValid()&&e.isValid()?(e=k0(e,t),t.isBefore(e)?n=C1(t,e):(n=C1(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function nD(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(Dx(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=_r(n,r),rD(this,i,t),this}}function rD(t,e,n,r){var i=e._milliseconds,s=Ny(e._days),o=Ny(e._months);t.isValid()&&(r=r??!0,o&&Bx(t,yc(t,"Month")+o*n),s&&Fx(t,"Date",yc(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&Q.updateOffset(t,s||o))}var o7=nD(1,"add"),a7=nD(-1,"subtract");function iD(t){return typeof t=="string"||t instanceof String}function l7(t){return vr(t)||Wc(t)||iD(t)||Di(t)||c7(t)||u7(t)||t===null||t===void 0}function u7(t){var e=yo(t)&&!u0(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Ve(t,s);return e&&n}function c7(t){var e=yr(t),n=!1;return e&&(n=t.filter(function(r){return!Di(r)&&iD(t)}).length===0),e&&n}function h7(t){var e=yo(t)&&!u0(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Ve(t,s);return e&&n}function d7(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function f7(t,e){arguments.length===1&&(arguments[0]?l7(arguments[0])?(t=arguments[0],e=void 0):h7(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||nt(),r=k0(n,this).startOf("day"),i=Q.calendarFormat(this,r)||"sameElse",s=e&&(qr(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,nt(n)))}function p7(){return new Hc(this)}function m7(t,e){var n=vr(t)?t:nt(t);return this.isValid()&&n.isValid()?(e=nr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function g7(t,e){var n=vr(t)?t:nt(t);return this.isValid()&&n.isValid()?(e=nr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function y7(t,e,n,r){var i=vr(t)?t:nt(t),s=vr(e)?e:nt(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function v7(t,e){var n=vr(t)?t:nt(t),r;return this.isValid()&&n.isValid()?(e=nr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function _7(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function w7(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function E7(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=k0(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=nr(e),e){case"year":s=gd(this,r)/12;break;case"month":s=gd(this,r);break;case"quarter":s=gd(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Kn(s)}function gd(t,e){if(t.date()<e.date())return-gd(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}Q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Q.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function T7(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function S7(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?pd(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):qr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",pd(n,"Z")):pd(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function I7(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function P7(t){t||(t=this.isUtc()?Q.defaultFormatUtc:Q.defaultFormat);var e=pd(this,t);return this.localeData().postformat(e)}function R7(t,e){return this.isValid()&&(vr(t)&&t.isValid()||nt(t).isValid())?_r({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function k7(t){return this.from(nt(),t)}function A7(t,e){return this.isValid()&&(vr(t)&&t.isValid()||nt(t).isValid())?_r({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function C7(t){return this.to(nt(),t)}function sD(t){var e;return t===void 0?this._locale._abbr:(e=Fi(t),e!=null&&(this._locale=e),this)}var oD=tr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function aD(){return this._locale}var mf=1e3,Va=60*mf,gf=60*Va,lD=(365*400+97)*24*gf;function Fa(t,e){return(t%e+e)%e}function uD(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-lD:new Date(t,e,n).valueOf()}function cD(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-lD:Date.UTC(t,e,n)}function x7(t){var e,n;if(t=nr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?cD:uD,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Fa(e+(this._isUTC?0:this.utcOffset()*Va),gf);break;case"minute":e=this._d.valueOf(),e-=Fa(e,Va);break;case"second":e=this._d.valueOf(),e-=Fa(e,mf);break}return this._d.setTime(e),Q.updateOffset(this,!0),this}function D7(t){var e,n;if(t=nr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?cD:uD,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=gf-Fa(e+(this._isUTC?0:this.utcOffset()*Va),gf)-1;break;case"minute":e=this._d.valueOf(),e+=Va-Fa(e,Va)-1;break;case"second":e=this._d.valueOf(),e+=mf-Fa(e,mf)-1;break}return this._d.setTime(e),Q.updateOffset(this,!0),this}function b7(){return this._d.valueOf()-(this._offset||0)*6e4}function N7(){return Math.floor(this.valueOf()/1e3)}function M7(){return new Date(this.valueOf())}function O7(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function L7(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function V7(){return this.isValid()?this.toISOString():null}function F7(){return c0(this)}function U7(){return ls({},we(this))}function j7(){return we(this).overflow}function B7(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}se("N",0,0,"eraAbbr");se("NN",0,0,"eraAbbr");se("NNN",0,0,"eraAbbr");se("NNNN",0,0,"eraName");se("NNNNN",0,0,"eraNarrow");se("y",["y",1],"yo","eraYear");se("y",["yy",2],0,"eraYear");se("y",["yyy",3],0,"eraYear");se("y",["yyyy",4],0,"eraYear");Z("N",A0);Z("NN",A0);Z("NNN",A0);Z("NNNN",J7);Z("NNNNN",Z7);We(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?we(n).era=i:we(n).invalidEra=t});Z("y",ml);Z("yy",ml);Z("yyy",ml);Z("yyyy",ml);Z("yo",eH);We(["y","yy","yyy","yyyy"],hn);We(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[hn]=n._locale.eraYearOrdinalParse(t,i):e[hn]=parseInt(t,10)});function z7(t,e){var n,r,i,s=this._eras||Fi("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=Q(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=Q(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function $7(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function W7(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Q(t.since).year():Q(t.since).year()+(e-t.offset)*n}function H7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function Y7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function G7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function K7(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-Q(i[t].since).year())*n+i[t].offset;return this.year()}function q7(t){return Ve(this,"_erasNameRegex")||C0.call(this),t?this._erasNameRegex:this._erasRegex}function Q7(t){return Ve(this,"_erasAbbrRegex")||C0.call(this),t?this._erasAbbrRegex:this._erasRegex}function X7(t){return Ve(this,"_erasNarrowRegex")||C0.call(this),t?this._erasNarrowRegex:this._erasRegex}function A0(t,e){return e.erasAbbrRegex(t)}function J7(t,e){return e.erasNameRegex(t)}function Z7(t,e){return e.erasNarrowRegex(t)}function eH(t,e){return e._eraYearOrdinalRegex||ml}function C0(){var t=[],e=[],n=[],r=[],i,s,o,a,l,c=this.eras();for(i=0,s=c.length;i<s;++i)o=Ei(c[i].name),a=Ei(c[i].abbr),l=Ei(c[i].narrow),e.push(o),t.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}se(0,["gg",2],0,function(){return this.weekYear()%100});se(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Cp(t,e){se(0,[t,t.length],0,e)}Cp("gggg","weekYear");Cp("ggggg","weekYear");Cp("GGGG","isoWeekYear");Cp("GGGGG","isoWeekYear");Z("G",Ip);Z("g",Ip);Z("GG",rt,Bn);Z("gg",rt,Bn);Z("GGGG",g0,m0);Z("gggg",g0,m0);Z("GGGGG",Sp,Ep);Z("ggggg",Sp,Ep);Gc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=ke(t)});Gc(["gg","GG"],function(t,e,n,r){e[r]=Q.parseTwoDigitYear(t)});function tH(t){return hD.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function nH(t){return hD.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function rH(){return Ti(this.year(),1,4)}function iH(){return Ti(this.isoWeekYear(),1,4)}function sH(){var t=this.localeData()._week;return Ti(this.year(),t.dow,t.doy)}function oH(){var t=this.localeData()._week;return Ti(this.weekYear(),t.dow,t.doy)}function hD(t,e,n,r,i){var s;return t==null?_c(this,r,i).year:(s=Ti(t,r,i),e>s&&(e=s),aH.call(this,t,e,n,r,i))}function aH(t,e,n,r,i){var s=Wx(t,e,n,r,i),o=vc(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}se("Q",0,"Qo","quarter");Z("Q",Nx);We("Q",function(t,e){e[di]=(ke(t)-1)*3});function lH(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}se("D",["DD",2],"Do","date");Z("D",rt,gl);Z("DD",rt,Bn);Z("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});We(["D","DD"],br);We("Do",function(t,e){e[br]=ke(t.match(rt)[0])});var dD=yl("Date",!0);se("DDD",["DDDD",3],"DDDo","dayOfYear");Z("DDD",Tp);Z("DDDD",Mx);We(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ke(t)});function uH(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}se("m",["mm",2],0,"minute");Z("m",rt,y0);Z("mm",rt,Bn);We(["m","mm"],hr);var cH=yl("Minutes",!1);se("s",["ss",2],0,"second");Z("s",rt,y0);Z("ss",rt,Bn);We(["s","ss"],fi);var hH=yl("Seconds",!1);se("S",0,0,function(){return~~(this.millisecond()/100)});se(0,["SS",2],0,function(){return~~(this.millisecond()/10)});se(0,["SSS",3],0,"millisecond");se(0,["SSSS",4],0,function(){return this.millisecond()*10});se(0,["SSSSS",5],0,function(){return this.millisecond()*100});se(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});se(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});se(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});se(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Z("S",Tp,Nx);Z("SS",Tp,Bn);Z("SSS",Tp,Mx);var us,fD;for(us="SSSS";us.length<=9;us+="S")Z(us,ml);function dH(t,e){e[co]=ke(("0."+t)*1e3)}for(us="S";us.length<=9;us+="S")We(us,dH);fD=yl("Milliseconds",!1);se("z",0,0,"zoneAbbr");se("zz",0,0,"zoneName");function fH(){return this._isUTC?"UTC":""}function pH(){return this._isUTC?"Coordinated Universal Time":""}var H=Hc.prototype;H.add=o7;H.calendar=f7;H.clone=p7;H.diff=E7;H.endOf=D7;H.format=P7;H.from=R7;H.fromNow=k7;H.to=A7;H.toNow=C7;H.get=I$;H.invalidAt=j7;H.isAfter=m7;H.isBefore=g7;H.isBetween=y7;H.isSame=v7;H.isSameOrAfter=_7;H.isSameOrBefore=w7;H.isValid=F7;H.lang=oD;H.locale=sD;H.localeData=aD;H.max=FW;H.min=VW;H.parsingFlags=U7;H.set=P$;H.startOf=x7;H.subtract=a7;H.toArray=O7;H.toObject=L7;H.toDate=M7;H.toISOString=S7;H.inspect=I7;typeof Symbol<"u"&&Symbol.for!=null&&(H[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});H.toJSON=V7;H.toString=T7;H.unix=N7;H.valueOf=b7;H.creationData=B7;H.eraName=H7;H.eraNarrow=Y7;H.eraAbbr=G7;H.eraYear=K7;H.year=Vx;H.isLeapYear=S$;H.weekYear=tH;H.isoWeekYear=nH;H.quarter=H.quarters=lH;H.month=zx;H.daysInMonth=M$;H.week=H.weeks=z$;H.isoWeek=H.isoWeeks=$$;H.weeksInYear=sH;H.weeksInWeekYear=oH;H.isoWeeksInYear=rH;H.isoWeeksInISOWeekYear=iH;H.date=dD;H.day=H.days=nW;H.weekday=rW;H.isoWeekday=iW;H.dayOfYear=uH;H.hour=H.hours=hW;H.minute=H.minutes=cH;H.second=H.seconds=hH;H.millisecond=H.milliseconds=fD;H.utcOffset=GW;H.utc=qW;H.local=QW;H.parseZone=XW;H.hasAlignedHourOffset=JW;H.isDST=ZW;H.isLocal=t7;H.isUtcOffset=n7;H.isUtc=tD;H.isUTC=tD;H.zoneAbbr=fH;H.zoneName=pH;H.dates=tr("dates accessor is deprecated. Use date instead.",dD);H.months=tr("months accessor is deprecated. Use month instead",zx);H.years=tr("years accessor is deprecated. Use year instead",Vx);H.zone=tr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",KW);H.isDSTShifted=tr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",e7);function mH(t){return nt(t*1e3)}function gH(){return nt.apply(null,arguments).parseZone()}function pD(t){return t}var Fe=d0.prototype;Fe.calendar=t$;Fe.longDateFormat=s$;Fe.invalidDate=a$;Fe.ordinal=c$;Fe.preparse=pD;Fe.postformat=pD;Fe.relativeTime=d$;Fe.pastFuture=f$;Fe.set=Zz;Fe.eras=z7;Fe.erasParse=$7;Fe.erasConvertYear=W7;Fe.erasAbbrRegex=Q7;Fe.erasNameRegex=q7;Fe.erasNarrowRegex=X7;Fe.months=x$;Fe.monthsShort=D$;Fe.monthsParse=N$;Fe.monthsRegex=L$;Fe.monthsShortRegex=O$;Fe.week=F$;Fe.firstDayOfYear=B$;Fe.firstDayOfWeek=j$;Fe.weekdays=X$;Fe.weekdaysMin=Z$;Fe.weekdaysShort=J$;Fe.weekdaysParse=tW;Fe.weekdaysRegex=sW;Fe.weekdaysShortRegex=oW;Fe.weekdaysMinRegex=aW;Fe.isPM=uW;Fe.meridiem=dW;function yf(t,e,n,r){var i=Fi(),s=Kr().set(r,e);return i[n](s,t)}function mD(t,e,n){if(Di(t)&&(e=t,t=void 0),t=t||"",e!=null)return yf(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=yf(t,r,n,"month");return i}function x0(t,e,n,r){typeof t=="boolean"?(Di(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Di(e)&&(n=e,e=void 0),e=e||"");var i=Fi(),s=t?i._week.dow:0,o,a=[];if(n!=null)return yf(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=yf(e,(o+s)%7,r,"day");return a}function yH(t,e){return mD(t,e,"months")}function vH(t,e){return mD(t,e,"monthsShort")}function _H(t,e,n){return x0(t,e,n,"weekdays")}function wH(t,e,n){return x0(t,e,n,"weekdaysShort")}function EH(t,e,n){return x0(t,e,n,"weekdaysMin")}Ss("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ke(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Q.lang=tr("moment.lang is deprecated. Use moment.locale instead.",Ss);Q.langData=tr("moment.langData is deprecated. Use moment.localeData instead.",Fi);var ti=Math.abs;function TH(){var t=this._data;return this._milliseconds=ti(this._milliseconds),this._days=ti(this._days),this._months=ti(this._months),t.milliseconds=ti(t.milliseconds),t.seconds=ti(t.seconds),t.minutes=ti(t.minutes),t.hours=ti(t.hours),t.months=ti(t.months),t.years=ti(t.years),this}function gD(t,e,n,r){var i=_r(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function SH(t,e){return gD(this,t,e,1)}function IH(t,e){return gD(this,t,e,-1)}function x1(t){return t<0?Math.floor(t):Math.ceil(t)}function PH(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=x1(Oy(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Kn(t/1e3),r.seconds=i%60,s=Kn(i/60),r.minutes=s%60,o=Kn(s/60),r.hours=o%24,e+=Kn(o/24),l=Kn(yD(e)),n+=l,e-=x1(Oy(l)),a=Kn(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function yD(t){return t*4800/146097}function Oy(t){return t*146097/4800}function RH(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=nr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+yD(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Oy(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Ui(t){return function(){return this.as(t)}}var vD=Ui("ms"),kH=Ui("s"),AH=Ui("m"),CH=Ui("h"),xH=Ui("d"),DH=Ui("w"),bH=Ui("M"),NH=Ui("Q"),MH=Ui("y"),OH=vD;function LH(){return _r(this)}function VH(t){return t=nr(t),this.isValid()?this[t+"s"]():NaN}function jo(t){return function(){return this.isValid()?this._data[t]:NaN}}var FH=jo("milliseconds"),UH=jo("seconds"),jH=jo("minutes"),BH=jo("hours"),zH=jo("days"),$H=jo("months"),WH=jo("years");function HH(){return Kn(this.days()/7)}var ri=Math.round,Pa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function YH(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function GH(t,e,n,r){var i=_r(t).abs(),s=ri(i.as("s")),o=ri(i.as("m")),a=ri(i.as("h")),l=ri(i.as("d")),c=ri(i.as("M")),h=ri(i.as("w")),d=ri(i.as("y")),p=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(p=p||h<=1&&["w"]||h<n.w&&["ww",h]),p=p||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d],p[2]=e,p[3]=+t>0,p[4]=r,YH.apply(null,p)}function KH(t){return t===void 0?ri:typeof t=="function"?(ri=t,!0):!1}function qH(t,e){return Pa[t]===void 0?!1:e===void 0?Pa[t]:(Pa[t]=e,t==="s"&&(Pa.ss=e-1),!0)}function QH(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Pa,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Pa,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=GH(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var Ym=Math.abs;function ta(t){return(t>0)-(t<0)||+t}function xp(){if(!this.isValid())return this.localeData().invalidDate();var t=Ym(this._milliseconds)/1e3,e=Ym(this._days),n=Ym(this._months),r,i,s,o,a=this.asSeconds(),l,c,h,d;return a?(r=Kn(t/60),i=Kn(r/60),t%=60,r%=60,s=Kn(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=ta(this._months)!==ta(a)?"-":"",h=ta(this._days)!==ta(a)?"-":"",d=ta(this._milliseconds)!==ta(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(n?c+n+"M":"")+(e?h+e+"D":"")+(i||r||t?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(t?d+o+"S":"")):"P0D"}var be=Ap.prototype;be.isValid=$W;be.abs=TH;be.add=SH;be.subtract=IH;be.as=RH;be.asMilliseconds=vD;be.asSeconds=kH;be.asMinutes=AH;be.asHours=CH;be.asDays=xH;be.asWeeks=DH;be.asMonths=bH;be.asQuarters=NH;be.asYears=MH;be.valueOf=OH;be._bubble=PH;be.clone=LH;be.get=VH;be.milliseconds=FH;be.seconds=UH;be.minutes=jH;be.hours=BH;be.days=zH;be.weeks=HH;be.months=$H;be.years=WH;be.humanize=QH;be.toISOString=xp;be.toString=xp;be.toJSON=xp;be.locale=sD;be.localeData=aD;be.toIsoString=tr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xp);be.lang=oD;se("X",0,0,"unix");se("x",0,0,"valueOf");Z("x",Ip);Z("X",y$);We("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});We("x",function(t,e,n){n._d=new Date(ke(t))});//! moment.js
Q.version="2.30.1";Xz(nt);Q.fn=H;Q.min=UW;Q.max=jW;Q.now=BW;Q.utc=Kr;Q.unix=mH;Q.months=yH;Q.isDate=Wc;Q.locale=Ss;Q.invalid=wp;Q.duration=_r;Q.isMoment=vr;Q.weekdays=_H;Q.parseZone=gH;Q.localeData=Fi;Q.isDuration=md;Q.monthsShort=vH;Q.weekdaysMin=EH;Q.defineLocale=T0;Q.updateLocale=gW;Q.locales=yW;Q.weekdaysShort=wH;Q.normalizeUnits=nr;Q.relativeTimeRounding=KH;Q.relativeTimeThreshold=qH;Q.calendarFormat=d7;Q.prototype=H;Q.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function XH(){let{id:t}=cp(),[e,n]=D.useState(null),{getCollection:r,deleteDocument:i}=Uc(),{user:s}=D.useContext(Fo),{error:o,data:a,loading:l}=r("notes",["bookUid","==",t]),c=async h=>{await i("notes",h)};return!!a.length&&a.map(h=>{var d;return q("div",{className:"border-3 shadow-md p-3 my-3",children:[q("div",{className:"flex justify-between   space-x-3",children:[q("div",{children:[N("img",{src:hu,alt:"",className:"w-12 h-12 rounded-full"}),q("div",{children:[N("h3",{children:s.email}),N("div",{className:"text-gray-400",children:Q(((d=h==null?void 0:h.date)==null?void 0:d.seconds)*1e3).fromNow()})]})]}),q("div",{className:"space-y-5 my-auto cursor-pointer",children:[N("div",{onClick:()=>n(h),children:N("img",{src:XA,alt:""})}),N("div",{onClick:()=>c(h.id),className:"cursor-pointer",children:N("img",{src:QA,alt:""})})]})]}),q("div",{className:"mt-3",children:[(e==null?void 0:e.id)!==h.id&&h.body,(e==null?void 0:e.id)===h.id&&N(kx,{type:"update",setEditNote:n,editNote:e})]})]},h.id)})}function JH(){let{id:t}=cp();Li();let{isDark:e}=Uo(),{getDocument:n}=Uc(),{error:r,data:i,loading:s}=n("books",t);return q(vd,{children:[r&&N("p",{children:r}),s&&N("p",{children:"Loading now......"}),i&&q(vd,{children:[q("div",{className:`grid md:grid-cols-2 grid-rows-1 ${e?"text-white":""}`,children:[N("div",{children:N("img",{src:i.cover,alt:"",className:"w-[80%] mx-auto"})}),q("div",{className:" row-span-2 space-y-4",children:[N("h1",{className:"text-3xl font-bold ",children:i.title}),N("div",{className:"space-x-3 ",children:i.categories.map(o=>N("span",{className:"bg-blue-500 rounded-full text-white text-sm py-1 px-2 ",children:o},o))}),N("p",{children:i.description})]})]}),q("div",{children:[N("h3",{className:"text-indigo-500 text-center text-2xl font-bold my-3",children:"My notes"}),N(kx,{}),N(XH,{})]})]})]})}function ZH(){let[t,e]=D.useState(null),[n,r]=D.useState(!1);return{error:t,loading:n,singUP:async(s,o)=>{try{r(!0);let a=await B2(hl,s,o);return e(!1),r(!1),a.user}catch(a){r(!1),e(a.message)}}}}function e8(){let[t,e]=D.useState(""),[n,r]=D.useState(""),{error:i,loading:s,singUP:o}=ZH(),a=Li();return q("div",{className:"w-full max-w-lg mx-auto mt-16",children:[q("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:async c=>{c.preventDefault(),await o(t,n)&&a("/home")},children:[N("h1",{className:"text-2xl font-bold text-indigo-500 my-5 ",children:"Register Form"}),q("div",{className:"mb-4",children:[N("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"email"}),N("input",{value:t,onChange:c=>e(c.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"text",placeholder:"email"})]}),q("div",{className:"mb-6",children:[N("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),N("input",{value:n,onChange:c=>r(c.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"}),i&&N("p",{className:"text-red-500 text-xs italic",children:i})]}),q("div",{className:"flex items-center justify-between",children:[q("button",{className:"flex items-center bg-indigo-500  hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:[s&&q("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[N("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),N("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Register"]}),N(yi,{to:"/forgotpassword",children:"Forgot password"})]})]}),N("p",{className:"text-center text-gray-500 text-xs",children:"2024 Book Store. All rights reserved."})]})}function t8(){let[t,e]=D.useState(null),[n,r]=D.useState(!1);return{error:t,loading:n,signIn:async(s,o)=>{try{r(!0);let a=await z2(hl,s,o);return e(!1),r(!1),a.user}catch(a){r(!1),e(a.message)}}}}function n8(){let[t,e]=D.useState(null),[n,r]=D.useState(!1);return{error:t,loading:n,ResetPassword:async(s,o)=>{try{r(!0);let a=await j2(s,o);r(!1)}catch(a){r(!1),e(a.message)}}}}function r8(){let[t,e]=D.useState(""),[n,r]=D.useState(""),{error:i,loading:s,signIn:o}=t8(),a=Li(),{isDark:l,changeTheme:c}=Uo();return q("div",{className:"w-full max-w-lg mx-auto mt-16",children:[q("form",{className:`${l?"bg-indigo-400":"bg-white"} shadow-md rounded px-8 pt-6 pb-8 mb-4`,onSubmit:async d=>{d.preventDefault(),await o(t,n)&&a("/home")},children:[N("h1",{className:"text-2xl font-bold text-indigo-500 my-5 ",children:"Login Form"}),q("div",{className:"mb-4",children:[N("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"email"}),N("input",{value:t,onChange:d=>e(d.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"text",placeholder:"email"})]}),q("div",{className:"mb-6",children:[N("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),N("input",{value:n,onChange:d=>r(d.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"}),i&&N("p",{className:"text-red-500 text-xs italic",children:i})]}),q("div",{className:"flex items-center justify-between",children:[q("button",{className:"flex items-center bg-indigo-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:[s&&q("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[N("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),N("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Login"]}),N(yi,{to:"/forgotpassword",children:"Forgot password"})]})]}),N("p",{className:"text-center text-gray-500 text-xs",children:"2024 Book Store. All rights reserved."})]})}function i8(){let[t,e]=D.useState(""),{error:n,loading:r,ResetPassword:i}=n8(),s=Li();return q("div",{className:"w-full max-w-lg mx-auto mt-16",children:[q("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:async a=>{a.preventDefault(),await i(hl,t),s("/login"),alert("Check your Email")},children:[N("h1",{className:"text-2xl font-bold text-indigo-500 my-5 ",children:"Forgot Password Form"}),q("div",{className:"mb-4",children:[N("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"email"}),N("input",{value:t,onChange:a=>e(a.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"text",placeholder:"Enter your email...."})]}),N("div",{className:"flex items-center justify-between",children:q("button",{className:"flex items-center bg-indigo-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:[r&&q("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[N("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),N("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Forgot Password"]})})]}),N("p",{className:"text-center text-gray-500 text-xs",children:"2020 Acme Corp. All rights reserved."})]})}function s8(){let{authReady:t,user:e}=D.useContext(Fo),n=!!e;const r=H5([{path:"/",element:N(Kz,{}),children:[{path:"/home",element:n?N(bz,{}):N(Gs,{to:"/login"})},{path:"/create",element:n?N(I1,{}):N(Gs,{to:"/login"})},{path:"/edit/:id",element:n?N(I1,{}):N(Gs,{to:"/login"})},{path:"/search",element:n?N(qz,{}):N(Gs,{to:"/login"})},{path:"/books/:id",element:n?N(JH,{}):N(Gs,{to:"/login"})},{path:"/register",element:n?N(Gs,{to:"/home"}):N(e8,{})},{path:"/login",element:n?N(Gs,{to:"/home"}):N(r8,{})},{path:"/forgotpassword",element:N(i8,{})},{path:"*",element:N(Qz,{})}]}]);return t&&N(e6,{router:r})}Gm.createRoot(document.getElementById("root")).render(N(I3,{children:N(hM,{children:N(s8,{})})}))});export default o8();
